mstrmojo.EnumReadystate={IDLE:1,WAITING:3,ERROR:4,SUCCESS:5,CANCELLED:6,TIMEOUT:7};(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css");var J={T:["top","left"],D:["height","width"],B:["border","border-color","border-style","border-width"],F:["font","color","text-decoration"],P:["padding"]};J.RW=["z-index"].concat(J.T.concat(J.D));var E=mstrmojo.dom;function D(N,P,M){var O=N[P]||[];O.push(M);N[P]=O;}mstrmojo._Formattable={_mixinName:"mstrmojo._Formattable",formatHandlers:null,getCacheKey:function B(M){return"csscache"+(M.thresholdId||"");},update:function C(M){this.invisible=!!(M&&M.data&&M.data.invisible);if(this._super){this._super(M);}},preBuildRendering:function K(){if(this._super){this._super();}var M=this.defn;if(!M){M=this.defn={};}var Q=this.getCacheKey(this),Z=M[Q];if(!Z){Z=M[Q]={};var Y=this.getFormats();if(Y){var U=this.formatHandlers;for(var P in U){var g=U[P];var S=g.src?Y[g.src]:Y;if(!S){return ;}var X=[];var W=-1;var R=P+"CssText";var O=g.props||g;if(!O){continue;}for(var h=O.length-1;h>=0;h--){var a=O[h];var e=J[a]||[a];for(var V=e.length-1;V>=0;V--){a=e[V];if(a in S){if(a==="fx"){var d=S[a],N={};if("gd" in d){this.formatGradient(d.gd,N);}if("rt" in d){if(d.rt==1||d.rt==3){this.formatTextRotation(d.rt,N);}}if("ds" in d){this.formatDropShadow(d,N);}for(var T in N){X[++W]=T+":"+N[T].join(" ");}}else{X[++W]=a+":"+S[a];}}}}if(this.invisible){X.push("visibility:hidden");}this[R]=Z[R]=X.join(";")+";";}}}else{for(var b in Z){this[b]=Z[b];}}return true;},formatGradient:function G(M,O){var N=mstrmojo.css.buildGradient(M.t,M.sc,M.ec);if(N){D(O,N.n,N.v);}},formatDropShadow:function L(P,N){if(E.supports(E.cssFeatures.DROP_SHADOW)){var O=P.ds;if(E.isDXIE){D(N,"filter","progid:DXImageTransform.Microsoft.DropShadow(Color='#66000000',Positive='true',OffX="+O+",OffY="+O+")");}else{var M=[O,O];if(P.rt==1||P.rt==3){M[((P.rt===1)?1:0)]=-O;}D(N,(E.isWK?"-webkit-":"")+"box-shadow",M.join("px ")+"px 3px 0px #888");}}},formatTextRotation:function A(N,M){if(E.supports(E.cssFeatures.TEXT_ROTATION)){if(E.isDXIE){D(M,"filter","progid:DXImageTransform.Microsoft.BasicImage(rotation="+N+")");}else{var O=(N===1)?90:-90;D(M,E.CSS3_PREFIX+"transform-origin","top left");D(M,E.CSS3_PREFIX+"transform","rotate("+O+"deg)");}}},getFormats:function I(){if(!this.fmts){this.fmts=this.formatResolver.getFormat(this.defn,this.thresholdId);}return this.fmts;},clearCache:function F(){delete this.defn[this.getCacheKey(this)];},unrender:function H(M){if(this.thresholdId){this.fmts=null;}this._super(M);}};mstrmojo._Formattable.getBorderWidths=function(N){var P=N.getFormats(),M=("border" in P)?P.border.match(/(\d*|\d*\.\d*)pt/)[0]:P["border-width"],O=N.model.docModel?N.model.docModel.dpi:N.model.dpi;return mstrmojo.css.getBorderWidths(M,O);};})();(function(){mstrmojo.requiresCls("mstrmojo.EnumReadystate");var D=mstrmojo.EnumReadystate;var A=1200;var C=function(F,E){if(E){E.style.display=(F)?"block":"none";}};mstrmojo._HasWaitIcon={waitHandle:null,postBuildRendering:function B(){if(!this._rsl){var E=this.id;this._rsl=this.defn.attachEventListener("readyStateChange",E,function(G){if(!this.hasRendered){return ;}switch(G.value){case D.WAITING:if(!this.waitIcon){var H=document.createElement("div");H.className="mojo-overlay-wait";H.innerHTML='<div class="overlay"></div><div class="icon"></div>';this.domNode.appendChild(H);this.addSlots({waitIcon:H});}var F=this.waitIcon;if(A){this.waitHandle=window.setTimeout(function(){if(mstrmojo.all[E]){mstrmojo.all[E].waitHandle=null;}C(true,F);},A);}else{C(true,F);}break;case D.IDLE:if(this.waitHandle){window.clearTimeout(this.waitHandle);this.waitHandle=null;}C(false,this.waitIcon);break;}});}return this._super();}};}());(function(){mstrmojo.markup={apply:function B(E,G){var F=(/mstrmarkup\:markup/).test(E)?this.dhtml(E):E;return F.replace(this._REG_EXP_TOKENS,function H(I,J){return(J in G&&G[J]!==null)?G[J]:"";});},dhtml:function D(E){return(E||"").replace(/^<mstrmarkup:markup[^\>]*?\>/,"").replace(/<\/mstrmarkup:markup\>/,"");},slots:function C(H){var J={};function G(N){var O=N.getAttribute("mstrSlot");if(O){var L=O.split(/\s*,\s*/);for(var M=0,K=L.length;M<K;M++){J[L[M]]=N;}}}G(H);var E=H.getElementsByTagName("*");for(var F=0,I=E&&E.length||0;F<I;F++){G(E[F]);}return J;},_REG_EXP_TOKENS:/\{\@([^\}]+)\}/gm,useCache:false,methods:function A(G){var K=this.useCache&&this._findCache(G);if(K){return K;}var F={lookup:{},sequence:[]};var E=G&&G.match(/<mstrmarkup\:markup(.*?)\>/);if(!E){return F;}var H=E[1],I;while((I=H.match(/([^\s=]+)=\"([^\"]+)\"/m))){var J=I[1];F.lookup[J]=new Function(I[2]);F.sequence.push(J);H=H.substr(I.index+I[0].length);}if(this.useCache){this._writeCache(G,F);}return F;},_cache:[],_writeCache:function(E,F){this._cache.push({markup:E,data:F});},_findCache:function(F){var I=this._cache,G;for(var H=0,E=I.length;H<E;H++){if(I[H].markup==F){G=I[H];break;}}return G&&G.data;}};})();(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash");mstrmojo.touchManager=new mstrmojo.Obj({notify:function(s,t){return this.raiseEvent({name:"touchesBegin",srcId:s,touch:t});}});var V=mstrmojo.dom,o=V.attachEvent,p=V.detachEvent,B=Math,W=window.mstrConfig,Q=false,J=null,h=W&&W.allowDefaultTouches;var g=10,D=250,F=400,Y=100;var f="Begin",N="End",c="Move",S="Cancel";var l=1,m=2,C=3,P=4;var K={};K[l]="Select";K[m]="Swipe";K[C]="Multi";K[P]="Tap";o(document.body,V.TOUCHMOVE,function(s){if(!W||!W.allowDefaultTouches){if(s.preventDefault){s.preventDefault();return false;}}return true;});function X(s){var t=s.identifier;return(t===undefined)?1:t;}function j(v,w,u,t){if(Q){var s=(t)?X(t)+" ":"";window.console.log(v+":"+((u)?" "+u.scriptClass+" "+u.id:"")+" "+s+(w||""));}}function k(s){return(J===s);}function T(s){if(!k(s)){return ;}j("detachWinEvts","",s);p(window,V.TOUCHMOVE,s._tmCallback,true);p(window,V.TOUCHEND,s._teCallback,true);p(window,V.TOUCHCANCEL,s._teCallback,true);J=null;}function U(s){if(k(s)){return ;}var t=J;if(t){j("forced deactivation","",t);T(t);}j("attachWinEvts","",s);o(window,V.TOUCHMOVE,s._tmCallback,true);o(window,V.TOUCHEND,s._teCallback,true);o(window,V.TOUCHCANCEL,s._teCallback,true);J=s;}function M(t,s){return"touch"+((s&&K[s])||"")+(t||"");}function Z(u,v,t){var s=M(v,t);return(u[s]!==undefined)?s:"";}function n(v,x,y,u,t){t=t||v.gestures[y.id];var w=(t&&t.bubbleTarget)||v,s=Z(w,x,u);if(s){j("fire",s,w);y.methodName=s;return w[s](y);}j("no handler",M(x,u),w);return true;}function d(AA,AB,s,w){var x=s.pageX,v=s.pageY,y=AA.timeStamp,t=X(s),AF={x:B.round(x-AB.pageX),y:B.round(v-AB.pageY)};var AE={id:t,evt:AA,pageX:x,pageY:v,clientX:s.clientX,clientY:s.clientY,target:s.target,delta:AF,date:y,stop:function(){j("event stopped",t);AA.stopPropagation();AA.cancelBubble=true;}};if(w){var u=y-w.date,AD=w.delta,z={x:B.abs(AF.x-AD.x),y:B.abs(AF.y-AD.y)};AE.velocity={x:z.x/u,y:z.y/u};AE.isVertical=(z.y>z.x);AE.accelDelta=z;var AC=AE.direction={};if(x!==w.pageX){AC.x=(x<w.pageX);}else{if(x!==AB.pageX){AC.x=(x<AB.pageX);}}if(v!==w.pageY){AC.y=(v<w.pageY);}else{if(x!==AB.pageX){AC.y=(v<AB.pageY);}}}return AE;}function I(v,s,u,t){return{s:v,p1:s,p2:u,evt:t,target:t.target};}function L(t,s){if(t){t.gestures[s]=null;}}function a(t,s){T(t);n(t,N,s);}function G(s){if(s._selectHandle){window.clearTimeout(s._selectHandle);delete s._selectHandle;j("cancelSelect","",s);}}function H(y,AA){var w=AA.which;if(w&&w===3){j("ignore","right mouse click",y);return ;}var z=y.gestures,x=AA.touches||[AA],s=(AA.changedTouches&&AA.changedTouches[0])||AA,AD=k(y),AE=d(AA,s,s),AC=I(AE,AE,AE,AA);j("touchBegin","",y,s);if(x.length>1){if(!AD){AE.stop();j("ignore","cross widget multitouch",y,s);var v=J;if(v&&v.onCrossWidgetMultitouch!==undefined){j("call onCrossWidgetMultitouch for","",v);v.onCrossWidgetMultitouch();}return false;}}else{if(AD){j("forced deactivation","",y,s);T(y);AD=false;}}if(y.singleNode&&s.target!==y._tn){j("ignore","target is not touch node",y,s);return ;}if(mstrmojo.touchManager.notify(y.id,AE).ignore){AE.stop();return ;}if(!AD){var u=AE.target.tagName;u=u&&u.toLowerCase();if(u==="select"||u==="input"){j("ignore","target is input or select",y,s);if(y.monitorInputs){n(y,null,AE,P);}return ;}}z[AE.id]=AC;if(AD){if(!y.multiTouch){G(y);var t=x[x.length-2],AB=z[X(t)];n(y,S,t,AB.action,AB);}else{AC.action=C;if(y._singleTouch){G(y);y._singleTouch.action=C;delete y._singleTouch.bubbleTarget;delete y._singleTouch;n(y,f,AE,C);}}AE.stop();return ;}if(!V.contains(y._tn,AA.target,true,y.domNode)){delete z[AE.id];return ;}y._singleTouch=AC;if(n(y,f,AE)===false){return ;}AE.stop();if(Z(y,f,l)){y._selectHandle=window.setTimeout(function(){AC.action=l;if(n(y,f,AE,l)===false){a(y,AE);}delete y._selectHandle;},F);}U(y);}function q(w,x){var z=(x.changedTouches&&x.changedTouches[0])||x,t=w.gestures[X(z)];if(!t){return ;}var u=d(x,t.s,z,t.p2),v=t.action;t.p2=t.p1;t.p1=u;if(!v&&(B.abs(u.delta.x)>g||B.abs(u.delta.y)>g)){v=t.action=m;G(w);if(!Z(w,f,v)&&!Z(w,c,v)){u.methodName=M(f,v);return w.bubbleTouchEvent(u);}if(n(w,f,u,v)===false){a(w,u);return ;}}if(v){var s=t.lastMove||t.s.date,y=u.date-s;if(!mstrApp.isTouchApp()||y>=Y){t.lastMove=u.date;n(w,c,u,v);}}}function E(w,y){var s=(y.changedTouches&&y.changedTouches[0])||y,z=(y.touches&&y.touches.length)||0,x=w.gestures,AC=X(s),AB=x[AC];if(!AB){j("No gesture",AC,w,s);return ;}var v=AB.action,AD=d(y,AB.s,s,AB.p2);if(!v){G(w);if(!AB.wasMulti){v=P;}}if(z===0){T(w);w.gestures=[];j("gestures","clear all",w,s);}else{x[AC]=null;j("gestures","clear single",w,s);}L(AB.bubbleTarget,AC);switch(v){case m:case l:AD.stop();n(w,N,AD,v,AB);break;case C:if(z<2){n(w,N,AD,v,AB);if(z===1){var u=y.touches[0],AA=d(y,u,u),t=I(AA,AA,AA,y);t.wasMulti=true;x[X(u)]=t;w._singleTouch=t;}}if(z>0){return ;}break;case P:if(!Z(w,null,v)){break;}var AE=w._tapHandler;if(AE){window.clearTimeout(AE.h);}if(AD.date-AB.s.date<F){if(n(w,"Before",AD,v,AB)===false){break;}if(!w.multiTap){AD.count=1;n(w,null,AD,v,AB);}else{if(AE){AE.count++;}else{AE=w._tapHandler={count:1};}AE.h=window.setTimeout(function(){AD.count=AE.count;n(w,null,AD,v,AB);delete w._tapHandler;},D);}}else{delete w._tapHandler;}break;}n(w,N,AD,undefined,AB);}function b(t){var s=t._tn;if(!s){return ;}if(!t._tmCallback){t._tsCallback=function(u){H(t,u);};t._tmCallback=function(u){q(t,u);};t._teCallback=function(u){E(t,u);};}o(s,V.TOUCHSTART,t._tsCallback);}mstrmojo._TouchGestures=mstrmojo.provide("mstrmojo._TouchGestures",{_mixinName:"mstrmojo._TouchGestures",singleNode:false,multiTouch:false,touchNode:null,multiTap:false,monitorInputs:false,postBuildRendering:function O(){if(this._super){this._super();}this._tn=this.touchNode||this.domNode;this.gestures=[];b(this);},bubbleTouchEvent:function e(y){var v=y.methodName,s=y.id,t=this.gestures[s],u=this.parent;while(u){var x=u[v],w=u.touchBegin;if(x&&(!w||n(u,f,y)!==false)){y.methodName=v;L(t.bubbleTarget,s);t.bubbleTarget=u;u.gestures[s]=t;j("bubble",((this.k)?" "+this.k:"")+"] bubbled "+v+" to ["+u.scriptClass+((u.k)?" "+u.k:"")+"]",this,y);return x.call(u,y);}u=u.parent;}return false;},unrender:function A(t){if(k(this)){T(this);}var s=this._tn;if(s){V.detachEvent(s,V.TOUCHSTART,this._tsCallback);}this._super(t);},restoreDefaultTouches:function R(s){if(W){W.allowDefaultTouches=s&&h;}}});}());(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.hash","mstrmojo.dom","mstrmojo.array");var Q=Math,V=mstrmojo.publisher.hasSubs,P=mstrmojo.hash,U=P.forEach,b=mstrmojo.dom;var S=0.15;var e=1,T=2;var B={y:{edge:["top","bottom"],size:0},x:{edge:["left","right"],size:0},clsName:"mstrmojo-touch-scroll-indicator",init:function Z(){var j=this.y,h=this.x;if(!j.i){var k=j.i=document.createElement("div");k.className=this.clsName;var l=h.i=k.cloneNode();document.body.appendChild(k);document.body.appendChild(l);}},setGradient:function a(p,k,q,m){var o=p.i,j=p.edge[(k)?1:0];var n=Q.min(Q.round(Q.min(Q.abs(q)/200,1)*100),m/2),h="left top",l="left bottom";if(k){l=h;if(j==="bottom"){h="left bottom";}else{h="right top";}}else{if(j==="left"){l="right top";}}if(n!==p.size){o.style.background="-webkit-gradient(linear, "+h+", "+l+", from(rgba(39, 104, 162, .4)), to(rgba(39, 104, 162, 0)), color-stop("+(n/100)+", rgba(39, 104, 162, 0)))";p.size=n;}},scrollAxis:function D(l,v,n,t,k){var AA=v-n,j=k[l]=(AA!==0);if(!j){this.hide(l);return ;}var o=this[l],s=o.i,h=s.style,p=(l==="y"),q=(AA>0),u=this.clsName+" "+o.edge[(q)?1:0];if(!o.size||s.className!==u){s.className=u;var w="px",AB=3,x=t.y,m=t.x,y=100,z=t.w;if(p){if(q){x+=t.h-y-AB;}}else{z=y;y=t.h;if(q){m+=t.w-z-AB;}}h.top=x+w;h.left=m+w;h.width=z+w;h.height=y+w;h.display="block";}this.setGradient(o,q,AA,(p)?t.h:t.w);},scroll:function D(l,k,o,n,s){var q=k.x,p=k.y;if(q!==o||p!==n){this.init();var m=this._widgetPosition;if(!m){var h=l.indicatorEl||s;m=mstrmojo.dom.position(h.parentNode);}var j=l._outOfBounds||{};this.scrollAxis("y",p,n,m,j);this.scrollAxis("x",q,o,m,j);this._widgetPosition=m;l._outOfBounds=j;}else{this.hideAll();delete l._outOfBounds;}},hide:function L(j){var h=this[j];if(h.size!==undefined){h.i.style.display="none";h.i.className=this.clsName;h.size=0;}},hideAll:function c(){this.hide("y");this.hide("x");delete this._widgetPosition;}};function X(h,j){return(j)?Q.max(Q.min(Q.round(h),j.end),j.start):h;}function N(h,k,j){j.name=k;j.id=h.identifier;h.raiseEvent(j);}function F(){var j="scrollDone",h=this.origin;if(V(this.id,j)&&h){N(this,j,{x:h.x,y:h.y});}this.stopDeceleration();}function H(k,j,n){var m=k.scrollEl;if(!m){F.call(k);return ;}var l={x:j.x||0,y:j.y||0};U(k._scrollBarEls,function(AA,u){var AF=(u==="x"),z=l[u],o=AA.length,AB=AA.ratio,x=AA.viewportSize,t=6/o,s=AA["base"+((AF)?"Left":"Top")],y=s+x-o,q=Q.round(s+(AB*z));if(q<s){q=s-z;o+=z;}else{if(q>y){var AE=(z-k.offset[u].end)*AB;q=Q.min(y+AE,x+s-6)-1;o-=AE;}}var AD=0,p=[AD,AD,AD],w=[1,1,1],AC=(AF)?0:1;p[AC]=(q-s);w[AC]=Q.min(Q.max(o/AA.length,t),1);b.translate(AA,p[0],p[1],p[2]," scale3d("+w.join(",")+")");});if(n){n+="ms";}if(k._isHosted){var h=m.parentNode;h.scrollTop=l.y;h.scrollLeft=l.x;}else{m.style[b.CSS3_TRANSITION_DURATION]=n||"0";b.translate(m,-l.x,-l.y,0,k.transform,k.useTranslate3d);}if(V(k.id,"scrollMoved")){N(k,"scrollMoved",{x:j.x,y:j.y});}}function I(h,j,k){return Q.ceil(1+Q.log(h/Q.abs(j))/Q.log(1-k));}function E(h,m,k,j,l){return h+(m*(k*(1-Q.pow(1-l,j))/l));}function M(AF,AP,n,AL,x,AK,t){var s=AF.offset[n];if(!s){return AP;}var m=AF._outOfBounds,j=m&&m[n],v=s.incFetch,w=AF.friction,q=s.start,p=s.end,AG=(AL)?p:q;x=Q.abs(x);if(j){AL=(AP<q);AG=(AL)?q:p;}var AO=(AL)?1:-1;if(j&&(AL||!v)){var u=S*3,AN=1/(1-w),l=u/Q.pow((1-w),(Q.log(1-Q.abs(AP-AG)*(1-AN)/u)/Q.log(AN))-1);var AD=Q.round(E(AP,AO,l,AK,w));if(AL?(AD>=AG):(AD<=AG)){F.call(AF);return AG;}return AD;}var AJ=s.pageSize,AI=s.supportedEdges;var o=E(AP,AO,x,AK,w),y=(o<=q),k=(o>=p);if(y||k){if(v&&((y&&((AI&e)>0))||(k&&((AI&T)>0)))){if(o-p>=AJ){o=p+AJ;AG=o;}if(!AF.STATUS_INC_FETCH){AF.STATUS_INC_FETCH=true;N(AF,"incFetch",{edge:k?T:e});}}else{if(AF.bounces){var AM=w*2,z=AF.bounceVelocity,h=AF.bounceTime,AH=AF.bounceDistance;if(!AF.hasBounced){z[n]=Q.abs(S/Q.pow(1-w,t-AK-1));h[n]=I(S,z[n],AM);AH[n]=Q.abs(E(o,AO,z[n],h[n],AM)-o);AF.raiseEvent({name:"bounceOut",id:AF.identifier,axis:n,direction:AL,value:Q.round(o)});AF.hasBounced=true;}var AC=Math.floor(AH[n]/2);var AB=E(AG,AO,z[n],AK,AM),AE=Q.abs(AB-AG);if(Q.abs(AE)<AC){return AB;}if(Q.abs(AE)>=AH[n]){F.call(AF);return AG;}var AA=AC-(AE-AC);return Q.round(AG-((AL)?-AA:AA));}o=AG;}}return Q.round(o);}function O(j){var h=this._scrollListener;if(h){if(!j||j!==h.el){b.detachEvent(h.el,"scroll",h.fn);delete this._scrollListener;return true;}return false;}return true;}var R=mstrmojo.TouchScroller=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.TouchScroller",scrollEl:null,identifier:"",hScroll:false,vScroll:false,offset:null,origin:null,transform:"",friction:0.0015,frameRate:60,bounces:true,hasBounced:false,bounceDistance:{},bounceTime:{},bounceVelocity:{},showScrollbars:false,showIndicators:true,useTranslate3d:true,STATUS_INC_FETCH:false,init:function Z(h){this._super(h);B.init();},initScroller:function Y(j){P.copy(j,this);var m=this.scrollEl;if(m){var l=this._isHosted=false;if(l){var h=m.parentNode;if(O.call(this,h)){h.style.overflow="auto";var n=this.id,k=this._scrollListener={el:h,fn:function(o){var p=mstrmojo.all[n].origin,q=o.target;p.x=q.scrollLeft;p.y=q.scrollTop;}};b.attachEvent(h,"scroll",k.fn);}this.showScrollbars=false;}}},canScroll:function K(){return this.vScroll||this.hScroll;},updateScrollBars:function G(p,l){var n=this.scrollEl;if(!this.showScrollbars||!n){return ;}var j=this._scrollBarEls;if(!j){var m=this;j=this._scrollBarEls={x:"hScroll",y:"vScroll"};U(j,function(q,s){if(m[q]){var t=document.createElement("div");t.className="mstrmojo-touch-scrollBar "+s+"Axis";(l||n.parentNode).appendChild(t);j[s]=t;}else{delete j[s];}});}if(!p){var h=this.scrollEl.parentNode;p={top:0,right:h.clientWidth,bottom:h.clientHeight,left:0};}var o=9,k={x:{left:p.left,top:p.bottom-o,x:p.right-p.left,d:"Width"},y:{left:p.right-o,top:p.top,x:p.bottom-p.top,d:"Height"}};U(j,function(w,t){var AC=w.style,AA=k[t],u=AA.d,v=w.parentNode,AB=AA.x;var s=AA.left,z=AA.top,y=AB/n["offset"+u],q=Math.min(Math.round(AB*y),AB);w.baseLeft=s;w.baseTop=z;w.ratio=y;w.viewportSize=AB;w.length=q;AC.left=s+"px";AC.top=z+"px";AC[u.toLowerCase()]=q+"px";});},toggleScrollBars:function C(h){U(this._scrollBarEls,function(j){j.style.opacity=(h)?1:0;});},scrollTo:function(j,n,l){if(!this.canScroll()&&!(j===0&&n===0)){H(this,{x:0,y:0});return ;}var m=this.offset,k=this.origin,h={x:(this.hScroll)?X(j,m.x):0,y:(this.vScroll)?X(n,m.y):0};H(this,h,l);k.x=h.x;k.y=h.y;},scrollToEnd:function(j,n,l){var k=this.origin,m=this.offset,h={x:0,y:0};if(k&&m){mstrmojo.array.forEach([j,n],function(p,o){var s=(o)?"y":"x",q=m[s];h[s]=(p)?(q&&q.end)||0:k[s];});}this.scrollTo(h.x,h.y,l);},scroll:function D(n){if(this._isHosted){return ;}var l=this.offset,v=this.scrollEl,x=n.delta,y=x.x,w=x.y;if(!v){return ;}if(!l&&this.showIndicators){B.scroll(this,{x:(this.noHScroll)?0:-y,y:(this.noVScroll)?0:-w},0,0,v);return ;}var u=this.origin,o={x:(this.hScroll)?Q.round(u.x-y):0,y:(this.vScroll)?Q.round(u.y-w):0},s=X(o.x,l.x),q=X(o.y,l.y);if(!l.scrollPast){if(this.showIndicators){B.scroll(this,o,s,q,v);}o.x=s;o.y=q;}else{var m=(s!==o.x),p=(q!==o.y),h=(m||p),k=this._outOfBounds,j="";if(k){if(m!==(k.x===true)||p!==(k.y===true)){j="scrollIn";}}else{if(h){j="scrollOut";}}if(j){if(V(this.id,j)){var t=n.direction;N(this,j,{x:{position:o.x,direction:t.x},y:{position:o.y,direction:t.y}});}if(h){this._outOfBounds={x:m,y:p};}else{delete this._outOfBounds;}}}H(this,o);},scrollEnd:function W(w){B.hideAll();if(!this.canScroll()||this._isHosted){return ;}var AE=this.id,x=this.friction,AM=1/(1-x),AF=this.origin,l=w.velocity,AK=w.direction,AD=new Date(),m=this._outOfBounds,t=this.offset,AL={x:this.hScroll,y:this.vScroll},y={},AO={},AN={},u={},o={},v={},q={},p={},AH={},AJ=function(AR){v[AR]=S;var AQ=t[AR],AP=(m&&m[AR]),AS=(AP&&(!AQ||!t.scrollPast));AO[AR]=(AL[AR]&&!AS)?AF[AR]-w.delta[AR]:AF[AR];if(AQ){q[AR]=AQ.start;p[AR]=AQ.end;if(AP){if(!AS){AK[AR]=(AO[AR]<q[AR]);AH[AR]=(AK[AR])?q[AR]:p[AR];if(AK[AR]||!AQ.incFetch){v[AR]=S*3;l[AR]=v[AR]/Q.pow((1-x),(Q.log(1-Q.abs(AO[AR]-AH[AR])*(1-AM)/v[AR])/Q.log(AM))-1);}}else{AO[AR]=X(AF[AR]-w.delta[AR],AQ);}}}y[AR]=(AL[AR]&&!AS)?Q.abs(l[AR]):0;AN[AR]=(AK[AR]||false)?1:-1;u[AR]=I(v[AR],y[AR],x);o[AR]=E(AO[AR],AN[AR],y[AR],u[AR],x);};AJ("x");AJ("y");AF.x=AO.x;AF.y=AO.y;var AB=(y.x>0),AA=(y.y>0);if(!t.scrollPast&&!AB&&!AA){F.call(this);var n,AG,z,k,AI;for(n in t){AG=t[n];AI=AG.supportedEdges;z=((AG.start===AO[n])&&((AI&e)>0));k=((AG.end===AO[n])&&((AI&T)>0));if(AG.incFetch&&(z||k)){this.STATUS_INC_FETCH=true;N(this,"incFetch",{edge:(k)?T:e});}}return ;}this.hasBounced=false;this.bounceDistance={};this.bounceTime={};this.bounceVelocity={};this.decelerating=true;var j=Math.round(1000/this.frameRate),s=AD,AC,h={x:AB,y:AA};this.decelerationTimer=window.setTimeout(function(){var AP=mstrmojo.all[AE],AQ=AP.origin,AU=new Date(),AV=(AU-AD),AT;if(AP._halt){F.call(AP);return ;}AC=AU-s;s=AU;if(AC>(j+5)){j=j+Q.round((AC-j)/2);}for(AT in h){if(h[AT]){var AS=M(AP,AO[AT],AT,AK[AT],y[AT],AV,u[AT]);if(!isNaN(AS)){AQ[AT]=AS;}}}H(AP,AQ);var AR=(AV>u.x&&AV>u.y);if(!AR&&!AP.bounces){AR=true;mstrmojo.hash.forEach(t,function(AY,AX){var AW=AQ[AX];if(AW!==AY.end&&AW!==AY.start){AR=false;return false;}});}if(AR){F.call(AP);}else{if(AP.decelerating){AP.decelerationTimer=window.setTimeout(arguments.callee,j);}}},j);},stopDeceleration:function A(){var h=!!this.decelerating;if(h){if(this.decelerationTimer){window.clearTimeout(this.decelerationTimer);delete this.decelerationTimer;}delete this.decelerating;this.toggleScrollBars(false);}delete this._outOfBounds;delete this.hasBounced;delete this.bounceDistance;delete this.bounceTime;delete this.bounceVelocity;delete this._halt;return h;},haltScroller:function J(){this._halt=!!this.decelerating;},unrender:function d(){delete this.scrollEl;},destroy:function f(){this.stopDeceleration();O.call(this);this._super();}});mstrmojo.TouchScroller.getScrollPositionTotals=function g(m){var k=m.parent,h=m._scroller,j=mstrmojo.hash.copy((h&&h.origin)||{x:0,y:0});if(k){var l=mstrmojo.TouchScroller.getScrollPositionTotals(k);j.x+=l.x;j.y+=l.y;}return j;};mstrmojo.TouchScroller.ScrollIndicators=B;R.EnumIncFetchEdges={start:e,end:T};}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo._TouchGestures","mstrmojo.TouchScroller");var c=mstrmojo.array.forEach,S=mstrmojo.hash.forEach,Y=mstrmojo.dom;function M(e,f){var d;for(d in e){Y.translate(e[d],f[0],f[1],f[2]);}}function P(e){var d=Math.abs;return{x:(d(e.accelDelta.x)<d(e.accelDelta.y)),y:(d(e.accelDelta.y)<d(e.accelDelta.x))};}function I(d,f){d.raiseEvent({name:"scrolledOut",value:f.value,axis:f.axis,direction:f.direction});}function O(e,j,m,k,n,d,g,f){var l=new mstrmojo.TouchScroller({scrollEl:e,vScroll:m,hScroll:k,frameRate:n,showScrollbars:d,offset:j,origin:{x:0,y:0},bounces:false,useTranslate3d:false,indicatorEl:f});if(g){l.friction=g;}return l;}function B(d){var e;for(e in d){if(d[e].decelerating){d[e].stopDeceleration();}}}var Q={x:false,y:false};function T(){var d=Q;if(!d.x){return"x";}if(!d.y){return"y";}return null;}var N={x:false,y:false};function L(h,j){var f=T(),g=h.scrollerConfig.scrollPast;if(!f||!g){return !!f&&!g;}function e(l){var d=h.viewport,k=h._TSN[l],p=h._scroller[l],q=h.tPos[l],m=j[l],s=N[l],n=(l==="x")?"y":"x",u=h._scroller[n],t=N[n],o;if(!u[0].decelerating&&t){e(n);}if(q<=0&&m>0){if(!s){if(t){return false;}M(k,[0,0,0]);for(o in p){p[o].scrollEl=d;}N[l]=true;}}else{if(s){M([d],[0,0,0]);for(o in p){p[o].scrollEl=k[o];}N[l]=false;}}return true;}return e(f);}function E(l,d){var h=d.axis,g=l.scrollboxHeightFixed,k=d.name;if(l.ss){var j=l.zones._BR.getRowInfoByPosition(d[h]);j.position=d[h];l.ss.onMove(j);}l.tPos[h]=d[h];if(k==="scrollDone"){S(l._scroller,function(m){c(m,function(n){n.toggleScrollBars(false);});});if(!L(l,d)){return true;}}if(h==="y"){var f=function(m){if(!l._isDownloading&&(-m<=l._TMAX[h])){if(l.onScrolledToLastRow){l.onScrolledToLastRow();}}};if(k==="scrollDone"){delete l._isDecelerating;if(l._cachedDownload){l.dataDownloaded();}else{f(d.y);}if(g){var e=d.y;l.notifyScrollListeners({x:d.x,y:Math.max(e,0)});}}else{if(k==="scrollDecel"){l._isDecelerating=true;f(d.fY);if(g){l.notifyScrollListeners({x:d.fX,y:d.fY});}}else{if(k==="scrollOut"){l._isDecelerating=true;f(d.y.position);}}}}}function H(g,f){var d=Math.abs,h={};var e=h[f]={start:g._TMIN[f],end:d(g._TMAX[f])};h.scrollPast=g.scrollerConfig.scrollPast;if(f==="y"){if(g.useSeamlessIncFetch){e.incFetch=!g.endFetching;e.pageSize=g.scrollboxHeight-((parseInt(g.gridData.rh,10)||25)*4);}}return h;}function V(d){d._scroller={x:[],y:[]};var e=d._viewportCoords;S(d._TSN,function(h,j){var m=H(d,j),k=(j==="y"),l=(j==="x"),f=h.length;c(h,function(q,p){var o=O(q,m,k,l,d.frameRate,(p===f-1)&&d.scrollerConfig.showScrollbars,d.scrollerFriction,d.domNode);o.updateScrollBars(e,d.domNode);d._scroller[j][p]=o;});var n=d._scroller[j][0],g=["scrollDone","scrollMoved"];if(n){if(k){g=g.concat(["scrollDecel","scrollOut"]);}c(g,function(o){n.attachEventListener(o,d.id,function(p){p.axis=j;E(d,p);});});}});}function A(e){if(this.hasRendered){this[e+"Limit"]=parseInt(this[e],10);if(this.zones){var d=this;window.setTimeout(function(){if(d.hasRendered){d.setOffsets();d.setupScrollers();}},0);}}}mstrmojo._HasXtabTouchScroll=mstrmojo.provide("mstrmojo._HasXtabTouchScroll",{noScrolling:false,useTouchScrolling:true,scrollerConfig:{showScrollbars:false,scrollPast:false},_TSN:null,tPos:{x:0,y:0},_TMIN:{x:0,y:0},setupTNs:function R(){this._TSN.x=this._TSN.y=[this.domNode];},touchBegin:function W(h){if(!this.noScrolling){h.stop();if(!this._isDownloading){if(this.toolbarMgr){this.toolbarMgr.closeToolbar();}var g=this._scroller,e=this._TMIN,d=this._TMAX;S(this.tPos,function(j,k){if(j>=e[k]&&j<=Math.abs(d[k])){B(g[k]);}});}var f=this._scroller.x;S(f,function(j){j.origin.x=f[0].origin.x;});}return true;},touchSwipeBegin:function U(k){if(this.noScrolling){return this.bubbleTouchEvent(k);}if(this._isDownloading){return false;}Q=P(k);var f=Q.y?"x":"y",d=this._scroller[f][0],h=d.offset,g=h[f][k.direction[f]?"end":"start"];if(!h.scrollPast&&g===d.origin[f]){var j=this.bubbleTouchEvent(k);if(j!==undefined){return j;}}var e=this._scroller;if(!L(this,k.delta)){return true;}if(!Q.x){B(e.x);}if(!Q.y){B(e.y);}S(this._scroller,function(m,l){if(!Q[l]){c(m,function(n){n.toggleScrollBars(true);});}});return true;},touchSwipeMove:function D(e){if(!L(this,e.delta)){return true;}var d=this._scroller;c(["x","y"],function(f){if(!Q[f]){S(d[f],function(g){g.scroll(e);});}});},touchSwipeEnd:function X(k){var e=Q,g=null,j=k.delta,h=k.direction;if(!e.x&&j.x!==0){g="x";h=h.x?"left":"right";}if(!e.y&&j.y!==0){g="y";h=h.y?"up":"down";}if(g){I(this,{axis:g,value:this.tPos[g],direction:h});var d=this._scroller[g],f;if(!e[g]){for(f in d){d[f].scrollEnd(k);}}}},gridPagesRendered:function C(){if(this._super){this._super();}this.setOffsets();},renderEmptyGrid:function F(){if(this._super){this._super();}this.noScrolling=true;},postBuildRendering:function a(){if(this._super){this._super();}if(this.zones&&!this.gridData.eg){var d=this;window.setTimeout(function(){if(d.hasRendered){d._TSN={x:[],y:[]};d.setupTNs();d.setupScrollers();}},0);}},setOffsets:function b(){var g=this,f=this.domNode,e=this.zones,j=e._TR,d=e._BL,h=(!this.isFullScreenWidget&&this.isDocXtab),k=this._viewportCoords={top:j?j.cp.rc*parseInt(this.gridData.rh,10):0,right:h?this.widthLimit:parseInt(this.width,10),bottom:h?this.heightLimit:parseInt(this.height,10),left:d?d.totalColWidth:0};S(this._scroller,function(m,l){c(m,function(n){n.offset=H(g,l);n.updateScrollBars(k,f);var o=n.origin;if(o){n.scrollTo(o.x,o.y);}});});},setupScrollers:function G(){var f=this.gridData,e=this._TMAX,d=this.noScrolling=((f&&f.co)||(!this.scrollerConfig.scrollPast&&e.x===0&&e.y===0));if(!d&&!this._scroller){N={x:false,y:false};M(this._TSN.x,[0,0,0]);M(this._TSN.y,[0,0,0]);V(this);}},onwidthChange:function K(){A.call(this,"width");if(this._super){this._super();}},onheightChange:function J(){A.call(this,"height");if(this._super){this._super();}},unrender:function Z(d){S(this._scroller,function(e){c(e,function(f){f.destroy();});});delete this._scroller;if(this._super){this._super(d);}}});}());(function(){var Q="<tr>";var Y=['<table cellspacing="0" cellpadding="0" style="table-layout:',null,";width:",null,';mstr-tablestyle-slot" ',null,">",null,"<tbody>"];var T="&nbsp;";var I="fsbp_1 ";var X="fsbp_2 ";var B="fsbp_3 ";var V=1,W=2,F=3,K=4,A=5,S={1:" stack-top",2:" stack-middle",3:" stack-bottom",4:" no-stack",5:" stack-full"};var Z=mstrmojo.css;var L=4;function E(f,e){for(var g=0,b=f.length;g<b;g++){var j=f[g];var h=e.rows[j.rows].cells[j.cells];if(h){mstrmojo.css.addClass(h,I);}}}mstrmojo.requiresCls("mstrmojo.Widget");mstrmojo.GridBase=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.GridBase",markupString:'<span id="{@id}" class="mstrmojo-Grid {@cssClass}" style="{@cssText}"></span>',markupSlots:{gridContainerNode:function(){return this.domNode;}},autoFitWindow:false,tableLayout:null,numAutoHeightRows:0,cp:null,rc:0,cc:0,cws:null,rh:null,totalColWidth:0,start:0,end:0,forceFixedSizes:true,hiliteCellsMap:null,eiMap:null,init:function J(b){this._super(b);},numColumnCanMerge:0,preBuildRendering:function D(b){var c=this.cp;if(!c){return ;}c.initContent();this.rc=c.rc||0;this.cws=c.colWidths||[];this.cc=this.cws.length;this.tdWidths=c.tdWidths||[];this.tdCnt=this.tdWidths?this.tdWidths.length:0;this.start=0;this.end=this.rc-1;this.numAutoHeightRows=c.getNumAutoHeightRows&&c.getNumAutoHeightRows()||0;this.hiliteCellsMap={};this.eiMap={};this.posMap=[];this.thPosMap=[];this.totalColWidth=0;},buildRendering:function H(c){var b=this._super(c);this.renderGrid();return b;},renderGrid:function R(c){var b=this.getGridContainer();this.preBuildGridTable();this.buildGridTable(b,c);this.postBuildGridTable();},getGridContainer:function a(){return this.gridContainerNode;},buildGridTable:function G(d,b){var c=this.getTableStartMarkup();var k=this.getTableEndMarkup();if(b){this.mergeHdrsAcrossBlks=true;}var h=this.buildTableRowsMarkup(this.start,this.end,c,k).join("");if(b){var f=document.createElement("div");f.innerHTML=h;var j=d.firstChild,l=j&&j.tBodies,e=f.firstChild.tBodies[0],g=this.matchedHdrsAcrossBlks;j.appendChild(e);if(g&&g.length>0){E(g,l[l.length-2]);}}else{d.innerHTML=h;}},getTableStartMarkup:function O(){var c=this._getGridWidths(),b=Y;b[1]=c.tableLayout;b[3]=c.totalColWidths;b[5]=this.tableCssClass?"class="+this.tableCssClass:"";b[7]="<colgroup>"+c.colgroup+"</colgroup>";if(this.tbodyStyle){b[8]='<tbody style="'+this.tbodyStyle+'">';}return b.join("");},getTableEndMarkup:function N(){return"</tbody></table>";},_getGridWidths:function U(){var k={};var f="",d=[],j="fixed",c=this.cws,g=c.length;if(g){f=0;d=[];for(var e=0;e<g;e++){if(c[e].w!==""){f+=parseInt(c[e].w,10);}}for(e=0;e<g;e++){var b=c[e];if(b.w!==""){var h=parseInt(b.w,10);if(mstrmojo.dom.isIE7){if(h===0){d.push('<col style="width:0%;display:none"></col>');}else{d.push('<col style="width:'+(h/f*100)+'%"></col>');}}else{if(mstrmojo.dom.isWK&&h===0){d.push('<col style="width:-1px"></col>');}else{d.push('<col style="width:'+b.w+'"></col>');}}}else{d.push("<col />");j="auto";}}this.totalColWidth=f;}k.colgroup=d.join("");j=this.tableLayout||j;if(this.autoFitWindow){j=this.tableLayout||j||"fixed";f="100%";}else{if(j=="fixed"){f+="px";}else{f="auto";}}k.totalColWidths=f;k.tableLayout=j;return k;},_CELL_MARKUP:['<td rowSpan="',null,'" colSpan="',null,'" class="',null,'" ei="',null,'" style="',null,'" r="',null,'">',null,"</td>"],buildTableRowsMarkup:function P(u,g,AT,d){var AH=[],AR=0;AH[AR++]=AT||"<table><tbody>";var w=this.cp,AB=w.getRowHeight(),AP=this._CELL_MARKUP,AG=AB?'<tr style="height:'+(AB?AB+"px":"")+'">':Q;var f=true,s=true,AN=[],AJ;this.matchedHdrsAcrossBlks=[];for(var AK=u;AK<=g;AK++){AJ=AR++;AH[AJ]=AK<this.numAutoHeightRows?Q:AG;var l=w.getRowCells(AK);var AF=g+1-AK;var AE=0;if(!this.mergeHdrsAcrossBlks){if(f&&u>0&&l.length<w.colWidths.length){var AD=w.getUnmergedCells(u);if(AD){AE=AD.length;}for(var AQ in AD){var AM=AD[AQ];if(AM.rs>AF){AP[1]=AF;AP[5]=X+AM.css;}else{AP[1]=AM.rs||1;AP[5]=B+AM.css;}if(AM.cet){AP[5]+=" mstrmojo-selected-cell";this.addHilitePosition(AM.cet,AK,AQ);}if(AM._ei){this.addExtraInfoMap(AM._ei,AK,AQ);AP[5]+=" pt";}AP[9]="";AP[13]=T;AP[3]=AM.cs;AP[7]=AM._ei!==undefined?AM._ei:"";AH[AR++]=AP.join("");}f=false;}}for(var AS=0,h=l.length;AS<h;AS++){var z=l[AS],AA;if(z.rs&&z.rs>AF){AP[1]=AF;AP[5]=I+z.css;if(z._ei){this.addExtraInfoMap(z._ei,AK,AS);}}else{AP[1]=z.rs||1;AP[5]=z.css;}if(z.rowType!==V){AP[5]+=" xtab-td ";}if(z.cet){AP[5]+="sc_"+this.parent.k;this.addHilitePosition(z.cet,AK,AS);}AA=z.rowType;if(AA){AP[5]+=S[AA]||"";var k=w.getRowHeight(AA);if(k){AH[AJ]='<tr style="height:'+(k?k+"px":"")+'">';}}AP[3]=z.cs||1;AP[7]=z._ei!==undefined?z._ei:"";if(z.fs||z._e){this.addTitleHeaderPositionMap(AK,AS+AE,z);}if(z._ei!=null){this.addPositionMap(z._ei,AK,AS+AE);}AP[11]=AK;if(z.ts===L){var o=z.v;if(this.imgCacheMap){var AO=this.imgCacheMap,AI=o&&o.replace(/\\/g,"/");if(AO.cachedImg[AI]){z.v=o=AO.baseURL+AO.cachedImg[AI];}else{if(AI&&!AO.unCachedImg[AI]){AO.unCachedImg[AI]=AI;}}}else{var e=this.parent&&this.parent.controller&&this.parent.controller.model&&this.parent.controller.model.dataService;if(e&&e.getImage){o=e.getImage(o);}}if(z.rowType){var b=(w.getRowHeight(z.rowType)||w.rh||AB),AL=b,t=this.tdWidths,AC=z.colIdx,x=0;if(AC!=="undefined"&&AC>-1&&t&&t.length>AC){var n=t[AC]&&t[AC].w;if(n!=="undefined"){x=parseInt(n,10);}}var q=x>30?(x-30):0;AP[13]='<div><div style="top:'+(-parseInt(AL/2,10))+"px;height:"+b+"px;line-height:"+b+'px !important;">&nbsp;<img style="max-height:'+b+"px; max-width: "+q+'px;" src="'+o+'"></img></div></div>';}else{if(this.parent.gridData.lhv){AP[9]="background-image:url('"+o+"');background-repeat:no-repeat;background-position:center "+(z.rs>1?"top":"center")+";";AP[13]=T;}else{AP[9]="";AP[13]='<img src="'+o+'"></img>';if(z.css&&z.css.indexOf("hl")>-1){AP[13]="<span>"+AP[13]+"</span>";}}}}else{AP[9]="";AP[13]=z.v||z.n||T;if(z.css&&z.css.indexOf("hl")>-1){AP[13]="<span>"+AP[13]+"</span>";}}if(AS<this.numColumnCanMerge){if(AK===u&&this.mergeHdrsAcrossBlks){var y=this.rowHdsAcrossBlks;if(s&&z.v&&y&&y[AS]){if(z.v===y[AS].v){AP[1]=z.rs||1;AP[5]=B+z.css;AP[13]="";this.matchedHdrsAcrossBlks.push(y[AS]);}else{s=false;}}}if(AP[1]>=AF&&z.v){AN.push({rows:AK-u,cells:AS,v:z.v});}}AH[AR++]=AP.join("");}AH[AR++]="</tr>";}AH[AR++]=d||"</tbody></table>";this.rowHdsAcrossBlks=AN;return AH;},addHilitePosition:function(c,d,b){var e=this.hiliteCellsMap[c];if(!e){this.hiliteCellsMap[c]={pos:[],nodes:[]};}this.hiliteCellsMap[c].pos.push({row:d,cell:b,page:0});},addExtraInfoMap:function(d,b,e){if(!this.eiMap[d]){this.eiMap[d]=[];}this.eiMap[d].push({row:b,cell:e,page:0});},addPositionMap:function(d,b,e){if(!this.posMap[d]){this.posMap[d]={row:b,cell:e,page:0};}},addTitleHeaderPositionMap:function(b,e,d){this.thPosMap.push({row:b,cell:e,page:0,obj:d});},clearHilites:function(k){var e=this.hiliteCellsMap[k],f=e&&e.nodes,h=this.parent;if(f){if(f.length==0&&e.pos){f=this.getNodesByPositions(e.pos);}for(var d=0,b=f.length;d<b;d++){var c=f[d],g=c.className,j=h.getCellForNode(c);if(j){delete j.cet;}Z.removeClass(c,"sc_"+h.k);}this.hiliteCellsMap[k].nodes=[];}},setHilites:function(c,d){Z.addClass(d,"sc_"+this.parent.k);if(!this.hiliteCellsMap[c]){this.hiliteCellsMap[c]={pos:[],nodes:[]};}this.hiliteCellsMap[c].nodes.push(d);var b=this.parent.getCellForNode(d);if(b){b.cet=c;}},getNodesByPositions:function(f){var e=this.tableNode,b=[];for(var d in f){var c=f[d];b.push(e.tBodies[0].rows[c.row].cells[c.cell]);}return b;},preBuildGridTable:function C(){},postBuildGridTable:function M(){this.addSlots({tableNode:this.gridContainerNode&&this.gridContainerNode.firstChild});}});})();(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.color","mstrmojo.css","mstrmojo.GridBase");var V=mstrmojo.css,M=mstrmojo.color;function C(b,c){var d=b&&b.parent;while(d&&d.scriptClass.indexOf("DocPanelStack")===-1){if(c in d){return d;}d=d.parent;}return null;}function B(c){var b=document.createElement("img");c.appendChild(b);c.removeChild(b);}function E(b,c){var d=Math.floor(b/c.rowsPerPage),f=b%c.rowsPerPage,e=c.tableNode.tBodies[d];r=e.rows[f].cells;return r;}function H(){var b=this._renderTimer;if(b){self.clearInterval(b);delete this._renderTimer;this.renderingRows=false;}}mstrmojo.Grid=mstrmojo.declare(mstrmojo.GridBase,null,{scriptClass:"mstrmojo.Grid",rowsPerPage:0,effectiveRh:0,numPagesRendered:0,totalPages:0,pageStatus:null,_defaultPageHeight:0,renderPause:10,rhMin:15,defaultRowsPerPage:100,minRowsPerPage:50,init:function G(b){this._super(b);this.forceFixedSizes=true;},initPageSettings:function N(){var c=this.parent,b=this.defaultRowsPerPage;this.effectiveRh=this.rh||this.rhMin||1;if(c&&c.numRowFixed){b=this.cp.getAvailableRowsCount();}else{if(c&&c.scrollboxHeightFixed){b=Math.ceil(c.scrollboxHeight/this.effectiveRh);b=Math.max(b,this.minRowsPerPage);}}this.pageStatus=[];this.rowsPerPage=b;this.initPageStatus(this.pageStatus);this._defaultPageHeight=this.rowsPerPage*this.effectiveRh;},initPageStatus:function X(f){var e=this.rowsPerPage;this.totalPages=e&&Math.ceil(this.cp.rc/e)||0;f=f||this.pageStatus;for(var c=0;c<this.totalPages;++c){var g=c*e,d=g+e-1,b=this.cp.isDataAvailable(g,d);if(!f[c]){f[c]={};}f[c].onDemand=!b;}},buildRendering:function F(g){if(this.renderMode=="vscroll"){this.initPageSettings();var f=this.pageStatus[0],b=f&&f.onDemand;this.start=0;this.end=-1;if(!b){this.end=Math.min(this.cp.rc,this.rowsPerPage)-1;}this.preRenderPages();this.preRenderPage(0,!b);}this._super();if(this.renderMode=="vscroll"){var e=this.parent,d=this,h=function(){d.gridContainerNode.style[mstrmojo.css.MINHEIGHT]=(d.cp.rc*d.effectiveRh)+"px";};if(mstrmojo.dom.isIE7){this.gridContainerNode.style.zoom="1";window.setTimeout(h,10);}else{h();}if(!this.connectedScrollbox){if(e&&e.connectScrollbox){e.connectScrollbox(this);this.connectedScrollbox=true;}}this.postRenderPage(0,!b);this.postRenderPages();var c=e&&!e.scrollboxHeightFixed&&!e.numRowFixed;if(c&&this.numPagesRendered>=this.totalPages&&!b){this.postRenderingCleanup();}else{if(b||c){this.onscroll();}}}else{this.configureActions();}},preRenderPages:function Q(){},postRenderPages:function Z(){this.configureActions();},configureActions:function L(){var b=this.parent;if(b&&b.configureActions){b.configureActions();}},preRenderPage:function O(b,c){this.pageNum=b;},postRenderPage:function J(c,e,f){if(c+1>this.numPagesRendered){this.numPagesRendered=c+1;}var b=this.pageStatus,d=b[c];if(!d){d=b[c]={};}if(e){d.filled=true;d.dirty=false;}var g=this.gridContainerNode.style;if(c==this.totalPages-1&&g){g[mstrmojo.css.MINHEIGHT]="";}},invalidAllPages:function(){for(var b=0;b<this.totalPages;++b){var c=this.pageStatus[b];if(c.filled){c.dirty=true;}c.onDemand=true;c.filled=false;c.isDownloading=false;}this.thPosMap=[];this.posMap=[];},_startPageRenderThread:function a(){var b=this.id;this.renderingRows=true;this._renderTimer=self.setInterval(function(){try{var e=mstrmojo.all[b];if(!e){return ;}var c=e.getPagesToRender();if(c.length>0){e.preRenderPages();e.renderPages(c);e.postRenderPages();e._postPagesClearup=true;}else{if(e._postPagesClearup){e.postRenderPagesCleanup();e._postPagesClearup=false;}H.call(e);if(e.isRenderingComplete()){e.postRenderingCleanup();}}}catch(d){H.call(mstrmojo.all[b]);throw d;}},this.renderPause);},onscroll:function Y(b){if(!this.renderingRows){if(b===true){var c=this.parent;if(c&&c.maskNode){V.addClass(c.maskNode,"wait");}}this._startPageRenderThread();}},isRenderingComplete:function P(){if(this.end>=this.cp.rc-1){for(var b=this.pageStatus,c=this.totalPages-1;c>-1;c--){if(!b[c]||!b[c].filled){return false;}}return true;}return false;},renderPages:function D(c){for(var d=0,b=c.length;d<b;++d){this.renderPage(c[d].idx,c[d].fill);}},renderPage:function W(h,c){var l=this.pageStatus,e=(this.numPagesRendered>=h+1);if(e){if(!c||(l[h]&&l[h].filled)){return ;}}var k=this.rowsPerPage,f=this.domNode;this.start=h*k;this.end=Math.min(this.start+k,this.cp.rc)-1;this.preRenderPage(h,c);var b=this.tempTable;if(!b){b=this.tempTable=f.ownerDocument.createElement("div");}var g=c?this.buildTableRowsMarkup(this.start,this.end,'<table><tbody n="'+this.pageNum+'">',"</tbody></table>").join(""):'<table><tbody n="'+this.pageNum+'"><tr><td style="height:'+(this.effectiveRh*(this.end-this.start+1))+'px">&nbsp;</td></tr></tbody></table>';b.innerHTML=g;var d=b.firstChild.tBodies[0],j=this.tableNode;if(!e){j.appendChild(d);}else{j.replaceChild(d,j.tBodies[h]);}this.postRenderPage(h,c,d);},getPagesToRender:function S(){var o=[],t=this.parent,AE=this._defaultPageHeight,f=null,AF=this.pageStatus,AG=this;function k(j){var m=AF[j];if(m&&(m.filled||m.dirty)){if(!m.height){if(!f){f=AG.tableNode.tBodies;}m.height=f[j].offsetHeight;}return m.height;}else{return AE;}}var h=0,g=null,q=null,c=t.scrollboxTop;for(var AA=0,AB=this.totalPages,b=this.pageStatus;AA<AB;AA++){h+=k(AA);if(h>=c){g=AA;break;}}if(g===null){g=q=AB-1;}else{var s=t.scrollboxBottom;if(isNaN(s)&&t.numRowFixed){s=c;}for(var x=g+1;x<AB;x++){if(h>s){q=x-1;break;}h+=k(x);}}if(q===null){q=AB-1;}for(var u=this.numPagesRendered;u<g;++u){o.push({idx:u,fill:false});}var z=this.pageStatus,w=0,AC=this.rowsPerPage,l=false;for(var v=g;v<=q;++v){var AD=AF[v];if(!AD||!AD.filled){if(AD&&AD.onDemand){l=true;if(!AD.isDownloading&&!this.isDownloading){w+=AC;AD.isDownloading=true;this.isDownloading=true;var e=v*AC,d=e+AC-1;this.cp.download(e,d);}o.push({idx:v,fill:false});}else{o.push({idx:v,fill:true});}}}if(l){this.parent.showDownloadStatus(w);}else{if(this.parent.closeDownloadStatus){this.parent.closeDownloadStatus();}}return o;},addHilitePosition:function(c,e,b){var f=this.hiliteCellsMap[c];if(!f){this.hiliteCellsMap[c]={pos:[],nodes:[]};}var d=e-(this.pageNum||0)*this.rowsPerPage;this.hiliteCellsMap[c].pos.push({row:d,cell:b,page:this.pageNum});},setHilites:function(e,f){var g=f.getAttribute("ei"),h=this.eiMap[g],b=this.getNodesByPositions(h);if(!b.length){this._super(e,f);return ;}for(var d=0,c=b.length;d<c;d++){this._super(e,b[d]);}},addExtraInfoMap:function(c,d,b){if(!this.eiMap[c]){this.eiMap[c]=[];}this.eiMap[c].push(this.getPosObj(d,b));},addPositionMap:function(c,d,b){if(!this.posMap[c]){this.posMap[c]=this.getPosObj(d,b);}},addTitleHeaderPositionMap:function(d,b,c){var e=this.getPosObj(d,b);e.obj=c;this.thPosMap.push(e);},getPosObj:function(b,d){return{row:b-this.pageNum*this.rowsPerPage,cell:d,page:this.pageNum};},getNodeByPosition:function(b){return this.tableNode.tBodies[b.page].rows[b.row].cells[b.cell];},getRowIdxByCell:function(b){var c=this.posMap[b._ei];return c.page*this.rowsPerPage+c.row;},getNodesByPositions:function(j){var b=[];for(var e in j){var d=j[e],g=(d&&d.page)||0,f=d&&d.row,h=d&&d.cell;b.push(this.tableNode.tBodies[g].rows[f].cells[h]);}return b;},getPageHeight:function R(b){var c=this.tableNode.tBodies;return(c&&c[b]&&c[b].offsetHeight)||0;},getTargetCell:function(k,g){var e=0,c=0;for(var f=this.totalPages;c<f;c++){e+=this.getPageHeight(c);if(g<=e){break;}}var d=this.tableNode.tBodies[c];if(d){for(var c=0,f=d.rows.length;c<f;c++){var n=d.rows[c];for(var b=0,m=n.cells.length;b<m;b++){var l=n.cells[b];if(l.offsetTop+l.offsetHeight>=g){if(k>=l.offsetLeft&&k<=l.offsetLeft+l.offsetWidth){return l;}}else{break;}}}}},postRenderPagesCleanup:function I(){var d=this.parent;if(d&&d.gridData&&d.gridData.afc){var c=this.tableNode;if(c&&(this.lastWidth!=c.offsetWidth)){if(d.onGridWidthChanged){d.onGridWidthChanged();}mstrmojo.array.forEach(this.pageStatus,function(e){delete e.height;});this.lastWidth=c.offsetWidth;}var b=C(d,"adjustAutoWidth");if(b){b.adjustAutoWidth(d);}}if(d.gridPagesRendered){d.gridPagesRendered();}if(mstrmojo.dom.isIE&&!mstrmojo.dom.isIE8){B(this.domNode);}if(d&&d.maskNode){V.removeClass(d.maskNode,"wait");}this.hightLightChangedCells();},hightLightChangedCells:function K(){var l=this.cp.getUpdatedRows(),g=this,k,b,j,m,e,f,h,d=[];if(l){mstrmojo.hash.forEach(l,function(n,c){h=parseInt(c,10);k=g.cp.getRowCells(h);b=E(h,g);j=b.length;m=k.length-1;if(m>=0){for(e=j-1;e>=0;e--){f=b[e];if(m<0){break;}if(k[e]._d){var p=f.style.backgroundColor,o=f.style.color;d.push({dom:f,bgcolor:p,ftcolor:o});f.style.backgroundColor=M.getHighlightColor(M.rgbStr2rgb(mstrmojo.css.getStyleValue(f,"backgroundColor"),true));f.style.color=M.getContrastingColor(M.rgbStr2hex(mstrmojo.css.getStyleValue(f,"backgroundColor")),["#ffffff","#000000"]);delete k[e]._d;}m--;}}});if(d.length>0){window.setTimeout(function(){mstrmojo.array.forEach(d,function(c){c.dom.style.backgroundColor=c.bgcolor;c.dom.style.color=c.ftcolor;});},300);}}},getRowInfoByPosition:function(b){return this.cp.getRowCellInfo(b);},postRenderingCleanup:function A(){var b=this.parent;if(b&&this.connectedScrollbox){b.disconnectScrollbox(this);}this.connectedScrollbox=false;if(b&&!b.scrollboxHeightFixed){var d=C(b,"performCanGrowCanShrink");if(d){d.performCanGrowCanShrink([b],true);}}},unrender:function U(b){H.call(this);if(this.connectedScrollbox){this.parent.disconnectScrollbox(this);this.connectedScrollbox=false;}this.numPagesRendered=0;this.lastWidth=0;this.isDownloading=false;this._super(b);},dataDownloaded:function T(){this.isDownloading=false;this.initPageStatus();this.onscroll();}});})();(function(){mstrmojo.requiresCls("mstrmojo.GridBase","mstrmojo.Grid");mstrmojo.XtabZone=mstrmojo.declare(mstrmojo.Grid,null,{scriptClass:"mstrmojo.XtabZone",markupString:'<div id="{@id}" class="mstrmojo-XtabZone" style="position:relative;{@cssText}"></div>',markupSlots:{gridContainerNode:function(){return this.domNode;}}});}());(function(){mstrmojo.XtabCP=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.XtabCP",base:null,lookupBase:null,colWidths:null,forceAutoRowHeight:false,startIndexInContainer:0,updatedRows:null,preServeUpdatedRows:true,init:function I(J){mstrmojo.hash.copy(J,this);},initContent:function D(L){this.startIndexInContainer=L||this.startIndexInContainer||0;var K=this.base.show,J=this.base.items;this.rc=K&&J?J.length:0;this.colWidths=K&&this.base.cws||[];this.isDownloading=false;this.isDownloaded=true;this.invalidData=false;},isDataAvailable:function B(K,J){return !this.invalidData;},download:function A(K,J){if(!this.isDownloaded&&!this.isDownloading&&this.dataSource){this.isDownloading=true;this.dataSource.download(0);}},invalid:function E(){this.invalidData=true;this.isDownloading=false;this.isDownloaded=false;this.preServeUpdatedRows=true;if(this.gridData){this.oldGridData=this.gridData;this.oldBase=this.base;this.updatedRows={};}},getRowHeight:function C(){return this.gridData.rh;},getNumAutoHeightRows:function(){return this.forceAutoRowHeight?this.rc:0;},getAvailableRowsCount:function H(){return this.rc;},getUpdatedRows:function G(){return this.updatedRows;},getRowCells:function(U){var N=this.base.items,V=N[U],O=V.items,X=this.lookupBase,Q=this.interactiveCellsArray,W=this.gridData.css,a=null,Z=false,f,P,S,M;if(this.oldGridData){f=this.oldGridData;P=this.oldBase;S=P&&P.items;M=S[U]&&S[U].items;}for(var R=0,Y=O&&O.length||0;R<Y;R++){var L=O[R];if(L){L.v=L.v||L.n;if(X&&!L._e){var T=X[L.tui];a=T&&T.es[L.idx];if(a){L.v=L.v||a.n;if(a.rv){L.rv=a.rv;}L._e=a;}}if(!L.css){L.css=W[L.cni].n;}if(!L._d&&M&&this.preServeUpdatedRows){var K=M[R];if(!K||(K.rs!==L.rs)){this.preServeUpdatedRows=false;this.updatedRows={};}else{if((K.v&&L.v!==K.v)){data={};if(L.v!==K.v){data.v=K.v;}if(L.css!==K.css){data.css=K.css;}L._d=data;this.updatedRows[this.startIndexInContainer+U]=true;}}}L._gd=this.gridData._bidx||0;if(L.at>0&&Q){if(L._ei===undefined||Q[L._ei]!==L){L._ei=Q.push(L)-1;}}if(this.axis){L.axis=this.axis;}var b=L.pi;if(b){if(b.ri!==undefined&&b.ci!==undefined){L._p=N[b.ri].items[b.ci];}else{var d=this.gridData.ghs,c=b.left,J=b.top;if(c){L._lp=d.rhs.items[c.ri].items[c.ci];}if(J){L._tp=d.chs.items[J.ri].items[J.ci];}}}}}return O;},getUnmergedCells:function F(O){var Q=[],R=this.base.items,L=this.gridData.css,P=R[O].items[0],K=P&&P.pi,J=K&&K.ri,N=K&&K.ci;while(K&&J>-1&&N>-1){P=P._p||R[J].items[N];var M={};mstrmojo.hash.copy(P,M);if(!M.css){M.css=L[M.cni].n;}M.rs=P.rs-O+J;Q.splice(0,0,M);K=P&&P.pi;J=K&&K.ri;N=K&&K.ci;}return Q;}});})();(function(){mstrmojo.XtabVACP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabVACP",cps:[],initContent:function G(L){this.startIndexInContainer=L||0;this.rc=0;this.type=0;this.colWidths=[];for(var J=0;J<this.cps.length;++J){var K=this.cps[J];K.initContent(this.startIndexInContainer+this.rc);this.rc+=K.rc;this.type|=K.type;var I=K.colWidths;if(I&&(I.length>this.colWidths.length)){this.colWidths=I;}}},getNumAutoHeightRows:function(){return this.cps[0].getNumAutoHeightRows();},getRowHeight:function C(){return this.cps[0].getRowHeight();},getRowCells:function(I){var J=0,K=this.cps[J];while(I>=K.rc){I-=K.rc;K=this.cps[++J];}return K.getRowCells(I);},getUnmergedCells:function(I){var J=0,K=this.cps[J];while(I>=K.rc){I-=K.rc;K=this.cps[++J];}return K.getUnmergedCells(I);},isDataAvailable:function D(L,K){var J=this._getCPs(L,K);for(var I=0;I<J.length;++I){if(!J[I].isDataAvailable(L,K)){return false;}}return true;},getAvailableRowsCount:function F(){var K=0;for(var I=0;I<this.cps.length;++I){var J=this.cps[I];if(J.isDataAvailable()){K+=J.getAvailableRowsCount();}}return K;},_getCPs:function H(N,L){var J=0,M=this.cps[J],I=M&&M.startIndexInContainer,K=[];if(M){N-=I;L-=I;}while(M&&N>=M.rc){N-=M.rc;L-=M.rc;M=this.cps[++J];}while(M&&L>=M.rc){L-=M.rc;K.push(M);M=this.cps[++J];}if(M){K.push(M);}return K;},invalid:function E(){for(var I=0;I<this.cps.length;++I){var J=this.cps[I];J.invalid();}this.updatedRows={};},getUpdatedRows:function A(){var I={};for(var J=0;J<this.cps.length;++J){var K=this.cps[J];if(!K.preServeUpdatedRows){return{};}else{mstrmojo.hash.copy(K.getUpdatedRows(),I);}}this.updatedRows=I;return I;},download:function B(M,L){var K=this._getCPs(M,L);for(var I=0;I<K.length;++I){var J=K[I];J.download(M,L);}}});})();(function(){mstrmojo.XtabHACP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabHACP",cps:[],initContent:function G(J){this.startIndexInContainer=J||0;this.type=0;this.colWidths=[];for(var I=0;I<this.cps.length;++I){this.cps[I].initContent(this.startIndexInContainer);this.type|=this.cps[I].type;var H=this.cps[I].colWidths;if(H){this.colWidths=this.colWidths.concat(H);}}this.rc=Math.max(this.cps[0].rc,this.cps[1].rc);},getNumAutoHeightRows:function(){return Math.max(this.cps[0].getNumAutoHeightRows(),this.cps[1].getNumAutoHeightRows());},getRowCells:function(I){var M=this.cps,J=[];for(var L=0,H=M.length;L<H;L++){if(M[L].getAvailableRowsCount()>0&&M[L].rc>I){var K=M[L].getRowCells(I);if(K){J=J.concat(K);}}}return J;},getRowHeight:function C(){return this.cps[0].getRowHeight();},getUnmergedCells:function(H){return this.cps[0].getUnmergedCells(H);},isDataAvailable:function D(I,H){return this.cps[1].isDataAvailable(I,H);},getAvailableRowsCount:function F(){return Math.max(this.cps[0].getAvailableRowsCount(),this.cps[1].getAvailableRowsCount());},invalid:function E(){var I,H,J;for(I=0,H=this.cps.length;I<H;++I){J=this.cps[I];J.invalid();}this.updatedRows={};},getUpdatedRows:function A(){var H={};for(var I=0;I<this.cps.length;++I){var J=this.cps[I];if(!J.preServeUpdatedRows){return{};}else{mstrmojo.hash.copy(J.getUpdatedRows(),H);}}this.updatedRows=H;return H;},download:function B(J,H){var I=this.cps[1];I.download(J,H);}});})();(function(){mstrmojo.XtabTitlesCP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabTitlesCP",init:function E(G){this._super(G);},download:function A(H,G){},initContent:function D(N){this.startIndexInContainer=0;if(!this.cts){this.cts=mstrmojo.hash.clone(this.gridData.gts.col);}var H=this.gridData.gts,X=(this.gridData.lhv!==0),J=H.row||[],G=H.col||[],P=H.show,M=H.rec,V=this.cts||[],U=J.length,O=V.length,R=this.gridData.css;this.base={items:[]};this.rc=P&&V.length||0;if(this.rc===0&&P){this.rc=U>0?1:0;}this.colWidths=P&&H.cws||[];if(!this.rc){return ;}var L={items:[]},I=1,Q,T;for(T=0;T<U;++T){J[T].axis=1;J[T].ui=T;L.items.push(J[T]);}if(O>0){V[0].axis=2;V[0].ui=0;G[0].axis=2;G[0].ui=0;I=V[0].rs||1;if(X&&I>1){V[0].rs=1;Q=mstrmojo.hash.clone(V[0],{});Q.n="&nbsp;";V[0].cni=R.push({n:(R[V[0].cni].n||"")+" fsbp_1"})-1;}L.items.push(V[0]);}var K=this.base.items;K.push(L);for(T=1;T<O;++T){if(I>1){var S=I;while(S-->1){if(X){var W=mstrmojo.hash.clone(Q,{});W.cni=R.push({n:(R[W.cni].n||"")+" fsbp_"+((S==1)?"3":"2")})-1;K.push({items:[W]});}else{K.push({items:[]});}}}V[T].axis=2;V[T].ui=T;G[T].axis=2;G[T].ui=T;I=V[T].rs||1;if(X&&I>1){V[T].rs=1;Q=mstrmojo.hash.clone(V[T],{});Q.n="&nbsp;";V[T].cni=R.push({n:(R[V[T].cni].n||"")+" fsbp_1"})-1;}K.push({items:[V[T]]});}this.rc=K.length;if(M){this._removeExtraColumn(J,V);}},getAvailableRowsCount:function C(){return this.rc;},isDataAvailable:function B(H,G){return true;},_removeExtraColumn:function F(J,Z){var X=J&&J.length,O=Z&&Z.length,G=this.gridData.gts,R=G.row||[],M=G.col||[],H=R.length,V=M.length;if(!X||!O){if(O===1){var a=Z[O-1];if(a.otp==-1){if(V>0){M[V-1]._hid=true;}this.base.items=[];this.rc=0;}}return ;}var I=J[X-1],S=this.rc,K=this.base.items;if(I){if(I.otp==-1){if(H>0){R[H-1]._hid=true;}K[0].items.splice(X-1,1);}else{var P=S>1?S-1:0,Q=K[P],Y=Q.items.length;if(Y>0&&V>0){M[V-1]._hid=true;}var L=I.fix;if(L){for(var W=0;W<L;W++){Q.items[Y-1+W]=J[X-L+W];}}else{Q.items[Y-1]=I;}for(var U=0,T=O-1;U<T;U++){Z[U].cs=L?L:I.cs;}var N=L?L:1;K[0].items.splice(X-N,N);}}return ;}});})();(function(){mstrmojo.XtabOnDemandCP=mstrmojo.declare(mstrmojo.XtabCP,null,{scriptClass:"mstrmojo.XtabOnDemandCP",blockNum:0,listeners:null,initContent:function E(F){if(F!==undefined){this.startIndexInContainer=F;}this.isDownloaded=(this.base!==null);this.isDownloading=false;if(this.base){this._super(this.startIndexInContainer);this.notifyListeners();}},addCPListener:function D(F){if(!this.listeners){this.listeners=[];}this.listeners.push(F);},notifyListeners:function C(){var F,H=this.listeners,G=(H&&H.length)||0;for(F=0;F<G;F++){if(H[F]&&H[F].onDemandDataReady){H[F].onDemandDataReady(this);}}},getAvailableRowsCount:function B(){return this.isDownloaded?this.rc:0;},download:function(){if(!this.isDownloaded&&!this.isDownloading){this.isDownloading=true;this.dataSource.download(this.blockNum);}},invalid:function(){if(this._super){this._super();}this.isDownloaded=false;this.isDownloading=false;},isDataAvailable:function A(G,F){return this.isDownloaded;}});})();(function(){var Y=1,b=2,l=4,U=8,d=1,e=2,F=3,k=4,S=5,K=6,g=7,D={},X={120:0.75,240:1,320:1.5},j={1:30,2:26,3:20,4:70,5:40,6:34,7:40},H=4,P=1,I={TITLE:"ig-title",GROUPING:"iggroup",BANDING:"igbanding",RIGHT_ALIGN:"rtAlign",LEFT_ALIGN:"leftAlign",TOTAL_ROW:"total"},R=mstrmojo.hash,T=mstrmojo.array;function W(q,o){var p=q[0],m=o.gts,n=m.cws.length;return(o.vp.gr==="1"&&(n>1));}function f(n,t){var q=function(u,v){if(v&&u&&u.css&&u.css.indexOf(v)<0){u.css+=" "+v;}};var p=t.type,o=t.col,s=(o&&o.cl)||0,m=(p===b||p===Y);if(p===b||p===U){q(n,I.RIGHT_ALIGN);}else{if(p===Y||p===l){q(n,I.LEFT_ALIGN);}}if(m){if(o&&o.tg&&s>1){if(!n._v){n._v=n.v;n.v="<span class='toggleHeader'>"+n.v+"</span>";}}q(n,I.TITLE);}T.forEach(t.extraCss,function(u){q(n,u);});}function A(m){return 0;}function h(q){var o,p=q.cg,m=p&&p.cgc,n=1;for(o=0;o<m;o++){if(p&&p[o]&&!p[o].tg&&p[o].cl>n){n=p[o].cl;}}return n;}function L(n,m){var o=k;if(m>1){if(n===0){o=d;}else{if(n===m-1){o=F;}else{o=e;}}}return o;}function J(m,q,o,n){var t=n&&n.cols&&n.cols.cg,p,u=0,s=0;if(t){for(p=0;p<q;p++){if(m[p]){u+=m[p].length;}}u+=(o+1);for(p=0;p<t.cgc;p++){s+=t[p].cl;if(s>=u){return p;}}}return -1;}function N(u,p,n,m){var t=[],s,o,q,v;for(o=0,q=u.length;o<q;o++){if(u[o].length===1){s=u[o][0];s.rowType=(s.rowType!==g)?L(p,n):g;s.singleStack=(n>1);s=R.copy(s);if(s.ts===H){if(n===1){s.rowType=k;s.colIdx=J(u,o,p,m);}else{if(!p){s.colIdx=J(u,o,p,m);}else{delete s.ts;s.v="";}}}else{if(p){s.v="";}}}else{s=u[o][p];if(!s){v=u[o].length;s=R.copy(u[o][v-1],{});s.v="";if(s.hasOwnProperty("ts")){delete s.ts;}}else{if(s.ts===H){s.colIdx=J(u,o,p,m);}}s.rowType=(s.rowType!==g)?L(p,n):g;}t.push(s);}return t;}function O(m){if(m===0){return 0;}var n=this.sectionMap[m-1]||0;return Math.floor((m-n)/this.stackLevels);}function C(u){var q,t,p=this.sectionInfo,m=p.length,o=this.srh,n=this.lastSectionIndex;t=p[n];if(u>=t.rs&&u<(t.rs+o)){return t;}if(u<t.rs){q=n-1;if(q<=0){this.lastSectionIndex=0;return null;}do{t=p[q];if(u>t.rs&&u<=(t.rs+o)){this.lastSectionIndex=q;return t;}}while(u<t.rs&&--q>0);this.lastSectionIndex=q;return t;}else{q=n+1;if(q>=m){this.lastSectionIndex=m-1;return null;}do{t=p[q];if(u>t.rs&&u<=(t.rs+o)){this.lastSectionIndex=q;return t;}}while(u>(t.rs+o)&&++q<m);this.lastSectionIndex=q-1;return null;}}function a(v,o,m,u){var t=v[0],q,s=v.length,n=t&&t.rowType,p={v:"",css:"empty-igcell",rowType:n};if(m!==undefined&&t&&(n===d||n===k||n===S)){p={v:'<div><div class="IG-ActionArrow-IMG" style="height:'+u+"px;top:-"+(0.5*D[n])+'px;"></div></div>',css:"IG-ActionArrow",_ei:m};}for(q=s-1;q>=s-o;q--){t=v&&v[q];if(t){t.css+=" IG-lastdatacolumn";}}v.push(p);}function Q(AI,AD,o){var z=AI.cols,AA=z.cg,m=[{w:"0px"}];if(z&&AD){var AJ=z.cws,n=[],AH=AJ.length,AL=0,u=(parseInt(AI.ar,10)===1)?(AD/AH):-1,y,p,x=false,q=0,AB=AD,AC=0,AG;for(AG=0;AG<AH;AG++){p=n[AG]=AJ[AG];y=p.w;if(y===""){x=true;}else{if(p.xc){AL+=parseInt(y);AB-=AL;q++;}else{AC+=parseFloat(y,10);}}}if(x||AC<100){u=AB/(AH-q);}for(AG=0;AG<AH;AG++){p=AJ[AG];if(p.xc){continue;}else{if(u===-1){y=parseInt(p.w,10)*AB/100;if(!y&&y!==0){y=parseInt(AB/AA.cgc,10);}}else{y=(parseInt(p.w,10)<0)?0:u;}}n[AG]={w:y+"px"};}if(o){return n;}var v=[],AF=0;for(AG=0;AG<AH;AG++){var AK=AA[AG],t=AK.tg?AK.cl:1,AE=0;for(AE=0;AE<t;AE++){var s="0px";if(AE===AK.cc){s=n[AG].w;}v[AF+AE]={w:s};}AF+=t;}return v.concat(m);}else{if(o){return null;}else{return cp.cws.concat(m);}}}function B(){delete this.lastStackCols;delete this.lastAttRow;delete this.lastMtxRow;}mstrmojo.InteractiveGridHACP=mstrmojo.declare(mstrmojo.XtabHACP,null,{scriptClass:"mstrmojo.InteractiveGridHACP",sectionMap:[],stackLevels:1,gridWidth:480,tdWidths:null,lastSectionIndex:0,adjustCPMaps:function M(){var x=this.cps,w=this.cps[0],AC=Math.max(x[0].rc,x[1].rc);if(w.type!==Y){var AH=this.gridData,AB=function(AJ,AM){var AI=AJ.base.items,AK=AJ.lookupBase[0].es,AL=AI[AM].items[0],m=AK&&AK[AL.idx];return(m&&m.n)||((AL.pi&&AK[AL.pi.ri||0])||"");},AF,AE,n=1,u,o,z,q=0,p=-1,AA,AG,AD=0,y=this.groupEnabled;for(AA=0,AF=0,AG=w.cps?w.cps.length:1;AA<AG;AA++){var t=w.cps?w.cps[AA]:w,v=t.rc;q=p+1;p=q+v-1;if(t.isDataAvailable(q,p)){if(t.lastRow){AD=t.lastRow;o=t.lastSection;}else{AF=AD||0;for(AE=0,n=this.sectionMap[AF-1]||0;AE<v;AE++){var s=this.stackLevels;z=AB(t,AE);if(y&&z!==o){o=z;this.sectionInfo.push({sn:z,rs:this.srh*n+this.stackedRh*Math.floor((AF-n)/this.stackLevels)});this.sectionMap[AF]=++n;AF++;}while(s){this.sectionMap[AF]=n;s--;AF++;}}AD=t.lastRow=AF;t.lastSection=z;}}else{break;}}this.rc=(this.stackLevels>1?AC*this.stackLevels:AC)+(y?n:0);}},onDemandDataReady:function Z(){this.adjustCPMaps();},initContent:function V(w){var v=this.cps,AH=this.gridData=v[0].gridData||v[0].cps[0].gridData,AD=AH.vp=this.gridVp=this.gridVp||AH.vp,o=AD.daf&&AD.daf.split(":"),x=AD.cols,y=x.cg,AE=x.cws,u=v[A(y)],AB=AH.gts.row,n=AH.gts,AF=W(v,AH),t=u.type!==Y,AA,AC,q,m,z,s,AG,p=mstrApp.isTablet()?240:mstrMobileApp.getDeviceDPI();R.forEach(j,function(AJ,AI){D[AI]=AJ*X[p];});if(t){if(AD.dafIdx===undefined&&o){for(AA=0;AA<AB.length;AA++){if(AB[AA].id===o[0]&&AB[AA].fid===o[1]){AD.dafIdx=AA;break;}}}}for(AA=0;AA<y.cgc;AA++){if(y[AA]&&y[AA].tg){break;}}if(AA===y.cgc){AH.gts.show=false;AH.ghs.chs.show=false;}this._super(w);this.colWidths=Q(AD,this.gridWidth);this.tdWidths=Q(AD,this.gridWidth,true);if(t){this.stackLevels=h(x);if(this.stackLevels>1){this.srh=D[K];this.rh=D[k];this.mrh=D[F];this.stackedRh=D[d]+(this.stackLevels-2)*D[e]+D[F];}else{this.srh=D[K];this.rh=this.stackedRh=this.mrh=D[k];}if(AF||this.stackLevels>1){this.sectionMap=[];this.sectionInfo=[];this.groupEnabled=AF;this.adjustCPMaps();m=this.cps[0].cps;if(m){AG=this;for(AA=0,AC=m.length;AA<AC;AA++){s=m[AA];if(s&&s.addCPListener){s.addCPListener(AG);}}}}}},getUnmergedCells:function(m){return ;},getResolvedGroupHeader:function(o,q){var n=this.gridData,p=n.gts.row[q].es,m=n.ghs.rhs.items[o].items[q];if(m){if(!m.css){m.css=n.css[m.cni].n+" iggroup";m.n=p[m.idx].n;}}else{return{css:" iggroup",n:""};}return m;},getRowCells:function(AF){var AA=this.cps,t=[],AT=this.gridData,AP=AT.vp,AD=AP.cols.cg,y=AA[A(AD)],AC=this.groupEnabled,n=AP.bn==="1",AQ=[],AE=O.call(this,AF),u,o,AG=1,z,m,w,AM,AL,AO,AS,x;if(AC&&(this.sectionMap[AF]!==this.sectionMap[AF-1])){var q=R.copy(y.getRowCells(AE)[0],{});q.cs=this.colWidths.length;q.rowType=K;f(q,{col:null,type:y.type,extraCss:[I.GROUPING]});return[q];}if(!AF){B.call(this);}this.lastAttRow=this.lastAttRow||(AA[0].rc?AA[0].getRowCells(AE):[]);this.lastMtxRow=this.lastMtxRow||(AA[1].rc?AA[1].getRowCells(AE):[]);w=this.lastAttRow;AO=w.length;if(AO>0&&w[0].stt){z=true;for(AM=0;AM<AO;AM++){AS=w[AM];if(AS.stt===P){m=AS;break;}}}if(!this.lastStackCols){T.forEach([this.lastAttRow,this.lastMtxRow],function(p){for(AM=0;AM<p.length;AM++){if(p[AM]._ei!==undefined){if(AP.dafIdx>=0){x=y.getRowCells(AE)[AP.dafIdx];}u=(AP.dafIdx>=0)?(x&&x._ei):"";return false;}}},this);var AK=function(p,AU){if(p&&(AU.type===Y||AU.type===b)){if(AI.tg===false){p.n=p.v="";}p.rowType=g;}f(p,{col:AI,type:AU.type,extraCss:[((AU.type===U||AU.type===l)&&n&&(AE%2===1))?I.BANDING:null,z?I.TOTAL_ROW:null]});if(p){p.cs=1;if(p._ei===undefined&&AP.dafIdx!==undefined){p._ei=u;}}};this.lastRowIndex=0;for(AL=0;AL<AD.cgc;AL++){var AI=AD[AL],AN=AI["mix"+AI.cc],s=AN!==undefined,v=AA[s?1:0],AJ,AH,AB,AR={n:"",stt:P,css:"xtab-td"};arr=[];if(AI.tg){for(var AM=0;AM<AI.cl;AM++){arr=[];AB=s?AI["mix"+AM]:AI.attForms[AM].idx;var w=s?this.lastMtxRow:this.lastAttRow;AS=w[AB];if(z){if(!AS){AS=AR;}else{if(AS&&AS.stt===P){AS=R.copy(m,AR);}else{AS=R.copy(AS,{});}}}else{AS=R.copy(AS,{});}AK(AS,v);arr.push(AS);AQ.push(arr);}if(AL+1===AD.cgc){AG=AI.cl;}}else{for(AJ=0,AO=AI.cl;AJ<AO;AJ++){if(s){AH=AI["mix"+AJ];if(AH!==undefined){AS=this.lastMtxRow[AH];}}else{AH=AI.attForms[AJ];if(AH){AS=this.lastAttRow[AH.idx];}if(z&&!AS){AS=AR;}}AK(AS,v);arr.push(AS);}AQ.push(arr);}}this.lastStackCols=AQ;}t=N(this.lastStackCols,this.lastRowIndex++,this.stackLevels,AP);if(this.lastRowIndex>=this.stackLevels){B.call(this);}return t;},getRowHeight:function E(n){var m=D[k];return D[n]||m;},isDataAvailable:function c(n,m){if(!this.onDemandIF||!this.cps[1].cps){return true;}else{var p=this.sectionMap.length,o;if(!p){return this.cps[1].isDataAvailable(n,m);}if(m>p){if(n<p){o=O.call(this,n);return this.cps[1].isDataAvailable(o,o+(m-n));}else{return false;}}else{return this.cps[1].isDataAvailable(O.call(this,n),O.call(this,m));}}},download:function G(u,q){var m=O.call(this,u),t=m+Math.ceil((q-u)/this.stackLevels),s=this.cps[0],n,o,p=!s.cps?[s]:this.cps[0]._getCPs(m,t);for(n=0;n<p.length;++n){o=p[n];o.download(m,t);}},getRowCellInfo:function(p){var o=C.call(this,p+this.srh),m,n=this.lastSectionIndex;if(o){m=this.sectionInfo[n-1];return{rowStart:o.rs,isNextRowNewSection:true,sectionName:m&&m.sn};}else{return{isNextRowNewSection:false,sectionName:this.sectionInfo[n].sn};}}});}());(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasScrollbox","mstrmojo.XtabZone","mstrmojo._ShowsStatus","mstrmojo.boxmodel","mstrmojo.dom");var Q=1;var W=2;var X=0;var A=1;var w=2;var M=3;var L=1;var y=2;var G=4;var e=8;var b=mstrmojo.dom,p;function AC(AD){var AE=null;if(AD&&AD.length>1){AE=new mstrmojo.XtabVACP();AE.cps=AD;}return AE;}function P(AE){var AD=document.createElement("img");AE.appendChild(AD);AE.removeChild(AD);}function I(AE,AD){if(b.isIE){return mstrmojo.boxmodel.convert2px(AE,AD);}return AD;}function H(AE){if(!AE||this._onDemandCP){return ;}var AL=AE.bc,AJ=AE.tc,AF=AJ-AL,AK=Math.ceil(AF/AL),AG=[],AI=[],AH;for(AH=0;AH<AK;++AH){var AD=Math.min(AF,AL);AG.push(this.createOnDemandCP(AH+1,AD,G));AI.push(this.createOnDemandCP(AH+1,AD,e));AF-=AL;}this._onDemandCP={rhs:AG,vls:AI};return this._onDemandCP;}mstrmojo.XtabBase=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasScrollbox,mstrmojo._ShowsStatus],{scriptClass:"mstrmojo.XtabBase",dataRenderMode:"vscroll",handleClicks:function F(){return true;},markupString:'<div id="{@id}" class="mstrmojo-Xtab {@cssClass}" title="{@tooltip}" style="{@domNodeCssText}"><div style="display: none;{@msgNodeCssText}"><div>&nbsp;</div></div><div class="mstrmojo-Xtab-overlay"></div><div class="mstrmojo-Xtab-content {@cssDefault}" title="{@tooltip}" style="{@viewportCssText}" mstrAttach:click,selectstart><table cellspacing="0" cellpadding="0"><tr trType="title"><td style="vertical-align:top;padding:0px"></td><td class="xtab-tr" style="vertical-align:top;padding:0px;"></td></tr><tr trType="content"><td class="xtab-bl" style="vertical-align:top;padding:0px;"></td><td class="xtab-br" style="vertical-align:top;padding:0px"><div class="mstrmojo-progress" style="display:none"><div class="mstrmojo-progress-barbg"><div class="mstrmojo-progress-bar"></div></div><div class="mstrmojo-progress-text"></div></div><div id="{@id}_scrollbox" style="position:relative;{@scrollboxNodeCssText};{@scrollboxNodeOverflow}"></div></td></tr></table></div></div>',markupSlots:{overlayNode:function(){return this.domNode;},msgNode:function(){return this.domNode.firstChild;},maskNode:function(){return this.domNode.childNodes[1];},viewport:function(){return this.domNode.lastChild;},contentNode:function(){return this.domNode.lastChild.firstChild;},scrollboxNode:function(){return this.domNode.lastChild.firstChild.rows[1].cells[1].lastChild;},_TL:function(){return this.domNode.lastChild.firstChild.rows[0].cells[0];},_TR:function(){return this.domNode.lastChild.firstChild.rows[0].cells[1];},_BL:function(){return this.domNode.lastChild.firstChild.rows[1].cells[0];},_BR:function(){return this.domNode.lastChild.firstChild.rows[1].cells[1].lastChild;},_T_ROW:function(){return this.domNode.lastChild.firstChild.rows[0];},_B_ROW:function(){return this.domNode.lastChild.firstChild.rows[1];},_BR_CELL:function(){return this.domNode.lastChild.firstChild.rows[1].cells[1];},_STATUS:function(){return this.domNode.lastChild.firstChild.rows[1].cells[1].firstChild;},_STATUS_TXT:function(){return this.domNode.lastChild.firstChild.rows[1].cells[1].firstChild.lastChild;},_STATUS_BAR:function(){return this.domNode.lastChild.firstChild.rows[1].cells[1].firstChild.firstChild.firstChild;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=(this.visible)?"block":"none";}},zones:null,lockHeadersCase:M,interactiveCellsArray:null,titlesCP:null,chsCP:null,rhsCP:null,valuesCP:null,onDemandIF:true,numRowFixed:false,heightLimit:0,height:0,widthLimit:0,width:0,useTouchScrolling:false,scrollInterval:0,selections:null,dataBlocks:null,getCellUnitIndex:function m(AD){return(AD.o!==undefined)?AD.o:AD._ei;},getCellTitleId:function c(AD){var AE="";if(AD.axis&&AD.ui!==undefined){AE=AD.axis+"A"+(AD.ui+1);}else{if(AD.mix!==undefined){AE="0A"+AD.mix;}}return AE;},update:function j(AE){if(this._super){this._super(AE);}this.set("gridData",AE.data[0]||AE.data);var AD=this.defn||AE.defn;this.sid=this.gridData.sid;this.treeType=(AD&&AD.tt)||1;this.interactiveCellsArray=[];},initCP:function D(AF,AE,AK,AH,AJ,AG,AI){var AD={gridData:AF,type:AK,interactiveCellsArray:AE};AD.base=AH||AD.base;AD.lookupBase=AJ||AD.lookupBase;AD.axis=AG||AD.axis;if(!AI){if(AK===L){AI=new mstrmojo.XtabTitlesCP(AD);}else{AI=new mstrmojo.XtabCP(AD);}}else{mstrmojo.hash.copy(AD,AI);}return AI;},preBuildRendering:function B(){var AD=this.gridData;this.lockHeadersCase=parseInt(AD.lhv,10);this.selections={};this.cssDefault=(this.lockHeadersCase===X||!this.k)?"":"r-cssDefault"+(this.k?"_"+this.k:"");this.numRowFixed=!!(!this.height&&AD.rw&&AD.rw.row&&(AD.rw.row.bc<AD.rw.row.tc));this.rw=AD.rw;this._onDemandCP=null;if(this.width){this.widthLimit=parseInt(this.width,10);}if(this.height){this.heightLimit=parseInt(this.height,10);}return(this._super)?this._super():true;},renderEmptyGrid:function q(){var AF=this.gridData,AE=this.msgNode,AD=this.viewport;AE.firstChild.innerHTML=AF.eg;AE.style.display="block";AE.style.overflow="hidden";AE.className="mstrmojo-message";AD.style.display="none";return(this._super)?this._super():true;},postBuildRendering:function n(){var AL=this.gridData,AH=!!this._BR&&AL,AD=this.msgNode,AI=this.viewport,AJ;if(AL.eg===undefined){if(AD.style.display==="block"){AD.style.display="none";AI.style.display="block";}}else{return this.renderEmptyGrid();}if(!this.interactiveCellsArray){this.interactiveCellsArray=[];}if(AH){this._setupZones(AL);this._setupCPs(AL);var AG=this.zones,AE;for(AE in AG){var AK=AG[AE];if(AK.parent!==this){this.addChildren(this.zones[AE]);}}if(this.scrollboxNode){var AF=this.heightLimit;this.scrollboxHeightFixed=!isNaN(AF)&&(AF>0);if(this.scrollboxHeightFixed){this.scrollboxHeight=AF;}this.scrollboxLeft=this.scrollboxTop=0;if(this.lockHeadersCase){this.connectScrollbox(this);}}}this.renderChildren();AJ=this._super();if(this.numRowFixed){if(!this.height){this.heightLimit=this.zones._BR.getPageHeight(0)+(this._TR?this._TR.offsetHeight:0);this.height=this.heightLimit+"px";}else{this.heightLimit=parseInt(this.height,10);}}if((this.lockHeadersCase&&AH&&this.scrollboxNode)||this.numRowFixed){this.resizeScrollBox(b.isIE);}this.onGridWidthChanged(true);if(b.isIE7&&!this.scrollboxHeightFixed&&this.scrollboxNode&&this.scrollboxNode.scrollWidth>this.scrollboxNode.offsetWidth){this.scrollboxNode.style.height=this.scrollboxNode.offsetHeight+17+"px";}return AJ;},onclick:function o(AH,AE){if(!this.interactiveCellsArray.length){this.isSelectingText=false;return ;}AH=AH.e||AH;var AF=mstrmojo.dom,AI=AF.eventTarget(AE,AH),AG=AI&&AF.findAncestorByName(AI,"td",true,this.viewport);if(AI.nodeName.toLowerCase()==="a"&&AG.getAttribute("ei")){try{var AJ=this.interactiveCellsArray[parseInt(AG.getAttribute("ei"),10)];var AD=7;if(AJ&&AJ.ts===AD){AI.href=mstrmojo.addCSRFTokenToURL(AI.href);}}catch(AL){}}if(AG){var AK=AF.findAncestorByName(AI,"span",true,AG);if(AK&&!AF.shiftKey(AE,AH)&&!AF.ctrlKey(AE,AH)){this.defaultAction(AG);}else{this.doSelection(AH,AE,AG);if(!this.isSelectingText){AF.clearBrowserHighlights();}}}if(this.isSelectingText){this.isSelectingText=false;}},ontouchend:function f(AE,AD){this.onclick(AE,AD);},onselectstart:function s(){this.isSelectingText=true;return false;},onscroll:function t(){this._alignHeaders();},resizeScrollBox:function J(AF){var AD=this.scrollboxNode,AO=AD&&AD.style,AU=this._B_ROW,AT=this._BR_CELL;if(!AO||!AU||!AT){return ;}var AN=this.widthLimit,AM=this.heightLimit;if(!AN||!AM){if(!AN){AO.width="auto";}if(!AM){AO.height="auto";this.scrollboxHeightFixed=false;}}if(AM){var AL=(this.zones._TR&&this.zones._TR.cp.rc)?AU.offsetTop:0,AQ=AM-AL;if(AQ>0){AO.height=AQ+"px";this.scrollboxHeight=AQ;this.scrollboxHeightFixed=true;if((this.lockHeadersCase!==X)&&this.numRowFixed){this.viewport.style.height=this.overlayNode.style.height=(AQ+AL)+"px";}}}if(!this.useTouchScrolling){var AE=(this.zones._BL&&this.zones._BL.cp.rc)?AT.offsetLeft:0;var AS=0;if(this.lockHeadersCase!==X){var AR=this.viewport,AG=mstrmojo.css.getComputedStyle(AR),AP=["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"];if(AG){mstrmojo.array.forEach(AP,function(AV){AS+=parseFloat(I(AR,AG[AV]));});}if(this.width){this.viewport.style.width=(parseFloat(this.width)-(AS||0))+"px";}}var AH=(this.widthLimit&&(this.widthLimit-AE))||(mstrmojo.dom.isIE7?AT.scrollWidth+1:(AT.scrollWidth+(AD.offsetWidth-AD.clientWidth)));if(AH&&(AH>0)){AH-=AS;AO.width=AH+"px";}this._alignHeaders(AF);}var AK=AO.height,AJ=AO.width;if(AK||AJ){var AI=mstrmojo.findAncestor(this,"fixedSizeCanGrowShrink",null,mstrmojo.DocSection);if(AI){AI.fixedSizeCanGrowShrink(this,AK,AJ);}}},_resizeScrollBoxWidth:function U(){var AI=this.scrollboxNode,AF=AI&&AI.style,AE=this._B_ROW,AD=this._BR_CELL;if(this.useTouchScrolling||!AF||!AE||!AD){return ;}var AG=this.widthLimit;if(!AG){AF.width="auto";}var AH=function(){var AJ=(mstrmojo.dom.isIE7?AD.scrollWidth+1:(AD.scrollWidth+(AI.offsetWidth-AI.clientWidth)));if((AJ&&(AJ>0))&&(!AG||(AG&&(AJ<AG)))&&(AI.firstChild.firstChild.offsetWidth>=AI.clientWidth)){AF.width=AJ+"px";}};if(mstrmojo.dom.isIE7){window.setTimeout(function(){AH();},1);}else{AH();}},onGridWidthChanged:function Z(AF){if(this.lockHeadersCase===X&&!AF){this._resizeScrollBoxWidth();}var AE=mstrmojo.findAncestor(this,"fixedSizeCanGrowShrink",null,mstrmojo.DocSection),AD=this.widthLimit;if(!AD){this.width=p;if(AE){AE.performCanGrowCanShrink([this],true);}}else{if(AE){AE.fixedSizeCanGrowShrink(this,null,AD);}}},getGridDimension:function R(AG){var AE=1,AF=AG===AE?"Height":"Width",AH=AF.toLowerCase(),AD=this[AH+"Limit"];if(!AD&&(this[AH]===p||this[AH]===0)){AD=this.viewport["offset"+AF];this[AH]=AD+"px";return AD;}return AD||parseInt(this[AH],10);},_alignHeaders:function l(AE){if(this.lockHeadersCase===X||this.useTouchScrolling){return ;}var AH=this.scrollboxLeft,AG=this.scrollboxTop,AF=this.zones,AD=AF._TR,AI=AF._BL;function AJ(AK,AO,AL){var AN=AK&&AK.domNode,AM=AN&&AN.style;if(!AM){return ;}AM[AO]=-AL+"px";}if(AD&&AD.rc){AJ(AD,"left",AH);}if(AI&&AI.rc){AJ(AI,"top",AG);}if(AE){P(this._BL);}},defaultAction:function S(AI,AE){var AD=AE||this.getCellForNode(AI),AH=AI&&AI.className.indexOf("sc_")>0,AG=this.model.getAction(this.getActionCells(AD),AI,AH),AF=AG&&AG.h;this._currentSelectedTD=AI;if(AF&&this.controller[AF]){this.controller[AF](this,AG.a);return true;}return false;},createZone:function k(AD){return new mstrmojo.XtabZone(AD||{});},_setupZones:function h(AG){var AE=this.zones;this.zones={};var AI=this.zones,AD=this.lockHeadersCase,AK="z-index:";var AF=this;function AJ(AO,AN,AP,AM){var AL=(AM&&AM[AP])||AF.createZone({renderMode:AO,cssText:AN,slot:AP});AI[AP]=AL;AL.rh=AG.rh;}AJ(this.dataRenderMode,AK+"1;","_BR",AE);if(AD&A){AJ(this.dataRenderMode,AK+"3;","_BL",AE);}if(AD&w){AJ(null,AK+"3;","_TR",AE);}if(AD===M){AJ(null,AK+"4;","_TL",AE);}if(AD===X){this.zones._BR.autoFitWindow=!!AG.afw;this.zones._BR.tableCssClass="r-cssDefault"+(this.k?"_"+this.k:"");}if(mstrmojo.dom.isIE7){if(AD&A||AD&w||AD===M){this._T_ROW.style.display="block";}else{if(AD===X){this._T_ROW.style.display="none";}}}var AH=AI._BL||AI._BR;if(AH){AH.numColumnCanMerge=AG.gts.cws.length-1;}},getHACP:function AB(){return(this._super&&this._super())||new mstrmojo.XtabHACP();},_setupCPs:function V(AL){var AG=this.titlesCP=this.getTitleCP(AL),AI=this.chsCP=this.getColumnHeadersCP(AL),AE=this.rhsCP=this.getRowHeadersCP(AL),AF=this.valuesCP=this.getValuesCP(AL);AG.forceAutoRowHeight=AI.forceAutoRowHeight=AL.rh;var AJ=this.zones;switch(this.lockHeadersCase){case X:var AP=new mstrmojo.XtabVACP();var AD=this.getHACP();AD.cps=[AG,AI];AP.cps=[AD];var AN=this.getHACP();AN.cps=[AE,AF];AP.cps.push(AN);AJ._BR.cp=AP;break;case A:var AM=new mstrmojo.XtabVACP();var AH=new mstrmojo.XtabVACP();AM.cps=[AG,AE];AH.cps=[AI,AF];AJ._BL.cp=AM;AJ._BR.cp=AH;break;case w:var AK=this.getHACP();var AO=this.getHACP();AK.cps=[AG,AI];AO.cps=[AE,AF];AJ._TR.cp=AK;AJ._BR.cp=AO;break;case M:AJ._TL.cp=AG;AJ._TR.cp=AI;AJ._BL.cp=AE;AJ._BR.cp=AF;break;}},ongridDataChange:function Y(){var AD=this.model;if(AD){AD.set("data",this.gridData);if(!this.dataBlocks){this.dataBlocks=[];}this.dataBlocks[0]=this.gridData;}},gridPagesRendered:mstrmojo.emptyFn,getTitleCP:function E(AD){return this.initCP(AD,this.interactiveCellsArray,L);},getColumnHeadersCP:function x(AD){return this.initCP(AD,this.interactiveCellsArray,y,AD.ghs.chs,AD.gts.col,W);},getRowHeadersCP:function z(AD){var AE=this.initCP(AD,this.interactiveCellsArray,G,AD.ghs.rhs,AD.gts.row,Q);if(this.onDemandIF&&this.rw){if(!this._onDemandCP){H.call(this,this.rw&&this.rw.row);}this.rhsCPList=[AE].concat(this._onDemandCP.rhs);return AC(this.rhsCPList)||AE;}return AE;},getValuesCP:function a(AE){var AD=this.initCP(AE,this.interactiveCellsArray,e,AE.gvs);if(this.onDemandIF&&this.rw){if(!this._onDemandCP){H.call(this,this.rw&&this.rw.row);}this.valuesCPList=[AD].concat(this._onDemandCP.vls);return AC(this.valuesCPList)||AD;}return AD;},createOnDemandCP:function d(AE,AF,AD){var AG=new mstrmojo.XtabOnDemandCP();AG.dataSource=this;AG.blockNum=AE;AG.rc=AF;return AG;},dataDownloaded:function T(AF,AI){var AK=AI.blockNum,AD=this.rhsCPList[AK],AG=this.valuesCPList[AK],AJ=AF.data;AJ._bidx=AK;this.dataBlocks[AK]=AJ;if(!AD||!AG){return ;}this.initCP(AJ,this.interactiveCellsArray,G,AJ.ghs.rhs,AJ.gts.row,Q,AD);this.initCP(AJ,this.interactiveCellsArray,e,AJ.gvs,null,null,AG);AD.initContent();AG.initContent();this.numRowsDownloaded+=parseInt(AD.rc,10);this.updateStatus(mstrmojo.desc(8301,"Retrieving Data ..."),this.numRowsDownloaded*100/this.numRowsToDownload);var AH=this.zones,AE=AH&&AH._BL,AL=AH&&AH._BR;if(AE){AE.dataDownloaded();}if(AL){AL.dataDownloaded();}},showDownloadStatus:function O(AD){if(!AD){return ;}if(this.showingStatus){this.numRowsToDownload+=AD;}else{this.numRowsToDownload=AD;this.numRowsDownloaded=0;}if(this.showStatus){this.showStatus(true,mstrmojo.desc(8301,"Retrieving Data ..."),this.numRowsDownloaded*100/this.numRowsToDownload);}},closeDownloadStatus:function g(){this.numRowsToDownload=0;if(this.showStatus){this.showStatus(false);}},download:function K(AF){var AH=this.gridData.rw,AE=AH.row,AG=AH.col,AD=AE.bc;this.rhsCPList[AF].isDownloading=this.valuesCPList[AF].isDownloading=true;if(AD){this.controller.onDownloadGridData(this,this.model.getDownloadAction(AF*AD+1,AD,AG.bb,AG.bc,this.id,{blockNum:AF}));}},unrender:function C(AD){this.width=this.widthLimit=this.height=this.heightLimit=0;this.disconnectScrollbox(this);this._super(AD);},getCellForNode:function v(AF){var AD=AF&&AF.getAttribute("ei");if(isNaN(AD)){return null;}var AE=this.interactiveCellsArray[parseInt(AD,10)];return AE;},getActionCells:function N(AD){var AE=[],AG=this.selections;var AH=AD.axis+"A"+(AD.ui+1),AI=AG[AH],AF;if(AI&&AI[AD.o]){for(AF in AI){var AJ=this.getCellForNode(AI[AF][0]);AE.push(AJ);}}else{AE.push(AD);}return AE;},setModel:function AA(AD){this.model=AD;if(AD.data){this.set("gridData",AD.data);}},destroy:function u(){var AD=this.model;if(AD&&AD.destroy){AD.destroy();}this._super();}});}());(function(){mstrmojo.StringBuffer=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.StringBuffer",append:function A(C){if(!this.buf){this.reset();}this.buf[++this.len]=C;return this;},reset:function B(){this.buf=[];this.len=-1;}});mstrmojo.StringBuffer.prototype.toString=function(D){var C=this.buf;return(C&&C.join(D||""))||"";};})();(function(){mstrmojo.requiresCls("mstrmojo.prompt.WebPrompts");var D="mstrmojo._ResultSetXt",G=0,Q=1,F=2,N=3,H=4;var U=["promptsAnswerXML","elementsPromptAnswers","valuePromptAnswers","objectsPromptAnswers"];function A(X){if(X.linkAnswers){return true;}var V=U.length,W;for(W=0;W<V;W++){if(X[U[W]]){return true;}}return false;}function C(V){if((!V)||(V.status===undefined)||(isNaN(V.status))){return G;}switch(parseInt(V.status,10)){case 0:case 1:return Q;case 2:return N;case 3:return F;default:return H;}}function L(Z,V,c){var X=c.success;delete c.success;var b=mstrApp,a=!!Z.useRefreshProgress,Y=a?[mstrmojo.desc(10078,"Refreshing data. Please wait.")]:[],W;delete Z.useRefreshProgress;c.success=function(d,e){switch(C(d)){case Q:case N:case G:X(d,e);break;case F:c.failure(d);break;case H:var f;c.success=function(h,j){var g=C(h);switch(g){case Q:case N:X(h,j);break;case G:case H:W();break;default:h.message="Error checking the status of running report/document.";c.failure(h);break;}};W=function(){b.serverRequest({taskId:"pollStatus",msgID:d.id},c,{src:D+"::pollForResult"});};W();break;}};b.serverRequest(Z,c,{src:D+"::pollForResult",showProgress:V,hideProgress:!V,hideWait:!V,useRefreshProgress:a,progressStateText:Y});}function I(X,Z,V,Y){var W=this;L.call(this,X,V,{success:function(a){W.msgId=a.id;if(a.visName){W.visName=a.visName;}var b=C(a);if(b===N){if(Z.prompts){W.loadPrompts({success:Z.prompts,failure:Z.failure});}else{Z.failure({message:"Wrong status. Received Prompts while expected Result."});}}else{if(Z.execSuccess){Z.execSuccess(a);}if(Y&&Y.statusOnly){Z.success(a);}else{if(W.visName&&W.visName!==""){if(!Y){Y={};}Y.colsPerPage=-1;Y.rowsPerPage=-1;}W.getResults(Y,{success:Z.success,failure:Z.failure,complete:Z.complete||mstrmojo.emptyFn,canceled:Z.canceled||mstrmojo.emptyFn});}}},failure:Z.failure,complete:Z.complete||mstrmojo.emptyFn,canceled:Z.canceled||mstrmojo.emptyFn});}function B(W,X){var V=mstrApp.modelFactory;if(V){return V.newPromptsModel(W,X);}return mstrApp.viewFactory.newPrompts(W,X);}mstrmojo._ResultSetXt=mstrmojo.provide("mstrmojo._ResultSetXt",{_mixinName:"mstrmojo._ResultSetXt",msgId:null,execute:function J(X,Z,Y){if(X.link){X.linkAnswers=X.link.toXml();delete X.link;}var W=this,V=mstrmojo.func.addMethods(Z,{prompts:function(a){W.prompts=a;Z.prompts(a);},success:function(a){if(a.prompt){W.prompts=a.prompt;}Z.success(a);}});if(!W.prompts&&A(X)){V.success=function(a,b){delete b.config.hideWait;delete b.config.hideProgress;W.loadPrompts({success:function(c){if(c.prompts){W.prompts=c;W.answers=B(c).buildAnswerObject();}Z.success(a,b);},failure:Z.failure,complete:Z.complete||mstrmojo.emptyFn},{includeClosed:true});};}else{if(X.promptsAnswerXML){V.success=function(a,b){W.prompts=null;W.answers=null;W.loadPrompts({success:function(c){if(c.prompts){W.prompts=c;W.answers=B(c).buildAnswerObject();}Z.success(a,b);},failure:mstrmojo.emptyFn});};}}I.call(this,X,V,true,Y);},answerPrompts:function P(V,Y,X){if(mstrApp.useBinaryFormat){X.objectType=55;}X.taskId="answerPrompts";X.msgID=X.msgId||this.msgId;X.promptAnswerXML=V.getAnswerXML();var W=this;I.call(this,X,{success:function(Z){W.answers=V.buildAnswerObject();Y.success(Z);},prompts:Y.prompts,failure:Y.failure},true);},getResults:function R(V,W){V.messageID=V.msgId||this.msgId;L.apply(this,[V,false,W]);},loadPrompts:function O(W,V){V.taskId="getPrompts";V.msgID=V.msgID||this.msgId;L.apply(this,[V,false,W]);},linkToObject:function K(V,W){this.execute(V,W);},getPrompts:function E(){var V=this.prompts;if(V){return B(this.prompts,this.answers);}return undefined;},checkCache:function T(X,Y,W){var V=mstrmojo.hash.copy(W,{src:D+"::checkCache",override:false,silent:true});X.taskId="checkCache";mstrApp.serverRequest(X,Y,V);},checkCachedLinkTargets:function S(V,X){var W={taskId:"checkCachedLinkTargets",items:V};mstrApp.serverRequest(W,X,{src:D+"::checkCachedLinkTargets",override:false,silent:true});},urlLinkParams:function M(){return U;}});}());(function(){mstrmojo.requiresCls("mstrmojo.XtabBase","mstrmojo.XtabZone","mstrmojo._TouchGestures","mstrmojo._HasXtabTouchScroll","mstrmojo._XtabSelections","mstrmojo.dom","mstrmojo.hash","mstrmojo.css","mstrmojo._HasMagnifier","mstrmojo.XtabMagnifierHelper");var d=mstrmojo.css,F=mstrmojo.dom;var I=0;var V=1;var Q=2;var e=3;function R(g,h){d.toggleClass(g.firstChild,"tx-active",h);}function C(g){if(g){g.domNode.style.pointerEvents="auto";}}function N(){if(mstrMobileApp.isOnline()){return ;}var m=this.controller,s,q,g,h,v,k,l,p,n=[],j=[],t;if(!m.getLinkRequest){return ;}for(s in this.zones){if(s==="_BL"||s==="_BR"){q=this.zones[s];g=q.getNodesByPositions(q.posMap);for(l=0;l<g.length;l++){h=g[l];v=this.getCellForNode(h);if(v&&v.at&&(v.at&4)){k=this.model.getAction(this.getActionCells(v),null);if(k){p=k.a;t=m.getLinkRequest(p);if(t){n.push(t);j.push(h);}}}}}}var o=n.length;if(o){var u=function(x){var w,y;for(w=0;w<o;w++){y=j[w];if(!x[w]){y.setAttribute("hl_d",true);d.addClass(y,"hl_d");}}};if(mstrApp.isHosted()){}else{this.model.getDataService().checkCachedLinkTargets(n,{success:u,failure:mstrmojo.emptyFn});}}}function a(){if(mstrMobileApp.isOnline()){var l,g,h,k,j;for(l in this.zones){if(l==="_BL"||l==="_BR"){g=this.zones[l];h=g.getNodesByPositions(g.posMap);for(j=0;j<h.length;j++){k=h[j];k.removeAttribute("hl_d");d.removeClass(k,"hl_d");}}}}else{N.call(this);}}mstrmojo.MobileXtab=mstrmojo.declare(mstrmojo.XtabBase,[mstrmojo._TouchGestures,mstrmojo._HasXtabTouchScroll,mstrmojo._XtabSelections,mstrmojo._HasMagnifier],{scriptClass:"mstrmojo.MobileXtab",frameRate:30,enableMagnifier:true,useSeamlessIncFetch:false,allowToggleSelections:true,markupMethods:{onvisibleChange:function(){this.domNode.style.display=(this.visible)?"block":"none";},onheightChange:function(){this.domNode.style.height=this.height||"";},onwidthChange:function(){this.domNode.style.width=this.width||"";}},init:function X(g){this._super(g);this.magnifierHelper=new mstrmojo.XtabMagnifierHelper({xtab:this});this.disposables.push(this.magnifierHelper);},gridPagesRendered:function B(){this._super();N.call(this);},onRender:function G(){this._super();var g=this.interactiveCellsArray;if(g&&g.length>0&&this.controller.getLinkRequest){if(!this.subscr){var j=mstrmojo.publisher;this.subscr=j.subscribe(j.NO_SRC,j.CONNECTIVITY_CHANGED_EVENT,a,this.id);}if((mstrApp.useBinaryFormat||mstrApp.isHosted())&&!mstrMobileApp.isOnline()){var h=this;window.setTimeout(function(){try{N.call(h);}catch(k){}},100);}}},unrender:function Z(){if(this.subscr){mstrmojo.publisher.unsubscribe(this.subscr);delete this.subscr;}this._super();},getDataService:function J(g){return this.model.getDataService();},setData:function E(g){this.set("gridData",g);},createZone:function D(g){g=g||{};var h=this.getDataService();g.imgCacheMap=(h&&h.imgCache)||this.imgCacheMap;g.unCachedMap={};return new mstrmojo.XtabZone(g);},showDownloadStatus:function b(){},onclick:mstrmojo.emptyFn,setupTNs:function O(){var h=this.contentNode,g=h.rows[1].cells[1].lastChild,j=0;switch(this.lockHeadersCase){case I:this._TSN.x=[g.lastChild.lastChild];this._TSN.y=[g.firstChild];break;case Q:this._TSN.x=[h];this._TSN.y=[g.firstChild];break;case V:this._TSN.x=[g];this._TSN.y=[h];j=-1;break;case e:this._TSN.x=[h.rows[0].cells[1].lastChild,g.firstChild];this._TSN.y=[h.rows[1]];j=2;break;}if(j){this._TSN.x[0].style.zIndex=j;}this.setOffsets();this.attachEventListener("scrolledOut",this.id,this.scrolledOut);},useDomToCalculateOffsets:function P(){return(this.lockHeadersCase===I||(this._super&&this._super()));},setOffsets:function c(){var x=0,n=0;var o=this.lockHeadersCase;if(this.useDomToCalculateOffsets()){var h=this._TSN,w=h.x[0],p=h.y[0];x=w.offsetLeft+w.offsetWidth+(!!(o&V)?this._BL.offsetWidth:0);n=p.offsetTop+p.offsetHeight+(!!(o&Q)?this._TR.offsetHeight:0);}else{var j=this.zones,t=(this.gridData.rh&&parseInt(this.gridData.rh,10))||0,q=j._TR?j._TR.cp.rc:0,u=j._BR.cp.rc,k=j._BL?j._BL.totalColWidth:0,g=j._BR.totalColWidth;n=((o===V)?u:q+u)*t;x=(o===Q)?g:k+g;}var m=1,s=2,l=this.getGridDimension(s)||0,v=this.getGridDimension(m)||0;this._TMAX={x:Math.min(l-x,0),y:Math.min(v-n,0)};if(this._super){this._super();}},touchTap:function Y(h){if(!this.magnifier){if(this._super){this._super();}if(this.performAction(h)===false){var g=this.controller;if(g&&g.viewTap){g.viewTap();}}}},performAction:function W(n){this.deselectCell();var m=F.findAncestorByAttr(n.target,"ei",true,this.domNode);if(!m||!m.value){return false;}var l=m.node,g=this.getCellForNode(l),k=g.at;if(this._super&&this._super(n)){return ;}if(!k){return false;}if((k&4)&&!l.getAttribute("hl_d")){var h=document.createElement("div"),j=h.style;id=this.id;h.className="activeLink on";j.left=l.offsetLeft+"px";j.top=l.offsetTop+"px";j.width=l.offsetWidth+"px";j.height=l.offsetHeight+"px";l.appendChild(h);window.setTimeout(function(){var o=mstrmojo.all[id];if(o&&o.hasRendered){F.attachOneTimeEvent(h,"webkitTransitionEnd",function(){l.removeChild(h);});d.removeClass(h,"on");}},200);}this.defaultAction(l);},selectCell:function L(g){var j=document.createElement("div"),h=j.style;j.className="overlay";h.top=g.offsetTop+"px";h.left=(g.offsetLeft+1)+"px";h.height=(g.clientHeight-2)+"px";h.width=(g.clientWidth-1)+"px";g.appendChild(j);},flagDirtyUnit:function f(g){R(g,true);},clearDirtyUnit:function M(g){R(g,false);},deselectCell:function U(){var g=this._selectedCell;if(g){g.removeChild(g.lastChild);delete this._selectedCell;}},touchSelectBegin:function A(j){if(this.enableMagnifier){var h=this.controller,g;if(h.getMagnifierConfig){g=h.getMagnifierConfig();}this.displayMagnifier(j,g);}},touchSelectMove:function H(h){if(this.enableMagnifier){var g=this;this.latestTouch=h;if(!this._moveMagnifierTimer){this._moveMagnifierTimer=setTimeout(function(){g.displayMagnifier(g.latestTouch);g._moveMagnifierTimer=null;},50);}}},touchSelectCancel:function T(g){C(this.magnifier);},touchSelectEnd:function S(g){C(this.magnifier);},getCaptureDimensions:function K(){var h=this.viewport,g=F.position(this.domNode,true);g.w=Math.min(h.offsetWidth,g.w);g.h=Math.min(h.offsetHeight,g.h);return g;}});}());(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.func","mstrmojo.Obj");var D=mstrmojo.hash;var E=0;var M=[];var P={};var B=false;function H(R){var S=R.callback;if(S.submission){S.submission(this.userInteractionRequired(R));}this.submitRequest(R);}function K(){if(M.length&&!B){H.call(this,M.shift());}}mstrmojo.ServerProxy=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.ServerProxy",transport:null,cnt:0,request:function I(b,Y,S,T){if(S){this.cancelRequests();}var V=this.id,W=this.transport,R=mstrmojo.now()+Y.taskId+E++,U=b.canceled||mstrmojo.emptyFn;b.canceled=function(c){U();b.complete(true);return W.cancelRequest(c);};b=mstrmojo.func.wrapMethods(b,{complete:function(c){mstrmojo.all[V].deleteRequest(c);}});var X=!D.isEmpty(this._requests),Z=this.createRequest(R,b,Y,T),a=(B||X)&&!T.doNotHold;if(a){M.push(Z);}else{H.call(this,Z);}},createRequest:function C(U,W,V,R){var S=this._requests;if(!S){S=this._requests={};}var T=S[U]={id:U,callback:W,params:V,config:R};return T;},submitRequest:function F(R){this.transport.serverRequest(this.id,R.id,R);},cancelRequests:function O(){var R=false;D.forEach(this._requests,function(S){if(typeof S.gotResponse==="undefined"){R|=S.callback.canceled(S.id);}});this._requests={};M=[];return R;},response:function G(V,R,T){$MAPF(false,"AndroidServerTransport","transportRequest");var U=this.getRequest(V);if(U){U.gotResponse=true;var W=U.callback,S=(R&&!T.mstrerr)?"success":"failure";try{if(W[S]){W[S](T,U);}}finally{W.complete(V);}}K.call(this);},deleteRequest:function Q(S){var R=this._requests;delete R[S];},getRequest:function A(S){var R=this._requests;return R&&R[S];},userInteractionRequired:function L(R){return false;},addLoadingGraph:function J(R){P[R]=true;B=true;},removeLoadingGraph:function N(R){delete P[R];if(D.isEmpty(P)){B=false;K.call(this);}}});}());(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.hash","mstrmojo.dom","mstrmojo.array","mstrmojo._ResultSetXt","mstrmojo._ReportDataService");function B(U,V,R,S){var T=this;mstrApp.serverRequest(U,{success:function(W){T.msgId=W.id;T.visName=W.visName;T.getResults(S,V);},failure:function(W){if(V.failure){V.failure(W);}},canceled:function(){if(V.canceled){V.canceled();}}},R);}function C(T,S){var R={hideWait:!T,delay:true};R["show"+(S?"Progress":"Wait")]=true;return R;}var F={objectType:3};var G=mstrmojo.hash.copy,J=mstrmojo.array;function L(){var R="MojoXtabStyle",T=this.visName;if(T){var S=mstrmojo.AndroidVisList.getVis(T);R=(S&&S.s)||R;}return R;}mstrmojo.XtabDataService=mstrmojo.declare(mstrmojo.Obj,[mstrmojo._ResultSetXt,mstrmojo._ReportDataService],{scriptClass:"mstrmojo.XtabDataService",execute:function K(W,Y,U){var X=this.id;var T=this.controller.ab;if(T){var V=T.split("|"),R=mstrApp.isTablet()?"73^":"72^";J.forEach(V,function(c,a,Z){var b=c.indexOf(R);if(b>=0){mstrmojo.all[X].visName=c.substring(b+3);return false;}});}var S=mstrmojo.hash.copy(W,{});S.taskId=S.taskId||"reportExecute";S.reportID=S.reportID||this.dssId;S.styleName=mstrApp.isTablet()?"AndroidTabletMessageResultStyle":"AndroidMessageResultStyle";if(W){if(W.dssId){S.reportID=W.dssId;}}this.dssId=S.reportID;this._super(S,Y,U);},getResults:function A(X,Z){var W=L.call(this),V=mstrMobileApp.getDeviceDPI(),a=160;if(V<160){a=80;}else{if(V>240){a=230;}}var Y={taskId:"iPhoneGetReportResults",styleName:W,zoomFactor:a,deviceMode:mstrApp.isTablet?(mstrApp.isTablet()?73:72):0};if(X){var T=X.pbUnits,U=X.yPos,S=X.colsPerPage,R=X.rowsPerPage;if(T){Y.pageByKeys=this.pageByUnitsToKeys(T);}if(U){Y.yPos=U;}if(S){Y.colsPerPage=S;}if(R){Y.rowsPerPage=R;}}this._super(Y,Z);},answerPrompts:function I(R,S){this._super(R,S,G(F));},loadPrompts:function H(S,R){this._super(S,G(F,R));},drill2Grid:function D(S,T){var R={taskId:"RWGridDrillToReport",msgID:S.srcMsgId,displayMode:-1,retainParent:3,retainThreshold:3,drillPathKey:S.drillPathKey,drillPathIndex:S.drillPathIndex,elementList:S.drillElements,nodeKey:S.nodeKey,rwGroupByElements:S.rwGroupByElements};if(S.sliceId){R.sliceId=S.sliceId;}B.call(this,R,T,C(true,true));},drillGrid:function Q(R,S){B.call(this,{taskId:"gridDrill",msgID:R.srcMsgId,drillPathKey:R.drillPathKey,drillPathIndex:R.drillPathIndex,elementList:R.drillElements},S,C(true,true));},pageBy:function M(S,U){var T=mstrApp,R={taskId:"changePageBy",messageID:this.msgId,pageByKeys:this.pageByUnitsToKeys(S)};if(!T.useBinaryFormat){R.taskId="iPhoneGetReportResults";R.styleName=L.call(this);R.zoomFactor=200;}mstrApp.serverRequest(R,U,C());},sort:function E(R,S){B.call(this,{taskId:"gridSort",msgID:this.msgId,sortKey:R.sortKey,sortOrder:((R.isAsc)?1:0),subtotalPos:R.subTotalsPos,clearSorts:1},S,C());},pivot:function O(S,T){var R={taskId:"gridPivot",msgID:this.msgId,objectId:S.objectId,pos:S.pos,objectType:S.objectType};if(S.axis){R.axis=S.axis;}B.call(this,R,T,C());},getImage:function N(R){if(R&&R.indexOf("://")===-1){R=mstrApp.getConfiguration().getHostUrlByProject(mstrApp.getCurrentProjectId())+R;}return(mstrApp.useBinaryFormat)?String(mstrMobileApp.getImage(R)):R;},downloadGridData:function P(R,S){mstrApp.serverRequest({taskId:"DocXtabIncrementalFetch",nodeKey:"",rowPosition:R.rowPosition,maxRows:R.maxRows,colPosition:-1,maxColumns:-1},S);}});}());(function(){mstrmojo.requiresCls("mstrmojo.dom");var C=mstrmojo.dom,E=false;mstrmojo._FillsBrowser=mstrmojo.provide("mstrmojo._FillsBrowser",{_mixinName:"mstrmojo._FillsBrowser",getBrowserDimensions:function(){var F=C.windowDim(),J=(C.isFF||C.isWK)?0:2;var G=F.w,I=F.h;if(E){var H=I;I=G;G=H;}return{w:Math.max(G,0)+"px",h:Math.max(I-J,0)+"px"};},simulateOrientationChange:function A(){E=!E;this.monitorWindow();},preBuildRendering:function B(){var G=true;if(this._super){G=this._super();}var H=this.getBrowserDimensions();if(!("browserResized" in this)||this.browserResized(H)!==true){this.height=H.h;this.width=H.w;}if(!this._listenerProc){window._monitor=this;var I=this.id,F=this._listenerProc=function(K){var J=K||window.event;mstrmojo.all[I].monitorWindow(J);};C.attachEvent(window,"resize",F);}return G;},destroy:function D(F){if(this._listenerProc){C.detachEvent(window,"resize",this._listenerProc);}this._super(F);},monitorWindow:function(F){var H=F.currentTarget,I=this.getBrowserDimensions(),G={w:(H?H.innerWidth+"px":I.w),h:(H?H.innerHeight+"px":I.h)};if(G.h===this.height&&G.w===this.width){return ;}if(!("browserResized" in this)||this.browserResized(G)!==true){if(G.h!==this.height){this.set("height",G.h);}if(G.w!==this.width){this.set("width",G.w);}}}});}());(function(){mstrmojo.requiresCls("mstrmojo.MobileXtab","mstrmojo._HasMagnifier");var D="overflow:auto",N="overflow:hidden",J=mstrmojo.dom;function L(V,U){var Q=V.domNode;if(!Q){return false;}var T=U.toLowerCase(),P=V[T],R=parseInt(P,10),S=(U==="Width");Q.style[((S)?"left":"top")]=0;Q.style[T]=P;V.contentNode.parentNode.style[T]=P;V["scrollbox"+U]=R;return true;}function I(g){var X=[];X.push('<table style="border-spacing:0px 0px;background:white;border-collapse:collapse;table-layout:auto">');var Q=function(c,k,j){var h=function(n,m,l){if(n&&n.ts===4){X.push('<td  class="'+(n.css||"")+(l?" xtab-selected-cell":"")+'" ><img src="'+(n.n||n.v)+'"/></td>');}else{X.push('<td  class="'+(n.css||"")+(l?" xtab-selected-cell":"")+'" style="white-space:nowrap;'+m+'">'+(n.n||n.v||"&nbsp;")+"</td>");}};X.push("<tr>");h(c,"text-decoration:none;text-align:right !important");h(k,"text-decoration:none;text-align:left !important",j);X.push("</tr>");};var W=g.si,e=false,P=g.th.length;for(var V=0,Z=g.rh[0].length;V<Z;V++){var S=g.th[0][V];if(P>1&&V===Z-1){S=g.th[P-1][0];}if(V==W){Q(S,g.rh[0][V],true);e=true;break;}Q(S,g.rh[0][V]);}var d=null;if(!e){for(var U=0,f=g.ch.length;U<f;U++){var R=V;for(var T=0,b=g.ch[U].length;T<b;T++){var a=g.ch[U][T],Y=(a&&a.cs)||1;if((W>=R)&&(W<R+Y)){if(a.mix!==undefined){d=a;}else{Q(U==0?g.th[0][V-1]:g.th[U][0],a);}break;}R+=Y;}}Q(a,g.vs[0][W-V],true);}X.push("</table>");return X.join("");}function B(P){var Q=P.target;while(Q&&Q.tagName!="TD"){Q=Q.parentElement;}return Q;}mstrmojo.iXtab=mstrmojo.declare(mstrmojo.MobileXtab,[mstrmojo._FillsBrowser,mstrmojo._HasMagnifier],{scriptClass:"mstrmojo.iXtab",scrollboxHeightFixed:false,enableXtabInteractivity:false,rowAdjust:0,preBuildRendering:function O(){this.numRowFixed=true;this.scrollboxNodeOverflow=N;if(this.enableXtabInteractivity){mstrmojo.requiresCls("mstrmojo._iToolbarMgr");this.toolbarMgr="mstrmojo._iToolbarMgr";}return this._super();},postBuildRendering:function C(){var S=this._super();var P=this.msgNode,T=this.maskNode,U=J.CSS3_TRANSITION_END,V=mstrmojo.dom.attachEvent,Q=mstrmojo.css.parkAfterFade;P.style.height="auto";P.style.width="auto";V(T,U,Q);V(P,U,Q);var R=this;window.setTimeout(function(){T.style.opacity=0;R.clearTransitionCurtain();var W=R.imgCacheMap;if(W&&W.unCachedImg&&W.unCachedImg.length>0){if(R.model&&R.model.cacheImages){R.model.cacheImages(W.unCachedImg.join(",,,"));}}},400);if(this.enableXtabInteractivity){this.requiresContrib("toolbarMgr",true);}if(this.lockHeadersCase==LOCK_OFF||this.lockHeadersCase==LOCK_ROW){this.rowAdjust=this.chsCP.rc||0;}return S;},setTransitionCurtain:function K(P){if(P){P.style.zIndex=20;this.transitionCurtain=P;}},clearTransitionCurtain:function F(){var P=this.transitionCurtain;if(P){var Q=P.style;window.setTimeout(function(){Q.zIndex=-1;P.innerHTML="";},10);Q.opacity=0;}},performAction:function H(R){this.deselectCell();var Q=mstrmojo.dom.findAncestorByAttr(R.target,"ei",true,this.domNode);if(!Q||!Q.value){if(this.controller.touchTap){this.controller.touchTap();}return ;}var P=Q.node;this.defaultAction(P);},updateActionMenu:function A(P,Q){if(this.enableXtabInteractivity&&this.toolbarMgr){this.toolbarMgr.showToolbar(P,Q,this);return true;}else{return false;}},browserResized:function M(Q){if(this.height!==Q.h||this.width!==Q.w){this.height=Q.h;this.width=Q.w;var P=L(this,"Width"),R=L(this,"Height");if(P||R){this.setOffsets();}return true;}return false;},scrolledOut:function E(V){var Q=Math.abs,W={x:0,y:0},T=V.axis,R=(0.2*parseInt(T==="x"?this.width:this.height,10)),P=Q(this._TMAX[T]),S=this._TMIN[T],U=V.value;if(T=="y"&&this.useSeamlessIncFetch){return ;}if((U>(R+P))||(U<(S-R))){W[T]=U;this.controller.swipe({cmd:V.direction,offX:W.x,offY:W.y});}},createZone:function G(P){P=P||{};P.tbodyStyle="background-color:white;";return this._super(P);}});})();(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.array","mstrmojo.StringBuffer","mstrmojo.ResSetLink");var a=1,P=2;var C=2,H=4;var S=1,K=4;function F(b,c){return b[((c===a)?"row":"col")];}function A(b,d){var c=d.lm;return c&&c[b.mix||0];}function G(b,d){var c=d.dp;return c&&c[b.mix||0];}function V(q,k,c){var m=new mstrmojo.ResSetLink({mid:this.getMessageId(),srct:2,aopam:k.daMode});var h=k.ans,g=h&&h.length;if(g){var o=m.prms=[],y=0;for(y=0;y<g;y++){var w=h[y];var v=w.pid,x=parseInt(w.m,10),s={id:v,am:x,pt:w.pt};o.push(s);if(w.po){s.orid=w.po.did;s.ortp=w.po.t;}switch(x){case m.DO_NOT_ANSWER:case m.CLOSE:case m.USE_DEFAULT_ANSWER:case m.SAME_PROMPT:break;case m.STATIC:var AA=w.es,l=(AA&&AA.length)||0,n;s.pa={es:[]};for(n=l-1;n>=0;--n){var t=AA[n];s.pa.es.push({ei:t.id,disp_n:t.n,emt:1});}break;case m.DYNAMIC:case m.ALL_VALID_UNITS:case m.CURRENT_UNIT:var d=w.dunits;if(d&&d.length&&c){var b=s.pa={};var p=c,j=(c.mix!==undefined)&&(c._lp||c._tp);if(j){p=c._lp||c._tp;}var f=parseInt(p.axis,10);while(p){var AB=this.getPTitle(p,f);if(AB&&mstrmojo.array.find(d,"id",AB.id)>=0){if(x!==m.DYNAMIC){b.a={id:AB.id,n:AB.n,dispForms:AB.dfi};}if(w.pt===1){b.v=p.v;break;}else{var u=p._e.id,e=p._e.n;b.es=[];b.es.push({ei:u,emt:1,disp_n:e});}if(x===m.CURRENT_UNIT){break;}}p=this.getPCellParentNode(p,f);if(j&&!p&&f===a){f=P;p=c._tp;}}}break;}}}return m;}function N(e){var d=this.getCellTitleInfo(e[0]),g=[],j=function(c){if(c){if(mstrApp.useBinaryFormat){if(c._e){g.push(c.axis+"A"+(c.ui+1)+"A"+c._e.id);}j(c._p);}else{g.push(c.axis+"A"+(c.ui+1)+"A"+c.o);}}},f,b;if(!d.isSrcTitle){for(f=0,b=e.length;f<b;f++){var h=e[f];if(h.mix!==undefined&&(h._lp||h._tp)){j(h._lp);j(h._tp);}else{j(h);}}}return(mstrApp.useBinaryFormat)?g:g.join(",");}mstrmojo.XtabModel=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.XtabModel",getMessageId:function O(){return this.data.mid;},getCellTitleInfo:function W(c,f){var d=f?f.gts:this.data.gts;var e=null;if(c.mix===undefined){e=F(d,c.axis)[c.tui||c.ui];}else{var b=function(j){var g=(j&&j.length)||0,h;for(h=g-1;h>=0;--h){if(parseInt(j[h].otp,10)===-1){return j[h];}}return null;};e=b(d.col)||b(d.row);}return{isSrcTitle:(c.o===undefined),title:e};},getCellLinksInfo:function Y(c,d){if(!d){var b=this.getCellTitleInfo(c);d=b&&b.title;}return A(c,d);},getCellDrillsInfo:function E(c,d){if(!d){var b=this.getCellTitleInfo(c);d=b&&b.title;}return G(c,d);},getLinkDrillAction:function L(b){return this.getActionObject(b);},getAction:function R(b){return this.getActionObject(b);},getActionObject:function I(c){var b=c[0]&&c[0].at,d=null;if(b){if(b&K){d={h:"onLink",a:this.getLinkAction(c[0])};}else{if(b&S){d={h:"onDrill",a:this.getDrillAction(c)};}}}return d;},getSortAction:function D(q,k){var f=this.getCellTitleInfo(q),n=f.title,p=this.data.gts[((q.axis===a)?"row":"col")+"SubPos"],b=[],d=n.axis,h,m,l,o;k=(k===null||k===undefined)?!(q&&q.so):k;if(f.isSrcTitle){h=C;m=n.id;l=n.otp;o=n.fid;}else{h=H;l=4;d=a;p=this.data.gts.rowSubPos;do{var j=q._e;if(j){if(j.oid){m=j.oid;}else{b.push(j.id);}}q=q._p;}while(q);}var g={sortType:h,axis:d,isAsc:k,unitID:m,unitType:l,elementList:b.join("\u001E"),subTotalsPos:p};if(m){g.unitID=m;}if(o){g.formId=o;}var c;if(h===H){c=["","",g.elementList||"",g.axis];}else{c=[g.formId,"21"];}c=[g.unitType,g.unitID].concat(c);g.sortKey=c.join("!");return g;},getPivotAction:function J(p,d){var n=false,q=p.hasOwnProperty("mix"),b=(q)?null:p.axis,o=((q)?p.mix:p.ui)+1,c=(p.otp===-1);if(!isNaN(d)){b=d;o=1;if(q){q=false;c=true;}}else{var h=(d==="u"||d==="l");if(!q){var g=F(this.data.gts,b),f=0,e={},k=false;mstrmojo.array.forEach(g,function(s){if(e[s.id]){e[s.id].frm++;}else{f++;e[s.id]={pos:f,frm:1};if(s.id===p.id){k=true;}else{if(k){return false;}}}});o=e[p.id].pos;var l=p.fix;if(l){if(!h||l>1){if(h||l!==e[p.id].frm){o=l;n=true;}}}}o=o+((h)?-1:1);}var j={pos:o};if(n){j.formID=p.fid;}else{if(!q){j.axis=b;}}if(!c){var m=(q)?p._e:p;if(!n){j.objectType=m.otp;}j.objectId=(q)?m.oid:p.id;}return j;},isPvtButtonVisible:function X(k,e){var g=k.axis,f=F(this.data.gts,g),d=k.hasOwnProperty("mix");if(!isNaN(e)){if(parseInt(e,10)===g){return false;}if(d){return !!f[k.ui]._hid;}return true;}var h=f[k.ui].es,j=k.ui,b=(d)?h.length:f.length;if(b===1){return false;}if(g===((d)?P:a)){if(e==="u"||e==="d"){return false;}}else{if(e==="l"||e==="r"){return false;}}if((d)?k._e===h[0]:j===0){if(e==="l"||e==="u"){return false;}}if(d?k._e===h[b-1]:j===b-1){if(e==="r"||e==="d"){return false;}}return true;},getDrillAction:function B(c){var b=this.getCellTitleInfo(c[0]),e=b.title,d=e.dp[c[0].mix||0];return{srcMsgId:this.data.mid,isWithin:d.within,drillPathKey:d.k,drillPathIndex:d.dpi,drillElements:N.call(this,c)};},getPTitle:function Z(d,c){var b=this.data.gts;return F(b,c)[d.tui];},getPCellParentNode:function M(c,b){return c._p;},getLinkAction:function Q(d,c){var b=this.getCellTitleInfo(d),e=b.title;return this.getLinkActionImpl(d,e,c);},getLinkActionImpl:function U(o,k,m){var d=A(o,k),l=d&&d.links,p=(d.onw)?"_blank":"";if(m===null||m===undefined){m=(d&&d.di)||0;}var g=l&&l[m];if(!g){return null;}var e={linkInfo:g,linkTarget:p};var b=g.url;if(b){var f="&CurrentElement";if(o&&k&&b.indexOf(f)>-1){b=b.replace(f,o._e.id);}e.url=b;}else{var h=g.target,n,c;switch(parseInt(h&&h.t,10)){case 55:if(parseInt(h.st,10)===14081){n=2048001;c="objectID";}else{n=32001;c="documentID";}break;case 3:n=4001;c="reportID";e.reportViewMode=((parseInt(h.st,10)===769)?2:1);break;default:return null;}e.evt=n;e[c]=h.did;e.srcMsgId=this.getMessageId();var j=V.call(this,d,g,o);if(j){e.link=j;}return e;}},getDownloadAction:function T(e,c,g,d,f,b){return{xtabId:f,rowPosition:e,maxRows:c,colPosition:g,maxColumns:d,memo:b};}});}());(function(){var L=8;function F(M){mstrApp.serverRequest(M);}function B(){var M=mstrmojo.all;for(var N in M){mstrmojo.registry.remove(M[N]);}}var D=function(M){return M.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;");};var G="iRoot";var C={data:null,controller:null,adjustSize:function(){var M=mstrmojo.all[G];M&&M._monitorWindow();},getRWInfo:function(){var M=mstrmojo.all[G].gridData.rw;return'<ifd tr="'+M.tr+'" wmr="'+M.wmr+'" tc="'+M.tc+'" wmc="'+M.wmc+'" wsr="'+M.wsr+'" wsc="'+M.wsc+'"/>';},getPBInfo:function(){var R="",O=mstrmojo.all[G].gridData,P=O.ghs.phs,N=O.ci,S=O.n||"";if(P||N||S){R='<report_info n="'+D(S)+'">';if(N){R+='<ci cid="'+N.cid+'" tp="'+N.tp+'" utm="'+N.utm+'"/>';}if(P){R+="<pbe>";var Q=P.cets;for(var M in Q){R+='<pb ei="'+D(Q[M].eid)+'"/>';}R+="</pbe>";}R+="</report_info>";}return R;},hasPageBy:function(){var M=mstrmojo.all[G].gridData.ghs.phs;if(M&&M.cets){return"1";}return"0";},render:function(N){var Q=N,M=G,O=this.data;B();if(O&&O.eg){return O.eg;}var P=new mstrmojo.iXtab({id:M,placeholder:G,formatResolver:{getFormat:function(R){return R.fmts;}},defn:new mstrmojo.Model({fmts:{top:"0",left:"0",scrollarea:{y:459,x:319}}}),imgCacheMap:Q,controller:this.controller});P.model=new mstrmojo.XtabModel({controller:this.controller});P.update({data:O});P.render();return ;},destroy:function(){var M=mstrmojo.all[G];if(M){var P=M.domNode,Q=P.lastChild,O=P.childNodes.length,N=0;for(N=0;N<O;N++){window.setTimeout(function(){P.removeChild(P.lastChild);},0);}}}};function H(M,N){C.controller=M;C.data=N;return C;}mstrmojo.iPhoneXtabController=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.iPhoneXtabController",init:function K(){},setData:function(M){this.data=M;},getProxy:function(M){return H(this,M);},touchTap:function(){var M={cmd:"tap"};F(M);},swipe:function(M){F(M);},sortGrid:function I(M,N){var O={cmd:"sort",sortKey:N.sortKey,sortOrder:N.sortOrder,clearSort:1,subtotalPos:N.subTotalsPos};F(O);},pivotGrid:function A(M,N){var O={cmd:"pivot",pos:N.pos,axis:N.axis,objectType:N.objectType};F(O);},onDrill:function J(N,P){var O=P.drillElements,Q={cmd:"drl",dk:P.drillPathKey};if(O){var M=O.split("A");Q.a=M[0];Q.d=M[1];Q.o=M[2];}F(Q);},onLink:function E(M,N){if(N.link){N.linkAnswers=link.toXml();delete N.link;}var Q=mstrmojo.hash.copy(N,{cmd:"lnk"});linkInfo=N.linkInfo,areAllAnswersDefault=(linkInfo.daMode==L);if(areAllAnswersDefault){var P=linkInfo.ans;if(P){for(i=0,cnt=P.length;i<cnt;++i){if(P[i].m!=L){areAllAnswersDefault=false;break;}}}}Q.areAllAnswersDefault=areAllAnswersDefault?1:0;var O=linkInfo.target;Q.tty=O&&O.t;delete Q.linkInfo;delete Q.linkTarget;delete Q.srcMsgId;F(Q);}});})();(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.form","mstrmojo.ServerProxy");mstrmojo.iPhoneServerTransport={serverRequest:function B(H,G,F){mstrmojo.form.send(F.params,null,"POST");}};mstrmojo.iPhoneApp=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.iPhoneApp",serverProxy:null,init:function E(F){this._super(F);if(!this.serverProxy){this.serverProxy=new mstrmojo.ServerProxy({transport:mstrmojo.iPhoneServerTransport,_sessions:{}});}},setTarget:function D(F){this.data=F;},setSessionState:function(G,F,H,I){this.serverProxy._sessions[F]=this.sessionState=G;this.baseTaskUrl=I;this.projectId=F;this.hostUrl=H+"/";},getXtabProxy:function A(){if(this.controller){return this.controller.getProxy(this.data);}else{var F=this.controller=new mstrmojo.iPhoneXtabController();return F.getProxy(this.data);}},getDocProxy:function C(){if(this.controller){return this.controller.getProxy(this.data);}else{var F=this.controller=new mstrmojo.iPhoneDocController();return F.getProxy(this.data);}},serverRequest:function B(H){try{var G=this;window.setTimeout(function(){G.serverProxy.request({},H);},0);}catch(F){mstrmojo.err(F);}}});})();