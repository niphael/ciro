(function(){mstrmojo._CanRenderChildrenOnShow=mstrmojo.provide("mstrmojo._CanRenderChildrenOnShow",{_subs_renderOnShow:null,childRenderCheck:function B(D){if(this.renderMode!=="onshow"){return this._super(D);}else{if(D.visible){return this._super(D);}else{var C=this._subs_renderOnShow;if(!C){C={};this._subs_renderOnShow=C;}if(!C[D.id]){C[D.id]=D.attachEventListener("visibleChange",this.id,"_on_child_visibleChange");}return false;}}},_on_child_visibleChange:function A(C){if(this.hasRendered){var E=C&&C.src;if(E&&this.childRenderCheck(E)){var D=this._subs_renderOnShow;if(D){E.detachEventListener(D[E.id]);delete D[E.id];}E.render();}}}});})();(function(){mstrmojo.ObjectBrowserDataProvider=mstrmojo.declare(mstrmojo.Object,null,{scriptClass:"mstrmojo.ObjectBrowserDataProvider",callback:null,ob:null,item:null,path:mstrConfig.taskURL,fetchFolderContents:function(A,B,E){this.ob=A;this.item=B;this.callback=E;var C=this.ob.blockCount,D={taskId:"searchMetadata",styleName:"MojoFolderStyle",blockCount:C,includeAncestorInfo:true,includeObjectDesc:A.includeObjectDesc};if(A.folderLinksContextId){D.folderLinksContextId=A.folderLinksContextId;}if(A.sId){D.sessionState=A.sId;}if(B.fid){D.rootFolderID=B.fid;}else{if(B.fty){D.rootFolderType=B.fty;}}if(A.browsableTypes){D.objectType=A.browsableTypes;}if(B.blockBegin){D.blockBegin=B.blockBegin;}if(B.searchPattern){D.searchPattern=B.searchPattern;if(B.recursive){D.recursive=B.recursive;}}mstrmojo.xhr.request("POST",this.path,E,D,undefined,this.XServer,this.baseParams);},newFolder:function(D,E,C,A){var B={taskId:"createFolder",folderID:D,name:E,description:C};mstrmojo.xhr.request("POST",this.path,A,B,undefined,this.XServer,this.baseParams);}});})();(function(){mstrmojo.requiresCls("mstrmojo.string");var D=mstrmojo.string,F=1;mstrmojo.ListBuilder=mstrmojo.provide("mstrmojo.ListBuilder",{newContext:function E(G){var I=G.itemMarkupFunction;if(!I){var H=G.itemMarkup||(G.itemField&&'<div class="mstrmojo-text">{@'+G.itemField+"}</div>");I=H?function(K,J,L){return D.apply(H,K);}:null;}return{itemStatus:[],itemFunc:I};},build:function A(I,H,J,G){H.itemStatus[G]=F;return H.itemFunc(J,G,I);},onadd:function B(I,G,H){if(G){mstrmojo.array.insert(G.itemStatus,H.index,new Array(H.value.length));}},onremove:function C(I,G,H){if(G){G.itemStatus.splice(H.index,H.value.length);}}});})();(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash");var R=mstrmojo.dom,P=mstrmojo.hash;var M=100;var E=R.supportsTouches?0.5:1;var F=1;var Q=100;var N={onvscrollVisibleChange:function(){var U=this.vscrollNode,V=U&&U.style;if(!V){return ;}if(this.vscrollVisible){var T=this.maxPos,W=this.clientSize;V.height=Math.round(W.y*W.y/T.y)+"px";V.left=(W.x-5)+"px";V.display="block";V.opacity=0.5;}else{V.opacity=0;}},onhscrollVisibleChange:function(){var V=this.hscrollNode,U=V&&V.style;if(!U){return ;}if(this.hscrollVisible){var T=this.maxPos,W=this.clientSize;U.width=Math.round(W.x*W.x/T.x)+"px";U.top=(W.y-5)+"px";U.display="block";U.opacity=0.5;}else{U.opacity=0;}}};var K=P.copy({onposChange:function(){var V=this.clientSize,U=this.maxPos,T=0,W=0;if(this.scrollsVert){W=this.pos.y;if(this.vscrollVisible){this.vscrollNode.style[R.CSS3_TRANSFORM]="translateY("+Math.round((V.y-(V.y*V.y/U.y))*this.pos.y/U.y)+"px)";}}if(this.scrollsHoriz){T=this.pos.x;if(this.hscrollVisible){this.hscrollNode.style[R.CSS3_TRANSFORM]="translateX("+Math.round((V.x-(V.y*V.x/U.x))*this.pos.x/U.x)+"px)";}}this.scrollChild.style[R.CSS3_TRANSFORM]="translate3d(-"+parseInt(T,10)+"px, -"+parseInt(W,10)+"px, 0px)";},ondeceleratingChange:function(){this.scrollChild.style[R.CSS3_TRANSITION]=this.decelerating?(R.CSS3_PREFIX+"transform 0.2s linear"):"";}},P.copy(N));var G=P.copy({onposChange:function(){var V=this.clientSize,U=this.maxPos,T=0,X=0,W=this.scrollboxNode;if(this.scrollsVert){X=this.pos.y;if(this.vscrollVisible){this.vscrollNode.style.top=Math.round((V.y-(V.y*V.y/U.y))*this.pos.y/U.y)+"px";}W.scrollTop=parseInt(X,10);}if(this.scrollsHoriz){T=this.pos.x;if(this.hscrollVisible){this.hscrollNode.style.left=Math.round((V.x-(V.y*V.x/U.x))*this.pos.x/U.x)+"px";}W.scrollLeft=parseInt(T,10);}}},P.copy(N));mstrmojo._TouchScrolling=mstrmojo.provide("mstrmojo._TouchScrolling",{FRICTION:0.65,BOUNCEFRICTION:0.5,usesTouches:false,bounces:true,scrollsHoriz:true,scrollsVert:true,pos:null,preBuildRendering:function L(){this.usesTouches=(mstrmojo.dom.supportsTouches&&this.usesTouches&&(this.scrollsHoriz||this.scrollsVert));if(this.usesTouches){this.pos={x:0,y:0};}if(this._super){this._super();}},postBuildRendering:function C(){if(this._super){this._super();}if(this.usesTouches){var W=this.scrollboxNode,V=this.itemsContainerNode||W.firstChild;if(W&&W!==V){this.scrollChild=V;var T=W.style;T.position="relative";T.overflow="hidden";var U=V.style;U.position="absolute";U.left=0;U.top=0;this.markupMethods=P.copy(R.isSafari?K:G,P.copy(this.markupMethods));this.attachTouchEvents();}}},unrender:function(T){if(this.usesTouches){this.detachTouchEvents();}this._super(T);},attachTouchEvents:function(){var U=this.touchNode||this.scrollboxNode;if(U){if(!this._tsCallback){var T=this;this._tsCallback=function(V){T.touchesBegin(self,V);};this._tmCallback=function(V){T.touchesMoved(self,V);};this._teCallback=function(V){T.touchesEnd(self,V);};}R.attachEvent(U,R.TOUCHSTART,this._tsCallback);this._tsNode=U;}},detachTouchEvents:function(){var T=this._tsNode;if(T){R.detachEvent(T,R.TOUCHSTART,this._tsCallback);delete this._tsNode;}},touchesBegin:function I(T,V){var U=V.target&&V.target.tagName;if(U&&(U==="SELECT"||U==="INPUT")){return ;}R.preventDefault(T,V);this.stopDeceleration();this.startTime=new Date();this.startTimePos={x:this.pos.x,y:this.pos.y};this.startTouchPos=R.getMousePosition(R.firstTouch(T,V),T);this.dragging=false;R.attachEvent(window,R.TOUCHMOVE,this._tmCallback);R.attachEvent(window,R.TOUCHEND,this._teCallback);},touchesMoved:function D(b,d){var Z=R.getMousePosition(R.firstTouch(b,d),b);R.preventDefault(b,d);if(!this.dragging){var T=5,h=Math.abs;if((this.scrollsHoriz&&h(Z.x-this.pos.x)>T)||(this.scrollsVert&&h(Z.y-this.pos.y)>T)){this.dragging=true;this.dragStartTime=new Date();this.startTouchPos=Z;var V=this.scrollboxNode,Y={x:V.clientWidth,y:V.clientHeight},f={x:V.scrollWidth,y:V.scrollHeight};this.clientSize=Y;this.scrollSize=f;this.maxPos={x:Math.max(f.x-Y.x,0),y:Math.max(f.y-Y.y,0)};this.showScroll();}}if(this.dragging){R.stopPropogation(b,d);var c=this.startTimePos,X=this.startTouchPos,a=this.maxPos;var W={x:this.scrollsHoriz?Math.max(Math.min(c.x-(Z.x-X.x),a.x),0):0,y:this.scrollsVert?Math.max(Math.min(c.y-(Z.y-X.y),a.y),0):0};this.set("pos",W);this.nextLastDragPos=this.lastDragPos;this.lastDragPos=Z;var U=new Date(),g=this.lastDragTime;this.nextLastDragTime=g;this.lastDragTime=U;if((U-g)>Q){this.startTime=this.lastDragTime;this.dragStartTime=this.startTime;this.startTimePos={x:W.x,y:W.y};this.startTouchPos=Z;}}},touchesEnd:function H(T,U){R.preventDefault(T,U);R.detachEvent(window,R.TOUCHMOVE,this._tmCallback);R.detachEvent(window,R.TOUCHEND,this._teCallback);if(this.dragging){this.dragging=false;R.stopPropogation(T,U);if((new Date())-this.lastDragTime<=Q){this.startDeceleration(T,U);}else{this.hideScroll();}}},startDeceleration:function B(Y,Z){var W=R.getMousePosition(R.firstChangedTouch(Y,Z),Y),c=((mstrmojo.dom.supportsTouches===null)?this.lastDragPos:this.nextLastDragPos)||W,b={x:W.x-c.x,y:W.y-c.y},T=((mstrmojo.dom.supportsTouches===null)?this.lastDragTime:this.nextLastDragTime),d=T?(new Date())-T:0,V={x:d?Number(b.x*M*E/d).toFixed(2):0,y:d?Number(b.y*M*E/d).toFixed(2):0};var a=this,U=function(e){return(a.scrollsHoriz&&Math.abs(e.x)>=F)||(a.scrollsVert&&Math.abs(e.y)>=F);};if(U(V)){this.velocity=V;this.friction={x:this.FRICTION,y:this.FRICTION};this.set("decelerating",true);var X=function(){a.decelerate();if(!U(a.velocity)){a.stopDeceleration();a=null;}};X();if(this.decelerating){this.decelerationTimer=window.setInterval(X,M);}}else{this.hideScroll();}},stopDeceleration:function A(){this.set("decelerating",false);delete this.velocity;if(this.decelerationTimer){window.clearTimeout(this.decelerationTimer);delete this.decelerationTimer;}this.hideScroll();},decelerate:function S(){var W=this.pos,V=this.velocity,U=this.friction,Z=this.maxPos,X={x:W.x-V.x,y:W.y-V.y},b=this.bounces,T=this.BOUNCEFRICTION;var a=X.x;if(a<0||a>Z.x){X.x=(a<0)?0:Z.x;V.x*=(b)?-T:0;U.x=T;}var Y=X.y;if(Y<0||Y>Z.y){X.y=(Y<0)?0:Z.y;V.y*=(b)?-T:0;U.y=T;}this.set("pos",X);this.velocity={x:U.x*V.x,y:U.y*V.y};},hideScroll:function J(){this.set("vscrollVisible",false);this.set("hscrollVisible",false);},showScroll:function O(){var T=this.maxPos;if(this.scrollsVert&&T.y&&this.vscrollNode){this.set("vscrollVisible",true);}if(this.scrollsHoriz&&T.x&&this.hscrollNode){this.set("hscrollVisible",true);}}});})();(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash");var C=mstrmojo.array,L=mstrmojo.hash;function F(V,T){var W=[],Q=V.selectedIndices,P=V.allIdx;var R,S,U=V.items;if(V.multiSelect&&(P>-1)&&(C.indexOf(T,V.allIdx)>-1)){for(R=0,S=U.length;R<S;R++){if(!Q[R]){W.push(R);Q[R]=true;V.selectedIndex=R;V.selectedItem=U[R];}}}else{for(R=0,S=T.length;R<S;R++){var X=T[R];if(!Q[X]){Q[X]=true;W.push(X);V.selectedIndex=X;V.selectedItem=U[X];}}}return W;}function B(R){var Q=[],S=R.selectedIndices;for(var P in S){delete S[P];Q.push(parseInt(P,10));}R.selectedIndex=-1;R.selectedItem=null;return Q;}function N(V,U){var S=[],Q=V.selectedIndices,X=C.indexOf,P=V.allIdx;if(V.multiSelect&&(P>-1)&&(X(U,P)>-1)){return B(V);}if(U.length>0&&Q[P]){if(X(U,P)<0){U.push(P);}}for(var R=0,T=U.length;R<T;R++){var W=U[R];if(Q[W]){delete Q[W];S.push(W);if(V.selectedIndex==W){V.selectedIndex=-1;V.selectedItem=null;}}}return S;}function A(S,R){var P=S.selectedIndices;if(!P){P={};S.selectedIndices=P;}if(!R){R={};}var U=S.selectedIndex,T=[],V;for(var Q in P){if(!R[Q]){V=parseInt(Q,10);delete P[Q];T.push(V);if(U==V){S.selectedIndex=-1;S.selectedItem=null;}}}var X=[],W=S.items;for(Q in R){if(!P[Q]){V=parseInt(Q,10);P[Q]=true;X.push(V);S.selectedIndex=V;S.selectedItem=W&&W[V];}}return{add:X,rmv:T};}function H(Q,P,R){if(Q.raiseEvent&&((P&&P.length)||(R&&R.length))){Q.raiseEvent({name:"change",added:P,removed:R});}}mstrmojo._ListBase2Selections=mstrmojo.provide("mstrmojo._ListBase2Selections",{multiSelect:false,selectedIndices:null,selectedIndex:-1,selectedItem:null,selectedIndices_bindEvents:"change",selectedIndex_bindEvents:"change",selectedItem_bindEvents:"change",allowUnlistedValues:true,insertUnlistedValuesAt:-1,allIdx:-1,singleSelect:function O(P,Q){if(!this.selectedIndices[P]||(this.selectionPolicy==="reselect")||(P!==this.allIdx&&this.selectedIndices[this.allIdx])){var R=B(this),S=F(this,[P]);if(Q!==true){H(this,S,R);}}},toggleSelect:function J(P,Q){var S,R;if(this.selectedIndices[P]){R=N(this,[P]);}else{S=F(this,[P]);}if(Q!==true){H(this,S,R);}},rangeSelect:function G(P,Q){this.singleSelect(P,Q);},clearSelect:function I(P){var Q=B(this);if(P!==true){H(this,null,Q);}},select:function E(R,P){var Q=A(this,C.hash(R));if((P!==true)&&(Q.add.length||Q.rmv.length)){H(this,Q.add,Q.rmv);}},addSelect:function M(R,P){if(R==null){return ;}if(R.constructor!==Array){R=[R];}var Q=F(this,R);if(P!==true){H(this,Q,null);}return Q;},removeSelect:function K(R,P){if(R==null){return ;}if(R.constructor!=Array){R=[R];}var Q=N(this,R);if(P!==true){H(this,null,Q);}return Q;},_set_selectedIndices:function(S,Q,P){if(this.selectedIndices===Q){return false;}var R=A(this,Q);if(R.add.length||R.rmv.length){if(P!==true){H(this,R.add,R.rmv);}}return false;},_set_selectedIndex:function(S,Q,P){var R={};if(Q>-1){R[Q]=true;}return this._set_selectedIndices(null,R,P);},_set_selectedItem:function(W,T,S){var R=T&&(typeof (T)=="object"),V=this.itemIdField,Q=-1,U=this.items;if(R&&V!=null){Q=C.find(U,V,T[V]);}else{if(T!=null){Q=C.indexOf(U,T);}}if((Q===-1)&&(T!=null)&&this.allowUnlistedValues){var P=this.insertUnlistedValuesAt;if(P==null||P<0){P=(U&&U.length)||0;}Q=P;this.add([T],Q);}return this._set_selectedIndex(null,Q,S);},initSelections:function D(T,Q,P,S,R){if(!this.selectedIndices){this.selectedIndices={};this.selectedIndex=-1;}if(T){this._set_selectedIndices(null,T,R);}else{if(Q){this.select(Q,R);}else{if(S){this._set_selectedItem(null,S,R);}else{if(P!=null){this._set_selectedIndex(null,P,R);}}}}},sortSelectedIndices:function(){return L.keyarray(this.selectedIndices,true).sort(C.numSorter);},removeSelectedItems:function(){var R=this.sortSelectedIndices(),P=R.length,S=R[P-1],Q=this.remove(R);S=Math.min(S+1-P,this.items.length-1);if(S>=0){this.singleSelect(S);}return Q;},getSelectedItems:function(){return C.get(this.items,this.sortSelectedIndices())||[];},setSelectedItems:function(Q,d){if(!Q||!Q.length){return ;}var S=this.items||[],s=this.itemIdField!=null?C.findMulti(S,this.itemIdField,Q):C.indexOfMulti(S,Q),V=Q.length,T=V-s.count,q=this.allowUnlistedValues,b=this.insertUnlistedValuesAt,X=(q&&(b>-1))?T:0;if(b<0){b=S.length;}var R=[],U=[],f=s.map;if(T&&q){var p=0;for(var e=0;e<V;e++){if(f[e]==null){R.push(Q[e]);U.push(b+p++);}}this.add(R,b);}var W=[];for(var h in f){var o=f[h];if(o>=b){o+=X;}W.push(o);}var r=W.concat(U),Y=this.addSelect(r,!d);if(!d){var Z=C.hash(Y),g=this.selectedIndices,a=[];for(var l in g){if(!Z[l]){a.push(parseInt(l,10));}}var P=this.removeSelect(a,true);H(this,Y,P);}}});})();(function(){mstrmojo.requiresCls("mstrmojo.dom");var A=mstrmojo.dom;function E(J,I){var G=[];if(J){for(var F in J){var H=Number(F);if(H>=I){G.push(H);}}}G.sort(mstrmojo.array.numSorter);return G;}mstrmojo.ListSelector=mstrmojo.provide("mstrmojo.ListSelector",{premousedown:function D(L,F,N){var I=N.hWin,J=N.e,G=A.eventTarget(I,J),M=L.listMapper.findIndex(L,F,G);if(M>-1){var H=L.multiSelect,K=A.ctrlKey(I,J),O=A.shiftKey(I,J);if(K||O){A.clearBrowserHighlights(I);}if(H&&(K||(L.selectionPolicy==="toggle"))){L.toggleSelect(M);}else{if(H&&O){L.rangeSelect(M);}else{L.singleSelect(M);}}}},premouseup:function C(H,K,G){var F=G.hWin,J=G.e,L=A.ctrlKey(F,J),I=A.shiftKey(F,J);if(L||I){A.clearBrowserHighlights(F);}},onadd:function B(I,H){var M=H&&H.value&&H.value.length;if(M){var G=H.index,K=I.selectedIndices,L=E(K,G);for(var J=L.length-1;J>-1;J--){var F=L[J];K[F+M]=true;delete K[F];}if(I.selectedIndex>=G){I.selectedIndex+=M;}}},onremove:function B(Q,S){var O=S&&S.value&&S.value.length;if(O){var R=S.index,I=R+O-1,M=Q.selectedIndices,L=Q.selectedIndex,G=[],T=[],P=false;if(M){for(var H in M){var K=Number(H);if(K>I){G.push(K);}else{if(K>=R){T.push(K);P=true;}}}}G.sort(mstrmojo.array.numSorter);for(var J=0,N=G.length;J<N;J++){var F=G[J];M[F-O]=true;delete M[F];}if(L>I){Q.selectedIndex-=O;}if(P){Q.removeSelect(T);}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.dom");var T=mstrmojo.dom,S,G=mstrmojo.global.document;function P(V){S.startDragCheck(self,V);}var A,O,J="mstrmojo-dnd-avatar",I;function K(X,V,W){if(W!=null){O.innerHTML=W;}I.left=X.x+"px";I.top=X.y+"px";}function H(V,W){if(!A){A=G.createElement("div");I=A.style;A.className=J;A.innerHTML='<div class="'+J+'-inner"></div>';O=A.firstChild;G.body.appendChild(A);}K(W,true,V);I.display="block";}function D(){if(A){I.display="none";}}function B(V){var W=++S.ctxt.moveCount;if(W>=S.minMoves){S.stopDragCheck(self,V);S.startDrag(self,V);}}function E(V){S.stopDragCheck(self,V);}function M(V){S.onDragMove(self,V);}function Q(V){S.stopDrag(self,V);}function N(V){if(!V){return ;}if(!V.hWin){V.hWin=window;}if(!V.e){V.e=V.hWin.event;}V.node=T.eventTarget(V.hWin,V.e);V.pos=T.getMousePosition(V.e,V.hWin);return V;}function F(W){var V=T.findWidget(W);while(V){if(V.draggable){return V;}V=V.parent;}return null;}function U(W,X){var V=T.findWidget(W);while(V){if(V.dropZone){if(V.allowDrop&&V.allowDrop(X)){return V;}}V=V.parent;}return null;}function L(V){if(this.set){this.set("allowingDrop",true);}}function C(V){if(this.set){this.set("allowingDrop",false);}}var R=C;mstrmojo.dnd=mstrmojo.provide("mstrmojo.dnd",{minMoves:3,enable:function(){if(!mstrmojo.dndEnabled){T.attachEvent(G,"mousedown",P);mstrmojo.dndEnabled=true;}},disable:function(){T.detachEvent(G,"mousedown",P);},startDragCheck:function(V,W){delete this.ctxt;var X=N({hWin:V,e:W});this.ctxt={src:X,moveCount:0};if(this.minMoves){T.attachEvent(G,"mousemove",B);T.attachEvent(G,"mouseup",E);}else{this.startDrag(V,W);}},stopDragCheck:function(V,W){T.detachEvent(G,"mousemove",B);T.detachEvent(G,"mouseup",E);},startDrag:function(V,X){var Z=this.ctxt;Z.id=new Date();var Y=Z.src,W=F(Y.node);if(!W){return ;}Y.widget=W;Y.data=W.getDragData&&W.getDragData(Z);if(W.ondragstart){if(W.ondragstart(Z)===false){return ;}}T.clearBrowserHighlights();T.preventDefault(self,X);T.attachEvent(G,"mousemove",M);T.attachEvent(G,"mouseup",Q);if(W&&!W.ownAvatar){H(Y.data&&Y.data.html,Y.pos);}},stopDrag:function(V,Z){T.detachEvent(G,"mousemove",M);T.detachEvent(G,"mouseup",Q);var a=this.ctxt,X=N({hWin:V,e:Z}),W=U(X.node,a);X.widget=W;a.tgt=X;if(W){if(W.ondrop){W.ondrop(a);}else{R.apply(W,[a]);}}var Y=a.src.widget;if(Y&&Y.ondragend){Y.ondragend(a);}if(Y&&!Y.ownAvatar){D();}},onDragMove:function(V,Z){if(T.isSafari){T.clearBrowserHighlights();}var b=this.ctxt,X=N({hWin:V,e:Z}),W=U(X.node,b);X.widget=W;var a=b&&b.tgt&&b.tgt.widget;b.tgt=X;if(a!==W){if(a){if(a.ondragleave){a.ondragleave(b);}else{C.apply(a,[b]);}}if(W){if(W.ondragenter){W.ondragenter(b);}else{L.apply(W,[b]);}}}else{if(W){if(W.ondragover){W.ondragover(b);}}}var Y=b.src.widget;if(Y&&Y.ondragmove){Y.ondragmove(b);}if(Y&&!Y.ownAvatar){K(X.pos,!!W);}}});S=mstrmojo.dnd;S.enable();})();(function(){mstrmojo.requiresCls("mstrmojo.array");var C=mstrmojo.array;mstrmojo._BindTargetChildren={target:null,targetProps:null,addTabButtons:null,removeTabButtons:null,clearButtons:null,ontargetChange:function E(L){var M=L&&L.valueWas;if(M){var J=this._targetSubs;if(J){M.detachEventListener(J.add);M.detachEventListener(J.rem);M.detachEventListener(J.sel);}this.clearButtons();}var N=this.target;if(N){var I=this.targetProps,H=I&&I.children||"children",F=N[H];this.addTabButtons(F,0);this._onTargetSelChg();if(N.attachEventListener){var G=this.id,K="attachEventListener";this._targetSubs={add:N[K]("addChild",G,"_onTargetAddChild"),rem:N[K]("removeChild",G,"_onTargetRemoveChild"),sel:N[K]("selectedChange",G,"_onTargetSelChg")};}}if(this._ontargetChange){this._ontargetChange();}},_onTargetAddChild:function A(F){var G=F&&F.value;if(G&&G.length){this.addTabButtons(G,F.index);}if(this._postTargetAddChild){this._postTargetAddChild();}},_onTargetRemoveChild:function B(G){var F=G&&G.value;for(var H=((F&&F.length)||0)-1;H>-1;H--){this.removeTabButton(F[H]);}if(this._postTargetRemoveChild){this._postTargetRemoveChild();}},_onTargetSelChg:function D(L){var G=this.targetProps||{},F=this[G.names||"children"],J=function(O,P){if(O.set){O.set("selected",P);}else{O.selected=P;}};if(L){var H=L.valueWas,K=H?C.find(F,"target",H):-1;if(K>-1){J(F[K],false);}}var M=this.target,N=M&&M.selected,I=N?C.find(F,"target",N):-1;if(I>-1){J(F[I],true);}if(this._postTargetSelChg){this._postTargetSelChg();}}};})();(function(){mstrmojo.requiresCls("mstrmojo.array");function C(G,H,E){var F=G.createElement("input");F.name=H;F.type="hidden";F.value=E;return F;}function B(K,J){J=J.substring(J.indexOf("?")+1,J.length);var M=J.split("&"),L="",H="";var N=/\+/g;for(var I=0,F=M.length;I<F;I++){var E=M[I].split("=");L=E[0];H=E[1];if(H){H=decodeURIComponent(H.replace(N," "));}var G=document.createElement("INPUT");G.type="HIDDEN";G.name=L;G.value=H;K.appendChild(G);}return false;}mstrmojo.form={createDynamicForm:function A(E){var G=document.createElement("FORM"),H=E.indexOf("?")>0;G.name="dynamic_form";G.method="POST";var F=((H)?E.substring(0,E.indexOf("?")):E);G.action=F;if(H){B(G,E);}document.body.appendChild(G);return G;},send:function D(J,K,E,M,H,F){var O=((H&&H.hWin)||window).document,L=O.createElement("form"),I=mstrApp;L.method=E||"GET";if(M){L.target=M;}L.action=K||I.name;F=(F!==undefined)?F:!(L.action&&L.action.indexOf("aspx")>0);if(I.sessionId){L.action+=";jsessionid="+I.sessionId;}if(F){L.action+=";uxts"+mstrmojo.now();}L.appendChild(C(O,"xts",mstrmojo.now()));for(var P in I.persistTaskParams){J[P]=I.persistTaskParams[P];}if(I.servletState&&I.name){J[I.name]=I.servletState;}if(J){for(var G in J){if(J[G].constructor==Array){mstrmojo.array.forEach(J[G],function(Q){L.appendChild(C(O,G,Q));});}else{L.appendChild(C(O,G,J[G]));}}}O.body.appendChild(L);try{L.submit();}catch(N){if(M&&N.result===2147500037&&!window.open("","","width=1,height=1,left=0,top=0,scrollbars=no")){mstrmojo.alert("*This action requires popups to be allowed in the browser.*");}else{mstrmojo.err("Form submission failed for an unknown reason.");}}O.body.removeChild(L);}};})();(function(){mstrmojo.requiresCls("mstrmojo.registry");mstrmojo._PagingList=mstrmojo.provide("mstrmojo._PagingList",{usePaging:false,page:0,totalPages:1,_set_page:function(B,A){if(this.page!==A&&this.usePaging){if(A>=0&&A<this.totalPages){this.page=A;}return true;}return false;},_inScroll:false,_inPaging:false,onscroll:function(){if(this.usePaging&&!this._inPaging){this._inScroll=true;this.set("page",this.listMapper.whichPage(this));this._inScroll=false;}if(this._super){this._super();}}});})();(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.dnd");var B=mstrmojo.dom;function C(H){if(B.isWK){document.onselectstart=function(I){if(!H){I.preventDefault();}return H;};}}mstrmojo._IsMovable=mstrmojo.provide("mstrmojo._IsMovable",{draggable:true,ownAvatar:true,getMovingHandle:function F(){return this.domNode;},getMovingTarget:function G(){return this.domNode;},ondragstart:function A(K){var J=this.getMovingHandle(),H=this.getMovingTarget().style;var I=B.contains(J,K.src.node,true,document.body);if(I){C(false);J.style.cursor="move";this._leftPos=parseInt(H.left,10);this._topPos=parseInt(H.top,10);this._hWidth=J.clientWidth;this._hHeight=J.clientHeight;}return I;},ondragmove:function E(K){var J=K.tgt.pos,H=K.src.pos,I=this.getMovingTarget().style;I.left=this.left=Math.max(this._leftPos+J.x-H.x,-this._hWidth+40)+"px";I.top=this.top=Math.max(this._topPos+J.y-H.y,-this._hHeight+10)+"px";},ondragend:function D(H){C(true);this.getMovingHandle().style.cursor="default";delete this._leftPos;delete this._topPos;delete this._hWidth;delete this._hHeight;}});}());(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.dom","mstrmojo.ListSelector");var A=mstrmojo.dom,B=A.isIE;mstrmojo.TreeNodeSelector=mstrmojo.provide("mstrmojo.TreeNodeSelector",mstrmojo.mixin({premousedown:function C(E,I,D){var G=E&&E.tree||E,H=D&&D.e;if(!H){return false;}var F=G.lastMouseDown;if(F){if((F.e===H)||(B&&((new Date())-F.dt<50))){return false;}}this._super(E,I,D);if(G){if(G.onnodemousedown){G.onnodemousedown(D);}G.lastMouseDown={e:H,dt:new Date()};}}},mstrmojo.hash.copy(mstrmojo.ListSelector)));})();(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.QueuedXHR");var F=mstrmojo.hash;function J(K,L){return function(){if(K[L]){K[L]();}};}var B=[];function H(L){var K;switch(L.cacheLevel){case mstrmojo.AjaxCall.CACHELEVEL_LOCAL:if(L._cache==null){L._cache=[];}K=L._cache;break;default:if(B==null){B=[];}K=B;break;}return K;}function E(N){var M=H(N);var P={cache:M,idx:-1},O=N.params;if("xts" in O){delete O.xts;}for(var L=0,K=M.length;L<K;L++){var Q=M[L];if(Q&&F.equals(Q.url,N.url)&&F.equals(Q.params,O)){P.idx=L;break;}}return P;}function C(L){var K=H(L),M=F.copy(L.params);delete M.xts;K.push({url:L.url,params:M,res:F.copy(L.response)});}function D(K){var L=E(K);if(L&&L.idx>=0){K.response=L.cache[L.idx].res;return true;}return false;}mstrmojo.AjaxCall=mstrmojo.declare(mstrmojo.QueuedXHR,null,{scriptClass:"mstrmojo.AjaxCall",method:"GET",url:"",params:null,onsuccess:null,onerr:null,oncomplete:null,oncancel:null,readCache:false,writeCache:false,cacheLevel:"",_cache:null,useQueue:false,init:function I(K){this._super(K);F.copy(K,this);},send:function A(){var K=this;if(this.readCache&&D(this)){this.onsuccess();return ;}this.request(this.method,this.url,{success:function(){if(K.writeCache){C(K);}if(K&&K.onsuccess){K.onsuccess();}},failure:J(K,"onerr"),complete:J(K,"oncomplete")},this.params,!this.useQueue);},cancel:function G(){this._super();if(this.oncancel){this.oncancel();}}});mstrmojo.AjaxCall.CACHELEVEL_GLOBAL="global";mstrmojo.AjaxCall.CACHELEVEL_LOCAL="local";})();(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.dom","mstrmojo.css");var A=1,J="mstrmojo-itemwrap",I="&nbsp;",S=mstrmojo.array;function F(W,Z,Y){Z=this.wrapperParentNode(Z);if(Z&&Y&&Z!==Y){var V=W.domNode,X=Y.parentNode;while(X){if(X===Z){return Y;}else{if(X===V){break;}}Y=X;X=Y.parentNode;}}return null;}function M(X,b,a){var W=X.items&&X.items.length,Y=this.wrapperNodes(b),V=S.findBin(Y,a,"offsetTop",W);for(var Z=V;Z<W;Z++){if(Y[Z].offsetHeight){return Z;}}return -1;}function B(V){if(!V.pageSize||V.pageSize<=0){var W=V.scrollboxNode;V.pageSize=W&&W.clientHeight||0;}return V.pageSize;}function T(V,W){if(V.usePaging){V.totalPages=1;var Y=V.itemsContainerNode,X=B(V);if(V.usePaging&&Y&&X){V.totalPages=Math.ceil((Y.clientHeight-parseInt(Y.style&&Y.style.paddingBottom||0,10))/X);}if(Y){V.itemsContainerNode.style.paddingBottom=X+"px";}}}mstrmojo.ListMapper=mstrmojo.provide("mstrmojo.ListMapper",{markupPrefix:"",markupSuffix:"",itemWrapperPrefix:function(V){return'<div class="'+this.getWrapperCss(V)+'">';},itemWrapperSuffix:"</div>",itemWrapperPrefill:"&nbsp",wrapperNodes:function C(V){return V.childNodes;},wrapperParentNode:function D(V){return V;},createWrapperNode:function G(V){var W=V.ownerDocument,X=W.createElement("div");return X;},findScrollRange:function L(k,Z,j,n,W,c,o,m){if(!Z){return{start:0,end:0};}var e=this.wrapperNodes(k),g=parseInt(Z/2,10),Y=parseInt(Math.log(Z)/Math.log(2),10),X=0,V=Z-1,f=j+n,d=e[0].offsetTop,b;for(var l=1;l<=Y;l++){b=e[g].offsetTop-d+m;if(b<j){X=g;}else{if(b>f){V=g;}}var a=Math.round(Z/Math.pow(2,l+1));g+=(b>j)?-a:a;g=Math.min(Math.max(0,g),Z-1);}return{start:X,end:V};},findWrapper:function K(X,V){var W=this.wrapperNodes(X);return W&&W[V];},findIndex:function E(V,Y,X){var W=this._nd2iw(V,Y,X);return W?this._iw2idx(V,Y,W):-1;},itemOffsetTop:function U(W,a,V,Y){if(!Y){var X=this.wrapperNodes(a);Y=X&&X[V];if(!Y){return 0;}}var Z=a.firstChild;if(!Z||(Z===Y)){return 0;}else{return Y.offsetTop-Z.offsetTop;}},whereDrop:function R(c,V,X,b,W){var Y=this._nd2iw(c,V,X),d,a,e;if(Y){a=this._iw2idx(c,V,Y);d=a;e=this.itemOffsetTop(c,V,null,Y);var Z=Y.offsetHeight;if(b.y>W.top+e+Z/2){d++;e+=Z;}}else{return c.dropCuePos;}return{left:0,top:e,idx:d,idxActual:a};},getWrapperCss:function(V){return J;},postBuildRendering:function(Z,Y,X,W,V){T(W,this);},buildItemWrappers:function O(e,b,h,d,a,i){var l=this.itemWrapperPrefix(h),g=this.itemWrapperSuffix,Z=l+this.itemWrapperPrefill+g,Y=[this.markupPrefix],W=1,V=h.selectedIndices||{},n=function m(k,j){for(var o=k;o<j;o++){Y[W++]=l;var p=b.build(h,d,e[o],o);if(V[o]){p=p.replace(/class\=\"([^\"]*)\"/,'class="$1 selected"');}Y[W++]=p;Y[W++]=g;}};var c=(e&&e.length)||0;a=a&&b?Math.min(a,c):0;if(a){n(0,a);}i=i&&b?Math.min(i,c-a):0;var f=c-i;for(var X=a;X<f;X++){Y[W++]=Z;}if(i){n(f,c);}Y.push(this.markupSuffix);return Y;},fillItemWrappers:function H(X,g,d,m,f,W,b,l){var e=(g&&g.length)||0,j=this.wrapperNodes(X),n=f.itemStatus,V=mstrmojo.css,Z=m.selectedIndices||{};for(var c=W,h=Math.min(b+1,e),a=0;c<h;c++){if(n[c]!==A){j[c].innerHTML=d.build(m,f,g[c],c);if(Z[c]){var Y=j[c].firstChild;if(Y){V.addClass(Y,["selected"]);}}a++;if(a===l){break;}}}return a;},onadd:function N(e,V,Z,f){if(V&&f){var a=f.value.length,b=this.wrapperNodes(V),d=b[f.index],Y=this.getWrapperCss(e);for(var X=0;X<a;X++){var W=this.createWrapperNode(V);W.className=Y;W.innerHTML=I;if(d){this.wrapperParentNode(V).insertBefore(W,d);}else{this.wrapperParentNode(V).appendChild(W);}}T(e,this);}},onremove:function P(Y,b,V,X){if(b&&X){var a=this.wrapperNodes(b);if(a){var d=X.value.length;for(var Z=X.index+d-1,W=X.index;Z>=W;Z--){this.wrapperParentNode(b).removeChild(a[Z]);}}T(Y,this);}},onchange:function Q(g,X,c,k){if(X&&k){var d=this.wrapperNodes(X);if(d){var W=mstrmojo.css,l=c.itemStatus,h;for(var b=0,V=k.removed,f=V&&V.length;b<f;b++){h=V[b];if(l[h]){W.removeClass(d[h].firstChild,["selected"]);}}for(var Z=0,e=k.added,Y=e&&e.length;Z<Y;Z++){h=e[Z];if(l[h]){W.addClass(d[h].firstChild,["selected"]);}}}}},_nd2iw:F,_iw2idx:M,toPage:function(V,X){var W=V.scrollboxNode;if(V.usePaging&&W){W.scrollTop=X*B(V);}else{mstrmojo.alert("paging is not setup, can not perform paging.");}},whichPage:function(V){var W=V.scrollboxNode,X=B(V);return Math.round((W&&X&&W.scrollTop/X)||0);},toItem:function(Z,a){var X=Z&&Z.itemsContainerNode,e=Z.scrollboxNode,V=this.itemOffsetTop(Z,X,a),b=this.wrapperNodes(X)[a].clientHeight,W=e.clientHeight,d=e.scrollTop,Y=d;if(V<d){Y=V;}else{if(d+W-b<V){Y=Math.min(V,V-W+b);}}e.scrollTop=Y;}});})();(function(){mstrmojo.requiresCls("mstrmojo.string","mstrmojo.dom","mstrmojo.css");var F=mstrmojo.dom,B=mstrmojo.css,D="selected";function G(I,J,K,H,M){var L=M.listHooks[I];if(L&&L.call(M,J,K,H)){return ;}B[((I==="select")?"add":"remove")+"Class"](J,D);}function E(K,J,I){var L=this[K],H=(L)?L.split(J):[];H=H.concat(I.split(J));this[K]=H.join(J);return H.length-1;}mstrmojo._IsList=mstrmojo.provide("mstrmojo._IsList",{_mixinName:"mstrmojo._IsList",listHooks:{},getItemMarkup:function(I,H){return'<{@tag} class="item {@cls}" idx="{@idx}" style="{@style}">{@n}</{@tag}>';},getItemProps:function C(J,H){var I=!!this.selectedIndices[H];return{tag:"div",sel:I,cls:(I)?D:"",n:J.n||"",style:"",idx:H,addCls:function(K){E.call(this,"cls"," ",K);},addStyle:function(K){E.call(this,"style",";",K);}};},itemRenderer:{render:function(I,H,J){I._renderIdx=H;return mstrmojo.string.apply(J.getItemMarkup(I,H),J.getItemProps(I,H));},select:function(I,J,H,K){G("select",I,J,H,K);},unselect:function(I,J,H,K){G("unselect",I,J,H,K);}},onclick:function A(J){try{var M=J.target||F.eventTarget(J.hWin,J.e),L=F.findAncestorByAttr(M,"idx",true,this.domNode),I=L&&parseInt(L.value,10);if(I!==null&&!isNaN(I)){if(!this.multiSelect){this.singleSelect(I);}else{var H=(this.selectedIndices[I])?"remove":"add";this[H+"Select"](I);}}}catch(K){mstrApp.onerror(K);}}});mstrmojo._IsList.SELECTED_CLS=D;}());(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.registry","mstrmojo.ListBuilder");var E=mstrmojo.hash,H=mstrmojo.registry,G=1;mstrmojo.WidgetListBuilder=mstrmojo.provide("mstrmojo.WidgetListBuilder",mstrmojo.mixin({newContext:function F(J){var K=J.itemFunction;if(!K){var I=J.itemConfig;K=I?function(M,L,N){var O=E.clone(I);O.data=M;O.parent=N;return H.ref(O);}:null;}return{itemStatus:[],itemWidgets:[],itemFunc:K};},build:function A(K,J,N,I){var L=J.itemFunc(N,I,K);if(L){J.itemStatus[I]=G;J.itemWidgets[I]=L;if(L.set){var M=K.selectedIndices;if(M&&M[I]){L.set("selected",true);}}}return L;},onadd:function C(K,I,J){if(I){mstrmojo.array.insert(I.itemWidgets,J.index,new Array(J.value.length));}this._super(K,I,J);},onremove:function D(L,J,K){if(J){var O=J.itemWidgets.splice(K.index,K.value.length);for(var N=0,I=O.length;N<I;N++){var M=O[N];if(M&&M.destroy){delete M.parent;M.destroy();}}}this._super(L,J,K);},onchange:function B(S,J,P,T){if(T){var N=P.itemWidgets,L;for(var O=0,I=T.removed,R=I&&I.length;O<R;O++){L=N[I[O]];if(L&&L.set){L.set("selected",false);}}for(var M=0,Q=T.added,K=Q&&Q.length;M<K;M++){L=N[Q[M]];if(L&&L.set){L.set("selected",true);}}}}},mstrmojo.hash.copy(mstrmojo.ListBuilder)));})();(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.WidgetListBuilder");mstrmojo.WidgetTreeBuilder=mstrmojo.provide("mstrmojo.WidgetTreeBuilder",mstrmojo.mixin({newContext:function A(B){var D=this._super(B);if(!B.itemFunction&&D.itemFunc){var C=D.itemFunc;D.itemFunc=function(G,F,H){var E=C(G,F,H);if(E){E.tree=H.tree||H;}return E;};}return D;}},mstrmojo.hash.copy(mstrmojo.WidgetListBuilder)));})();(function(){mstrmojo.requiresCls("mstrmojo.ListMapper");var D=1,B="mstrmojo-itemwrap";mstrmojo.ListMapperHoriz=mstrmojo.provide("mstrmojo.ListMapperHoriz",mstrmojo.hash.copy({markupPrefix:'<table class="mstrmojo-itemwrap-table" cellspacing="0" cellpadding="0"><tbody><tr>',markupSuffix:"</tr></tbody></table>",itemWrapperPrefix:function(H){return'<td class="'+this.getWrapperCss(H)+'">';},getWrapperCss:function(H){return"mstrmojo-itemwrap-td";},itemWrapperPrefill:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",itemWrapperSuffix:"</td>",wrapperNodes:function G(H){return this.wrapperParentNode(H).cells;},wrapperParentNode:function F(H){return H.firstChild.rows[0];},createWrapperNode:function E(H){var I=H.ownerDocument,J=I.createElement("td");return J;},findScrollRange:function C(U,L,S,X,I,P,Y,W){var Q=this.wrapperNodes(U),R=parseInt(L/2,10),K=parseInt(Math.log(L)/Math.log(2),10),J=0,H=L-1,T=I+P,M=Q[0].offsetLeft,O;for(var V=1;V<=K;V++){O=Q[R].offsetLeft-M+Y;if(O<=I){J=R;}else{if(O>=T){H=R;}}var N=Math.round(L/Math.pow(2,V+1));R+=(O>I)?-N:N;R=Math.min(Math.max(0,R),L-1);}return{start:J,end:H};},findIndex:function A(I,M,K){if(M&&K){var H=I.domNode,L=this.wrapperParentNode(M),J=K.parentNode;while(J){if(J===L){return mstrmojo.array.findBin(this.wrapperNodes(M),K,"offsetLeft",I.items&&I.items.length);}else{if(J===H){break;}}K=J;J=K.parentNode;}}return -1;}},mstrmojo.hash.copy(mstrmojo.ListMapper)));})();(function(){mstrmojo.requiresCls("mstrmojo.locales","mstrmojo.expr","mstrmojo.date","mstrmojo.num","mstrmojo.string");mstrmojo.validation={STATUSCODE:{UNKNOWN:-1,VALID:0,INVALID:1,INVALID_EMPTY:2,INVALID_CHAR:3,INVALID_OUTOFRANGE:4,INVALID_REGEX:5,INVALID_VALIDATOR:6,INVALID_BAD_NUMERICFORMAT:7,INVALID_BAD_DATESTRING:8},TRIGGER:{NONE:0,ONBLUR:1,ONKEYUP:2,VALUESET:4,ALL:7},REGEXP:{US_ZIP:/^\d{5}([- ]?\d{4})?$/,EMAIL_ADDRESS:/^([a-zA-Z0-9\_\.\-])+@(([a-zA-Z0-9\-])+[\.])+([a-zA-Z0-9]{2,4})+$/,SOCIAL_SECURITY_NUMBER:/^((?!000)(?!666)\d{3})(\s|\-)?((?!00)\d{2})\2((?!0000)\d{4})$/,PHONE_NUMBER:/^(?!-)[ \d\-\(\)\.\+]+$/,FILE_NAME:new RegExp('^[^:*?"<>|/\\\\()]+$'),FOLDER_PATH_WIN:new RegExp('^([a-zA-Z]:|\\\\\\\\[^:*?"<>|/\\\\]+|[^:*?"<>|/\\\\]*)(\\\\[^:*?"<>|/\\\\]+)*(\\\\){0,1}$'),FOLDER_PATH_UNIX:new RegExp('^(/){0,1}([^:*?"<>|/\\\\]+/)*([^:*?"<>|/\\\\]+){0,1}$'),PRINTER_PATH_SINGLE:new RegExp('^[^$%:*?"<>|/\\\\]*$'),PRINTER_PATH_MULTIPLE:new RegExp('^((/|\\\\\\\\)[^$%:*?"<>|/\\\\]+)((/|\\\\)[^$%:*?"<>|/\\\\]+)*(/|\\\\){0,1}$')},VALIDATOR:{DEMO:function L(c){var b=parseInt(c,10),d=mstrmojo.validation.STATUSCODE;if(b===0||b===1||b>10){return{code:d.VALID};}return{code:d.INVALID,msg:"This field must be either 0, 1 or greater than 10"};},VALIDATE_PHONENO:function H(b){var d=this.dtp,c=String(b).replace(/[^\d]/g,"");if(c.length<10){return{code:E.INVALID,msg:mstrmojo.desc(9203)};}if(!J.REGEXP.PHONE_NUMBER.test(b)){return{code:E.INVALID,msg:mstrmojo.desc(9204)};}return{code:E.VALID};},VALIDATE_ZIPCODE:function G(b){var d="",c=this.dtp;if(!J.REGEXP.US_ZIP.test(b)){if(J.isNumeric(c)||J.isInt(c)){d=mstrmojo.desc(9208);}else{if(J.isString(c)){d=mstrmojo.desc(9206);}}return{code:E.INVALID,msg:d};}return{code:E.VALID};},VALIDATE_EMAIL:function P(b){var c=b.indexOf("@");if(c===-1){return{code:E.INVALID,msg:mstrmojo.desc(9197)};}if(b.substring(c).indexOf(".")===-1){return{code:E.INVALID,msg:mstrmojo.desc(9198)};}return J.REGEXP.EMAIL_ADDRESS.test(b)?{code:E.VALID}:{code:E.INVALID,msg:mstrmojo.desc(9207)};},VALIDATE_SSN:function O(b){var d=this.dtp,c;if(J.isNumeric(d)||J.isInt(d)){c=String(b).replace(/[^\d]/g,"");if(c.length!=9){return{code:E.INVALID,msg:mstrmojo.desc(9209)};}}if(!J.REGEXP.SOCIAL_SECURITY_NUMBER.test(b)){return{code:E.INVALID,msg:mstrmojo.desc(9210)};}return{code:E.VALID};}},isInt:function(b){return B[b]==1;},isNumeric:function(b){return B[b]==2||B[b]==5;},isString:function(b){return B[b]==3;}};var V=window.mstrConfig,I=V.listSep,W=mstrmojo.expr,K=W.DTP,J=mstrmojo.validation,F=J.TRIGGER,E=J.STATUSCODE,X=mstrmojo.css,Q=mstrmojo.num,N=mstrmojo.string,a=mstrmojo.date,B={"-1":-1,1:1,2:1,3:2,4:2,5:2,6:2,7:2,8:3,9:3,10:3,11:4,12:4,13:4,14:6,15:6,16:6,21:2,22:2,23:3,24:4,25:3,30:5};function D(j,k){var g=j.dtp,i=j.constraints,m=i.allowedFormatChars?i.allowedFormatChars:"",f=(B[g]==1),b=(B[g]==2),d=(B[g]==6),l=mstrmojo.locales.number.THOUSANDSEPARATOR,e=mstrmojo.locales.number.DECIMALSEPARATOR,h;if(f){if(!j._intRegExp){m+="0-9-"+(j.isList?I:"")+l;j._intRegExp=new RegExp("[^"+m+"]");}h=j._intRegExp;}if(b){if(!j._numericRegExp){m+="0-9-"+(j.isList?I:"")+e+l;j._numericRegExp=new RegExp("[^"+m+"]");}h=j._numericRegExp;}if(d){}return !!h&&h.test(k);}function Y(j,l){var g=j.dtp,i=j.constraints,f=(B[g]==1),b=(B[g]==2),d=(B[g]==6),e=i.min,k=i.max,h;if(e==undefined&&k==undefined){return false;}if(f||b){return Q.inNumericRange(l,e,k)!==0;}if(d){return a.inDateTimeRange(l,e,k)!==0;}return false;}function Z(c,b){return !Q.isNumeric(b);}function A(e,c){var d=(e.dtp===K.DATE),b=(e.dtp===K.TIME);return(d?!a.isDate(c):(b?!a.isTime(c):!a.isDateAndOrTime(c)));}mstrmojo._CanValidate=mstrmojo.provide("mstrmojo._CanValidate",{constraints:null,required:false,dtp:K.INTEGER,isList:false,autoFormat:false,validationStatus:null,init:function S(b){this._super(b);if(!this.constraints){this.constraints={};}var d=this.constraints;if(!("trigger" in d)){d.trigger=F.NONE;}},_set_value:function(g,d){var e=this.value,c=(e!==d);if(c){this.value=d;var f=this.constraints.trigger,b=(f&F.VALUESET)>0;if(b){this.validate(d);}}return c;},validate:function M(){var d=(this.value!==null&&this.value!==undefined)?this.value:"",g=this.isList?d.split(I):[d],f,c,h;for(var e=0,b=g.length;e<b;e++){f=this.doValidation(g[e]);c=(f.code>E.VALID);if(c){if(b>1){f.msg=mstrmojo.locales.validation.invalidValueInListError.replace("#",g[e]?g[e]:" ");}break;}}h=c?"onInvalid":"onValid";if(!c&&this.autoFormat){this.format();}this.set("validationStatus",f);if(this[h]){this[h](f);}},format:function T(){var g=this.dtp,d=(B[g]==6);if(!d){return ;}var j=mstrConfig.listSep,m=this.value||"",c=this.isList?m.split(j):[m],l=g===14,k=[],b,e=mstrmojo.locales.datetime;for(var f=0,h=c.length;f<h;f++){m=c[f];b=a.parseDateAndOrTime(m);if(b){if(l&&b.date){k.push(a.formatDateInfo(b.date,e.DATEOUTPUTFORMAT));}else{k.push((b.date?a.formatDateInfo(b.date,e.DATEOUTPUTFORMAT):"")+" "+(b.time?a.formatTimeInfo(b.time,e.TIMEOUTPUTFORMAT):""));}}}this.set("value",k.join(j));},isValid:function R(){var b=this.validationStatus;if(!b){this.validate();}return this.validationStatus.code===E.VALID;},clearValidation:function U(){this.set("validationStatus",{code:E.VALID});if(this.onClearValidation){this.onClearValidation();}},doValidation:function C(n){var k=this.constraints,l=k.regExp,e=k.validator,b={id:this.id,code:E.VALID,msg:""},j=this.dtp,i=(B[j]==1),d=(B[j]==2||B[j]==5),f=(B[j]==3),g=(B[j]==6),h=N.isEmpty(n),m=String(n).length;err="",_VAL=mstrmojo.locales.validation;if(this.required&&h){b.code=E.INVALID_EMPTY;b.msg=_VAL.requiredFieldError;return b;}n=N.trim(n);if(!h&&D(this,n)){if(i){err=_VAL.integerDataType;}if(d){err=_VAL.numericDataType;}if(g){err=_VAL.dateDataType;}b.code=E.INVALID_CHAR;b.msg=_VAL.invalidCharError.replace("#",err);return b;}if(!h&&g&&A(this,n)){b.code=E.INVALID_BAD_DATESTRING;b.msg=_VAL.invalidDateStringError;return b;}if(!h&&(d||i)&&Z(this,n)){b.code=E.INVALID_BAD_NUMERICFORMAT;b.msg=_VAL.invalidNumericFormatError;return b;}if(!h&&(i||d||g)&&Y(this,n)){b.code=E.INVALID_OUTOFRANGE;if(k.min!=null&&k.max!=null){err=_VAL.outofRangeError.replace("#","").replace("##",k.min).replace("###",k.max);}else{if(k.min!=null){err=_VAL.noLessMinError.replace("##",k.min).replace("#","");}else{if(k.max!=null){err=_VAL.noGreaterMaxError.replace("###",k.max).replace("#","");}}}b.msg=err;return b;}if(f&&k.minLen!=null&&k.maxLen!=null){if(m<k.minLen||m>k.maxLen){b.code=E.INVALID;b.msg=mstrmojo.desc(9211).replace(/#/,k.minLen).replace(/##/,k.maxLen);return b;}}if(l&&!l.test(n)){b.code=E.INVALID_REGEX;b.msg=mstrmojo.desc(9205);return b;}var o=e&&e.apply(this,[n]);if(o){b.code=o.code;b.msg=o.msg;return b;}return b;}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListMapper");var C=1;mstrmojo._hasWidgetListMapper={buildItemWrappers:function A(H,G,F,E,J,I){E.first=J;E.last=I;return this._super(H,G,F,E,0,0);},postBuildRendering:function B(K,I,H,G,F){var J=F.first;if(J){this.fillItemWrappers(K,I,H,G,F,0,J);}if(F.last){var E=I&&I.length||0,L=Math.max(Math.max(0,E-F.last),J);this.fillItemWrappers(K,I,H,G,F,L,E);}if(this._super){this._super(K,I,H,G,F);}},fillItemWrappers:function D(F,N,K,R,M,E,I,Q){var L=(N&&N.length)||0,P=this.wrapperNodes(F),S=M.itemStatus;for(var J=E,O=Math.min(I+1,L),H=0;J<O;J++){if(S[J]!==C){var G=K.build(R,M,N[J],J);if(G){G.placeholder=P[J].firstChild;G.render();}H++;if(H===Q){break;}}}return H;},onchange:null};mstrmojo.WidgetListMapper=mstrmojo.provide("mstrmojo.WidgetListMapper",mstrmojo.mixin(mstrmojo._hasWidgetListMapper,mstrmojo.hash.copy(mstrmojo.ListMapper)));mstrmojo.WidgetListMapper.RENDERED=C;mstrmojo.requiresCls("mstrmojo.ListMapperHoriz");mstrmojo.WidgetListMapperHoriz=mstrmojo.provide("mstrmojo.WidgetListMapperHoriz",mstrmojo.mixin(mstrmojo._hasWidgetListMapper,mstrmojo.hash.copy(mstrmojo.ListMapperHoriz)));})();(function(){mstrmojo.requiresCls("mstrmojo.ListMapper","mstrmojo.WidgetListMapper");var D=mstrmojo.array,B="mstrmojo-itemwrap",C={markupSuffix:'<div class="mstrmojo-clearMe"></div>',findIndex:function A(E,H,G){var F=this._nd2iw(E,H,G);return D.indexOf(H.childNodes,F);},getWrapperCss:function(F){var E=F.layout;return B+" lyt_"+E.row+"x"+E.col;}};mstrmojo.ListMapperTile=mstrmojo.provide("mstrmojo.ListMapperTile",mstrmojo.mixin(C,mstrmojo.hash.copy(mstrmojo.ListMapper)));mstrmojo.WidgetListMapperTile=mstrmojo.provide("mstrmojo.WidgetListMapperTile",mstrmojo.mixin(C,mstrmojo.hash.copy(mstrmojo.WidgetListMapper)));})();(function(){mstrmojo.requiresCls("mstrmojo.Widget");var C=mstrmojo.css;function E(F,H){var G={searchMetadata:{taskId:"searchMetadata",styleName:this.searchStyleName,rootFolderID:this.rootID,searchPattern:this.searchPattern+"*",nameWildcards:(this.qse?16:1),quickSearch:this.qse,sortKey:(this.qse?-1:6),blockBegin:this.blockBegin||1,blockCount:this.blockCount,recursive:1,folderBrowserStyle:0,includeAncestorInfo:"true",includeObjectDesc:this.includeObjectDesc,searchXML:this.searchXML||"",dataSourcesXML:this.dataSources||"",objectType:this.objectTypes},browseFolder:{taskId:"searchMetadata",rootFolderID:this.rootID,blockBegin:this.blockBegin,blockCount:this.blockCount,recursive:this.hierarchical?0:(this.searchXML?"":1),folderBrowserStyle:this.hierarchical?1:0,includeAncestorInfo:String(!!this.hierarchical),searchXML:this.searchXML||"",dataSourcesXML:this.dataSources||"",objectType:this.objectTypes},browseElements:{taskId:"browseElements",styleName:"MojoAttributeStyle",attributeID:this.rootID,blockBegin:this.blockBegin,blockCount:this.blockCount,filterXML:this.filterXML||"",searchPattern:this.searchPattern||"",matchCase:!!this.matchCase,dataSourcesXML:this.dataSourcesXML||"",includeFormNames:!!this.collectForms,includeFormValues:!!this.bIncludeFormValues,displayedForms:this.displayedForms||1,dimensionID:this.dimensionId||""}}[F];if(typeof H==="object"){mstrmojo.hash.copy(H,G);}return G;}var B="##searchPattern";mstrmojo.SearchBox2=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.SearchBox2",width:"100px",taskId:"searchMetadata",rootID:null,searchStyleName:"MojoFolderStyle",objectTypes:"3,14,256,257,1024,1027,2048,3072,10",token:{searchMetadata:/\//,browseElements:/(^-)|(,)|( OR )|( AND)|([<>]=?)|(&)|( )|(["\[\]\/])/},blockCount:50,blockBegin:1,minSearchLength:2,matchCase:false,enableMatchCase:true,supportIncFetch:true,quickSearch:false,searchAfterSearchPatternRestored:false,includeObjectDesc:true,markupString:'<table id={@id} cellspacing=0 cellpadding=0 class="mstrmojo-SearchBox-Wrapper {@cssClass}" style="{@cssText};"><tr><td><div class="mstrmojo-SearchBox" mstrAttach:click ><input class="mstrmojo-SearchBox-input" type="text" style="width:{@width};" mstrAttach:keyup,blur /></div></td><td><div class="mstrmojo-SearchBox-clear" id="{@id}sbClear" mstrAttach:click></div></td><td><div class="mstrmojo-SearchBox-bg"><div class="mstrmojo-SearchBox-search" id="{@id}sbSearch" mstrAttach:click ></div></div></td><td><div class="mstrmojo-SearchBox-options" style="{@cssTextShowMC}"><input id="{@id}sbMatchCase" type="checkbox" mstrAttach:click /><label for="{@id}sbMatchCase">'+mstrmojo.desc(1049,"Match case")+"</label></div></td></tr></table>",markupSlots:{inputNode:function(){return this.domNode.rows[0].cells[0].firstChild.firstChild;},clearNode:function(){return this.domNode.rows[0].cells[1].firstChild;},optionNode:function(){return this.domNode.rows[0].cells[3].firstChild.firstChild;}},preBuildRendering:function(){this.cssTextShowMC=this.enableMatchCase?"":"display: none";},postBuildRendering:function(){if(this._super){this._super();}this.matchCase=this.optionNode.checked;},onkeyup:function D(F){var H=this;var G=H.searchTimer;if(G){window.clearTimeout(G);}H.searchTimer=window.setTimeout(function(){H.onkeyupDelayed(F);delete H._searchTimer;},parseInt(F.e.keyCode||F.e.charCode,10)===13?0:H.searchDelay);},onkeyupDelayed:function A(G){var F=G.hWin,I=G.e||F.event;var H=mstrmojo.string.trim(this.inputNode.value);if(this.clearNode){C.toggleClass(this.clearNode,["show"],H.length>0);}this.showTaskError=false;this.click2Search=false;if(H.length==0||this.autoSubmit||this.onEnter&&I.keyCode===13){this._onsearch();}},onEnter:function(){this._onsearch();},onclick:function(G){var F=G.hWin,I=G.e||F.event,K=I.target||I.srcElement,J=K&&K.id;switch(J.replace(this.id,"")){case"sbDown":if(this.enableMatchCase){var H=this.optionNode.parentNode.style;H.display=H.display=="block"?"none":"block";}break;case"sbSearch":if(this.onEnter&&I.keyCode===13){this.onEnter();}this.showTaskError=true;this.click2Search=true;this._onsearch();break;case"sbMatchCase":this.set("matchCase",this.optionNode.checked);break;case"sbClear":this.clearSearch();break;case"sbSpinner":break;}},clearSearch:function(){this.inputNode.value="";C.removeClass(this.clearNode,["show"]);var G=this.searchCache,F=this.rootID;if(G&&G[F]){G[F][B]="";}this._onsearch(true);},onmatchCaseChange:function(){this.matchCaseChanged=true;this._onsearch();},onrootIDChange:function(){this.rootChanged=true;this._setupCache();var G=this.searchCache[this.rootID];if(G){var F=G[B]||"";this.inputNode.value=F;if(F.length>0){if(F.length>=this.minSearchLength&&this.searchAfterSearchPatternRestored){this._onsearch();}}}},getRootID:function(){},contentWidget:null,_notifyContentWidget:function(G){var F=this.contentWidget||this;F.set("items",G[0]);if(this.supportIncFetch){var H=G[1],J=G[2],I=this.blockCount;F.set("ifs",{np:Math.floor(H/I)+((H%I>0)?1:0),cp:Math.floor(J/I)+((J%I>0)?1:0)});}},_onsearch:function(F){this.getRootID();this._setupCache();var I=mstrmojo.string.trim(this.inputNode.value);if(I.length===0){F=true;}var J=this.token[this.taskId];if(J.test(I)){}if(this.searchPattern==I&&!this.rootChanged&&!this.matchCaseChanged&&!this.click2Search){return ;}var K=this.rootID,H=this.searchCache[K];if((I.length<this.minSearchLength&&!this.click2Search)&&!F){if(this.searchPattern&&this.searchPattern.length>=this.minSearchLength){this._notifyContentWidget(H[K]);this.searchPattern=I;}}else{this.searchPattern=I;H[B]=this.searchPattern;var G=this.filterCache(I,H,F);if((this.click2Search||G===null)&&!F){this.blockBegin=1;this.fetch();return ;}else{this._notifyContentWidget(G);}}H[B]=I;},_setupCache:function(){var H=this.searchCache,G=this.rootID;if(H&&!H[G]){H[G]=H[G]||{};var F=this.contentWidget&&this.contentWidget.items||this.rootCacheItems||[];H[G][G]=[F,this.totalSize||0,this.blockBegin||1].concat();}},taskCallId:0,path:mstrConfig.taskURL,method:"POST",fetch:function(){this.rootChanged=false;this.matchCaseChanged=false;if(this.spinnerNode){this.spinnerNode.style.display="block";}if(this.preFetch){this.preFetch();}var F=this,G=E.apply(this,[this.taskId]);G.searchPattern=this.searchPattern;callback={success:function(H){var I=H.items||H.es||[];I=[I,H.totalSize||H.sz||0,H.blockBegin||H.bb];mstrmojo.all[F.id].searchCache[F.rootID][(G.searchPattern.length==0?F.rootID:F.buildIndex(G.searchPattern))]=I;F._notifyContentWidget(I);},failure:function(H){if(F.showTaskError){mstrmojo.alert(mstrmojo.desc(8117,"Data request failed:")+" \n"+H.getResponseHeader("X-MSTR-TaskFailureMsg"));}},complete:function(){if(F.spinnerNode){F.spinnerNode.style.display="none";}if(F.postFetch){F.postFetch();}}};if(this.sessionState!==undefined){G.sessionState=this.sessionState;}mstrmojo.xhr.request(this.method,this.path,callback,G,undefined,this.XServer,this.baseParams);},fetchPage:function(F){this.blockBegin=F*this.blockCount+1;this.fetch();},filterCache:function(K,G,N){var J=G&&G[N?this.rootID:this.buildIndex(K)];if(J){return J;}var H=this.token[this.taskId];if(H.test(K)||this.totalSize>this.blockCount){return null;}var M=K.replace(/.$/,"");J=G&&G[this.buildIndex(M)];while(J===undefined&&(M=M.replace(/.$/,"")).length>0){J=G&&G[this.buildIndex(M)];}if(J!==undefined){if(J[1]>this.blockCount){return null;}var L=J[0],F=[];for(var I in L){if(L[I].n.search(new RegExp(K,this.matchCase?"":"i"))>-1){F.push(L[I]);}}this.totalSize=F.length;return(G[this.buildIndex(K)]=[F,F.length,this.blockBegin].concat());}return null;},buildIndex:function(F){if(F.replace(/^\s|\s$/g,"").length===0){return"";}return !this.matchCase?F.toUpperCase():F+"::0";},init:function(F){if(this._super){this._super(F);}this.qse=mstrApp.useQuickSearch&&mstrApp.useQuickSearch()||0;this.autoSubmit=this.quickSearch&&(mstrApp.searchAutoComplete&&mstrApp.searchAutoComplete()||false);this.searchDelay=mstrApp.searchAutoCompleteDelay&&mstrApp.searchAutoCompleteDelay()||0;this.xhr=new mstrmojo.SimpleXHR();this.searchCache=this.searchCache||{};},clear:function(){this.inputNode.value="";C.removeClass(this.clearNode,["show"]);}});})();(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.css","mstrmojo.dom");var A=mstrmojo.css;var B=3,C=2,D=1;mstrmojo.ButtonPreview=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.ButtonPreview",caption:null,fillColor:"#EEEEEE",fontColor:"#000000",border:"#FFFFFF",style:B,markupString:'<div id="{@id}" class="mstrmojo-Mobile-button {@cssClass}" style="{@cssText}" mstrAttach:mouseover,mouseout,click><div class="mstrmojo-Mobile-button-highlight"><div class="mstrmojo-Mobile-button-border"></div><div class="mstrmojo-Mobile-button-radial"></div><div class="mstrmojo-Mobile-button-icon"><img src="{@icon}" style="position:absolute"></div><div class="mstrmojo-Mobile-button-caption-in"></div><div class="mstrmojo-Mobile-button-glass"></div></div><label class="mstrmojo-Mobile-button-caption-out">{@caption}</label></div>',markupSlots:{highlightNode:function(){return this.domNode.firstChild;},borderNode:function(){return this.domNode.firstChild.childNodes[0];},outerCaptionNode:function(){return this.domNode.lastChild;},innerCaptionNode:function(){return this.domNode.firstChild.childNodes[3];},iconNode:function(){return this.domNode.firstChild.childNodes[2].firstChild;},glassNode:function(){return this.domNode.firstChild.childNodes[4];}},onmouseover:function(){A.addClass(this.highlightNode,["hover"]);},onmouseout:function(){A.removeClass(this.highlightNode,["hover"]);},markupMethods:{onselectedChange:function(){A.toggleClass(this.highlightNode,["selected"],this.selected);},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";},oncaptionChange:function(){this.innerCaptionNode.innerHTML=this.outerCaptionNode.innerHTML=this.caption||"";},onfillColorChange:function(){this.borderNode.style.backgroundColor=this.fillColor;},onfontColorChange:function(){this.innerCaptionNode.style.color=this.outerCaptionNode.style.color=this.fontColor;},oniconChange:function(){if(this.icon){this.iconNode.src="";this.iconNode.style.display="none";var F=this;var E=new Image();E.onload=function(){var I=48,N=48;var H=this.width,L=this.height;var K=(H<I)?1:(H/I),G=(L<N)?1:(L/N);var M=(K>G)?K:G;var J=F.iconNode;if(J){J.width=(H/M);J.height=(L/M);J.src=F.icon;J.style.left=(48-H/M)/2+"px";J.style.top=(48-L/M)/2+"px";J.style.display="inline";}};E.src=F.icon;}else{this.iconNode.src="";this.iconNode.style.display="none";}},onborderChange:function(){this.borderNode.style.borderColor=this.border;},onstyleChange:function(){A.toggleClass(this.glassNode,["off"],(this.style!==B));A.toggleClass(this.borderNode,["off"],(this.style===D));}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.hash");function A(H,E,G,F){var D=mstrmojo.hash.copy(F,{props:{left:{isStyle:true,start:H,stop:E,suffix:"px",ease:mstrmojo.ease.linear}},duration:G});(new mstrmojo.fx.AnimateProp(D)).play();}function B(J,M,F,K){var H=J.domNode,L=H.offsetWidth;var D=!(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent))||Number(RegExp.$1)>3.5,I=K?1:-1,E=parseInt(L,10)*I,G=D?500:0;A(0,-E,G,{target:F,duration:G,preStart:function(){this.target.style.overflowY="hidden";}});A(E,0,G,{target:M,preStart:function(){this.target.style.overflowY="auto";}});if(J.waiting){A(0,-E,G,{widget:J,slot:"loaderNode",onEnd:function(){this.widget.waiting=false;}});}}var C=function(D){var E=D.currentPage;if(E===D.p1Node){E=D.p2Node;}else{E=D.p1Node;}D.currentPage=E;};mstrmojo.Booklet=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.Booklet",pageClass:"mstrmojo-BookletPage",markupString:'<div id="{@id}" class="mstrmojo-Booklet {@cssClass}" style="{@cssText}"><div id="{@id}_p1" class="mstrmojo-BookletPage" ></div><div id="{@id}_p2" class="mstrmojo-BookletPage" style="left:-100%;"></div><div id="{@id}_ldr" class="mstrmojo-BookletLoader" ></div></div>',markupSlots:{containerNode:function(){return this.domNode;},p1Node:function(){return this.domNode.firstChild;},p2Node:function(){return this.domNode.childNodes[1];},loaderNode:function(){return this.domNode.childNodes[2];}},markupMethods:{onnextChange:function(){var G=this.next;if(!G){return ;}var D=this.currentPage,F=this.p1Node,E=this.currentPage=(D==F)?this.p2Node:F;if(!(G instanceof mstrmojo.Obj)){G=this.next=mstrmojo.insert(G);}if(!G.hasRendered){G.placeholder=E.appendChild(document.createElement("span"));G.render();}else{if(E.firstChild){E.replaceChild(G.domNode,E.firstChild);}else{E.appendChild(G.domNode);}}this.set("waiting",false);if(E&&D){B(this,E,D,this.turnDirFwd);}},onwaitingChange:function(D){this.loaderNode.style.left=(this.waiting)?0:"-100%";},onheightChange:function(D){if(this.height){this.domNode.style.height=this.height;}},onwidthChange:function(D){if(this.width){this.domNode.style.width=this.width;}}},enabled:true,waiting:false,next:null,currentPage:null,turnDirFwd:true,FORWARD:true,REVERSE:false,turnFwd:function(D){this.turn(D,this.FORWARD);},turnBack:function(D){this.turn(D,this.REVERSE);},turn:function(D,E){this.set("turnDirFwd",E);this.set("next",D);}});})();(function(){mstrmojo.requiresCls("mstrmojo.boxmodel","mstrmojo.array","mstrmojo.hash","mstrmojo.dom","mstrmojo.css","mstrmojo.Widget","mstrmojo.Arr","mstrmojo._HasLayout","mstrmojo._ListBase2Selections","mstrmojo.ListSelector","mstrmojo._TouchScrolling","mstrmojo._PagingList");var Z=mstrmojo.hash,e=mstrmojo.array,d=mstrmojo.boxmodel,b=mstrmojo.dom;function A(h,j,g){var i=h.listSelector;if(i){i[j](h,h.itemsContainerNode,g);}}function K(h,g){var i=h.lastPagePos;if(!i||i.dragId!==g){i=d.offset(h.itemsContainerNode);i.dragId=g;h.lastPagePos=i;var j=h.scrollboxNode;h.lastScrollPos={left:j.scrollLeft,top:j.scrollTop,width:j.clientWidth,height:j.clientHeight};}}function N(j,m,h){var i=m&&m.node;if(i===j.dropCueNode||i===j.dropCueNode.firstChild){return j.dropCuePos;}var k=j.listMapper;var g=k&&k.whereDrop(j,j.itemsContainerNode,i,m.pos,{left:j.lastPagePos.left-j.lastScrollPos.left,top:j.lastPagePos.top-j.lastScrollPos.top,width:j.lastScrollPos.width,height:j.lastScrollPos.height});var l=j.dropCuePos;return((h!==false)&&l&&g&&(l.idx===g.idx)&&(l.left===g.left)&&(l.top===g.top))?l:g;}var f="attachEventListener";function C(h,g){if(h.makeObservable){g=g||[];if(!g[f]){mstrmojo.hash.make(g,h.itemsScriptClass||mstrmojo.Arr);}}return g;}function G(h,g){if(g&&g[f]){h._sub_its=g;h._sub_add=g[f]("add",h.id,"preadd");h._sub_rmv=g[f]("remove",h.id,"preremove");}}function F(g){if(g._sub_its){var h=mstrmojo.publisher;h.unsubscribe(g._sub_add);h.unsubscribe(g._sub_rmv);delete g._sub_add;delete g._sub_rmv;delete g._sub_its;}}mstrmojo.ListBase2=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._ListBase2Selections,mstrmojo._TouchScrolling,mstrmojo._PagingList,mstrmojo._HasLayout],{scriptClass:"mstrmojo.ListBase2",items:null,markupString:'<div id="{@id}" class="mstrmojo-ListBase2 {@cssClass}" style="position:relative;{@cssText}" mstrAttach:mousedown,mouseup,dblclick><div class="mstrmojo-ListBase2-itemsContainer" style="position:relative;{@itemsContainerCssText}">{@itemsHtml}</div><div class="mstrmojo-ListBase2-dropCue {@cssClass}"><div class="mstrmojo-ListBase2-dropCue-inner"></div></div></div>',markupSlots:{scrollboxNode:function(){return this.domNode;},itemsContainerNode:function(){return this.domNode.firstChild;},dropCueNode:function(){return this.domNode.lastChild;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?this.cssDisplay:"none";},ondropCuePosChange:function(){var h=this.dropCueNode,g=h&&h.style;if(!g){return ;}var j=this.dropCuePos,i=!!j;if(i){g.left=j.left+"px";g.top=j.top+"px";}g.display=i?"block":"none";},onpageChange:function(){if(this.usePaging&&!this._inScroll){this._inPaging=true;this.listMapper.toPage(this,this.page);this._inPaging=false;}}},autoHide:false,renderOnScroll:false,firstRenderBlockSize:50,renderBlockSize:50,listMapper:null,listBuilder:null,listSelector:mstrmojo.ListSelector,animate:false,itemsEffect:null,containerResizable:true,init:function Y(l){this._super(l);this.items=this.initItems(this.items);var k=this.selectedIndices,g=this.selectedIndicesList,j=this.selectedIndex,m=this.selectedItem;this.selectedIndices={};this.selectedIndex=-1;delete this.selectedIndicesList;delete this.selectedItem;if(k||g||(j>-1)||m){this.initSelections(k,g,j,m);}if(this.postInitItems){this.postInitItems();}},initItems:function H(g){return C(this,g);},preBuildRendering:function V(){var k=this.listBuilder,n=k.newContext(this);this.ctxtBuilder=n;var h=this.markupSlots,j=!!(this.renderOnScroll&&this.renderBlockSize&&h&&h.scrollboxNode),i=this.items,g=(i&&i.length)||0,l=j?this.firstRenderBlockSize:g,m=j?this.firstRenderBlockSize:0;this._eros=j;this.paused=false;this.itemsHtml=this.listMapper.buildItemWrappers(i,k,this,n,l,m).join("");this.itemsContainerCssText="visibility: hidden";if(this._super){this._super();}},postBuildRendering:function D(){delete this.itemsHtml;var l=this.listMapper;if(l&&l.postBuildRendering){l.postBuildRendering(this.itemsContainerNode,this.items,this.listBuilder,this,this.ctxtBuilder);}G(this,this.items);if(this._eros||this.usePaging){if(!this._cb_scroll){var o=this.id;this._cb_scroll=function(){var i=mstrmojo.all[o];i.onscroll();};}mstrmojo.dom.attachEvent(this.scrollboxNode,"scroll",this._cb_scroll);this.onscroll();}if(this.animate){for(var j=0,h=["itemsEffect","scrollEffect"],g=h.length;j<g;j++){var m=h[j],k=this[m];if(k&&k.constructor===Object){k=mstrmojo.insert(mstrmojo.hash.clone(k));k.widget=this;this[m]=k;}}if(this.itemsEffect){this.itemsEffect.play();}}this.itemsContainerNode.style.visibility="inherit";if(this.containerResizable&&this.itemsContainerNode.scrollWidth<this.domNode.scrollWidth){this.itemsContainerNode.style.width=this.domNode.scrollWidth+"px";}if(this._super){this._super();}},unrender:function W(k){F(this);if(this._eros){mstrmojo.dom.detachEvent(this.scrollboxNode,"scroll",this._cb_scroll);delete this._cb_scroll;}for(var h=0,j=["itemsEffect","scrollEffect"],g=j.length;h<g;h++){var l=this[j[h]];if(l&&l.isPlaying){l.cancel();}}this._super(k);},pauseScrollRendering:function O(i,g,h){if(i!==false){i=true;}if(this.paused===!!i){return ;}this.paused=!!i;if(i){if(this._fillTmr){window.clearTimeout(this._fillTmr);delete this._fillTmr;}}else{this.fill(g,h);}},onscroll:function J(){if(this.paused){return ;}if(this._eros){if(!this._fillTmr){var g=this;this._fillTmr=self.setTimeout(function(){g.fill();g=null;},50);}}if(this._super){this._super();}},fill:function a(g,k){if(this._fillTmr){window.clearTimeout(this._fillTmr);delete this._fillTmr;}var l=(this.items&&this.items.length)||0;if(!l){if(k){k();}}else{var i=this.scrollboxNode,m=this.itemsContainerNode,j=mstrmojo.boxmodel.offset(m,i),o=this.listMapper,n=o.findScrollRange(m,l,(this.usesTouches&&this.pos&&parseInt(this.pos.y,10))||i.scrollTop,i.clientHeight,(this.usesTouches&&this.pos&&parseInt(this.pos.x,10))||i.scrollLeft,i.clientWidth,j.left,j.top);if(this.fillAt(n.start,n.end)){if(g){g();}var h=this.id;this._fillTmr=window.setTimeout(function(){mstrmojo.all[h].fill(g,k);},100);}else{if(k){k();}}}},fillAt:function L(i,h){var g=this.listMapper;if(g){return g.fillItemWrappers(this.itemsContainerNode,this.items,this.listBuilder,this,this.ctxtBuilder,i,h,this.renderBlockSize);}else{return false;}},add:function Q(h,g){if(!h||!h.length){return -1;}var i=this.items;if(g==null){g=Z.min(this.selectedIndices,false,true);if(g!==null&&g!==undefined){g++;}}if(g==null||g===-1){g=(i&&i.length)||0;}if(i&&i.add){i.add(h,g);}else{this.set("items",i?e.insert(i.concat(),g,h):h);}return g;},preadd:function B(j){if(this.hasRendered){var m=this.listMapper;if(m){m.onadd(this,this.itemsContainerNode,this.ctxtBuilder,j);}var l=this.listBuilder;if(l){l.onadd(this,this.ctxtBuilder,j);}var h=this.listSelector;if(h){h.onadd(this,j);}if(this._eros){this.onscroll();}else{var k=j.index,g=j.value.length;this.fillAt(k,k+g-1);}}if(this.onadd){this.onadd(j);}if(this._super){this._super(j);}},remove:function T(g){if(g==null){return -1;}if(g.constructor!==Array){return this._remove(g);}var j=this.items;if(j){var h;if(j.remove){for(h=g.length-1;h>-1;h--){j.remove(g[h],1);}}else{j=j.concat();for(h=g.length-1;h>-1;h--){j.splice(g[h],1);}this.set("items",j);}return g[0];}return -1;},_remove:function T(i){var h=this.items;if(!h||(i==null)){return -1;}var g;if(!isNaN(i)){g=i;}else{g=this.itemIndex(i);}if(g>-1){if(h.remove){h.remove(g,1);}else{h=h.concat();h.splice(g,1);this.set("items",h);}}return g;},duplicate:function X(l,h,i){var j=this.items,g=-1;if(!j||(l==null)){return -1;}if(!isNaN(l)){if(h===null||h===undefined){h=l+1;}l=j[l];}else{if(h===null||h===undefined){h=this.itemIndex(l)+1;}}if(l){var k;k=Z.copy(i,Z.clone(l));g=this.add([k],h);}return g;},preremove:function M(h){if(this.hasRendered){var j=this.listMapper;if(j){j.onremove(this,this.itemsContainerNode,this.ctxtBuilder,h);}var i=this.listBuilder;if(i){i.onremove(this,this.ctxtBuilder,h);}var g=this.listSelector;if(g){g.onremove(this,h);}if(this._eros){this.onscroll();}}if(this.onremove){this.onremove(h);}if(this._super){this._super(h);}},move:function R(k,p){function n(q,i){return(p>=q)&&(p<=q+i);}var o=(this.items&&this.items.length)||0;if(p===-1||p==null||isNaN(p)){p=o;}else{p=Math.min(p,o);}var j,g,m,l;if(k.constructor===Array){g=k;m=k;l=(g&&g.length)||0;if(n(k[0],k.length)){return false;}j=e.get(this.items,k);}else{if(typeof (k)==="object"){j=[k];l=1;g=this.itemIndex(j[0]);m=[g];if(n(g,1)){return false;}}else{g=k;m=[k];l=1;if(n(g,1)){return false;}j=[this.items[g]];}}for(var h=0;h<l;h++){if(m[h]<=p){p--;}}if(j[0]!=null){this.remove(g);this.add(j,p);}return true;},itemIndex:function E(g){if(g==null){return -1;}var h=this.itemIdField;return h?e.find(this.items,h,g[h]):e.indexOf(this.items,g);},prechange:function S(j){if(this.hasRendered){var h=[this.listBuilder,this.listMapper];for(var k=0,g=h.length;k<g;k++){var l=h[k];if(l&&l.onchange){l.onchange(this,this.itemsContainerNode,this.ctxtBuilder,j);}}}},makeObservable:false,_set_items:function I(l,g){var k=this.items;g=this.initItems(g);this.items=g;if(k!==g){var j=this,i=function(){if(j.autoHide){j.set("visible",!!(g&&g.length));}j=null;},h=this.hasRendered;if(h){this.refresh(i);}else{i();}}return k!==g;},premousedown:function c(g){A(this,"premousedown",g);},premouseup:function P(g){A(this,"premouseup",g);},scrollTo:function U(h){var g,i=this.listMapper;if(i&&i.toItem){if(!isNaN(h)){g=h;}else{g=this.itemIndex(h);}if(g>=0){i.toItem(this,g);}}},draggable:false,getDragData:function(k){K(this,k.id);var i=N(this,k.src),h=i&&i.idxActual;if((h>-1)&&this.selectedIndices[h]){var j=this.sortSelectedIndices(),g=e.get(this.items,j)||[];switch(g.length){case 1:return Z.copy(g[0],{html:g[0][this.itemDisplayField],index:j[0]});case 0:return null;default:return Z.copy({html:g.length+" selections",indices:j},g);}}},dropZone:false,ondragenter:function(g){K(this,g.id);this.set("dropCuePos",N(this,g.tgt));},ondragover:function(g){this.set("dropCuePos",N(this,g.tgt));},ondragleave:function(g){this.set("dropCuePos",null);},ondragstart:function(g){if(!(g&&g.src&&g.src.data)){return false;}},allowCopy:false,ondragend:function(j){var h=j&&j.tgt,g=h&&h.widget;if(g===this){}else{if(this.tree&&g&&g.tree===this.tree){if(!this.allowCopy||!b.ctrlKey(h.hWin,h.e)){var i=j.src&&j.src.data;if(i&&(i.indices||(i.index!==null))){this.remove(i.indices||i.index);}}}}},ondrop:function(o){var r=o&&o.src,n=r&&r.data;if(n){var h=N(this,o.tgt,false),p=h&&h.idx,j=(n&&n.constructor===Array);var l=this.items;p=Math.min(p,(l&&l.length)||0);var q=true;if(r.widget===this){q=this.move(this.sortSelectedIndices(),p);}else{this.add(j?n:[n],p);}if(q){var m=j?n.length:1,g={};for(var k=0;k<m;k++){g[p+k]=true;}this.set("selectedIndices",g);}}this.set("dropCuePos",null);}});})();(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.Widget");var A=mstrmojo.css;mstrmojo.TabButton=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.TabButton",markupString:'<span id="{@id}" class="mstrmojo-TabButton {@cssClass}" style="{@cssText}" mstrAttach:click></span>',markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"inline":"none";},ontitleChange:function(){this.domNode.innerHTML=this.title||"";},onbackgroundColorChange:function(){this.domNode.style.backgroundColor=this.backgroundColor||"";},onselectedChange:function(){A.toggleClass(this.domNode,["selected"],!!this.selected);}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Widget");mstrmojo.WaitIcon=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.WaitIcon",cssFloat:"left",visible:false,markupString:'<div id="{@id}" class="mstrmojo-WaitIcon {@cssClass}" style="float:{@cssFloat};{@cssText};"></div>',markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},markupSlots:{}});})();(function(){mstrmojo.requiresCls("mstrmojo._CanValidate","mstrmojo.Label","mstrmojo.Obj","mstrmojo.string","mstrmojo.color","mstrmojo.css","mstrmojo.locales");mstrmojo.locales.validation.requiredFieldError=mstrmojo.desc(6078);mstrmojo.locales.validation.invalidCharError=mstrmojo.desc(7899);mstrmojo.locales.validation.integerDataType=mstrmojo.desc(6076);mstrApp.onSessionExpired=function(){Q.lastProject=null;Q.lastSession=null;P.set("mode",T);};var N=mstrmojo.string,F=mstrmojo.color,R=mstrmojo.hash,S=mstrmojo.dom;function K(X){return(X!=mstrmojo.mobileConfigUtil.PRJ_AUTHEN_WIN)&&(X!=mstrmojo.mobileConfigUtil.PRJ_AUTHEN_TRUSTED);}var I=0,T=1,C=2,U=3;var Q=mstrmojo.insert({scriptClass:"mstrmojo.Table",id:"loginBox",alias:"loginBox",cssClass:"mobileConfig-loginBox",cellPadding:2,cols:2,rows:5,onwaitChange:function(){this.waitIcon.set("visible",this.wait);mstrmojo.css.toggleClass(this.domNode,["disabled"],this.wait);},restoreSession:function(){var Y=this.lastProject,Z=this.selectedProject,X=Y&&(Y.v==Z.v)&&(Y.iServer==Z.iServer)&&(Y.authMode==Z.authMode);if(X){this.sessionID=this.lastSession;}return X;},closeSession:function(){if(this.sessionID!=null){if(P.opener.reuseSession){this.lastSession=this.sessionID;this.lastProject=this.selectedProject;}else{mstrmojo.xhr.request("GET",mstrConfig.taskURL,{success:function(X){},failure:function(){}},{taskId:"closeSessions",sessionStates:this.sessionID},false,this.selectedProject.webServer);}this.sessionID=null;}},children:[{scriptClass:"mstrmojo.Label",cssText:"width: 80px; margin:0px",text:mstrmojo.desc(4446),slot:"0,0"},{scriptClass:"mstrmojo.SelectBox",alias:"projects",cssText:"width:230px; margin:0px",showItemTooltip:true,size:1,bindings:{visible:"!this.items || this.items.length != 1"},onitemsChange:function(){if(this.items&&this.items.length>0){this.set("selectedIndex",0);}},onchange:function(){if(this.selectedItem){var X=K(this.selectedItem.authMode);this.parent.set("selectedProject",this.selectedItem);this.parent.uid.set("enabled",X);this.parent.password.set("enabled",X);}},slot:"0,1"},{scriptClass:"mstrmojo.Label",cssClass:"mobileConfig-loginBox-projectLabel",bindings:{visible:"!this.parent.projects.visible",text:"this.parent.projects.items[0].n"},slot:"0,1"},{scriptClass:"mstrmojo.Label",cssText:"width: 80px; margin:0px",text:mstrmojo.desc(1161),slot:"1,0"},{scriptClass:"mstrmojo.TextBox",cssText:"width:220px; margin:0px",alias:"uid",onkeyup:function(Y){var X=Y.hWin,Z=Y.e||X.event;if(Z.keyCode===13){this.parent.loginButton.onclick();}},slot:"1,1"},{scriptClass:"mstrmojo.Label",cssText:"width: 80px; margin:0px",text:mstrmojo.desc(1162),slot:"2,0"},{slot:"2,1",scriptClass:"mstrmojo.TextBox",cssText:"width:220px; margin:0px",type:"password",alias:"password",onkeyup:function(Y){var X=Y.hWin,Z=Y.e||X.event;if(Z.keyCode===13){this.parent.loginButton.onclick();}}},{slot:"3,1",scriptClass:"mstrmojo.HTMLButton",alias:"loginButton",text:mstrmojo.desc(4020),cssText:"margin-left: 20px;",cssClass:"mstrButton",bindings:{enabled:"this.parent.projects.items.length > 0"},onclick:function(){var X=E.objectBrowser,Y=K(Q.selectedProject.authMode);mstrmojo.xhr.request("GET",mstrConfig.taskURL,{success:function(Z){if(Z!=null){Q.sessionID=Z.sessionState;P.set("mode",P.targetMode);}},failure:function(Z){mstrmojo.mobileConfigUtil.showErrorMsgBox(mstrmojo.desc(422));P.close();},complete:function(){Q.set("wait",false);}},{taskId:"login",server:Q.selectedProject.iServer,project:Q.selectedProject.project,userid:(Y)?Q.uid.value:"",password:(Y)?Q.password.value:"",authMode:Q.selectedProject.authMode},false,Q.selectedProject.webServer);Q.set("wait",true);}},{slot:"3,1",scriptClass:"mstrmojo.HTMLButton",cssText:"margin-left: 35px;",cssClass:"mstrButton",text:mstrmojo.desc(221),onclick:function(){P.close();}},{slot:"4,0",scriptClass:"mstrmojo.WaitIcon",alias:"waitIcon",cssClass:"mobileConfig-waitIcon"}]});var E=mstrmojo.insert({id:"objectBrowserBox",alias:"objectBrowserBox",scriptClass:"mstrmojo.VBox",callbackOnSelect:function(a){var Z=this.objectBrowser.currentFolder,b=Z.anc.items[0],c=b.n,Y=b.items&&b.items[0];while(Y){c+="\\"+Y.n;Y=Y.items&&Y.items[0];}if(Z!=a){c+="\\"+a.n;}var X={oi:{did:a.did,pt:c,pid:Q.selectedProject.v,t:a.t,st:a.st,n:a.n,fid:a.pf||Z.did}};if(P.opener.allowCheckSubscription){X.csp=true;}mstrmojo.xhr.request("GET",mstrConfig.taskURL,{success:function(e){if(e!==null){X.oi.ab=e.objects[0].ab;}var h=P.opener,g=h.target,f=h.targetType,d=g[f];if(!d){g.set(f,new mstrmojo.Obj(X));}else{d.set("oi",X.oi);d.set("csp",X.csp);}},failure:function(){},complete:function(){P.close();}},{taskId:"getObjectInfo",objectIDs:a.did,objectTypes:a.t,sessionState:Q.sessionID},false,Q.selectedProject.webServer);},onvisibleChange:function(){if(this.visible){var X=this.objectBrowser;objBrowserDP=X.dataProvider,objBrowserSearch=X.searchUpBar.obSearchBox,config={method:"GET",path:mstrConfig.taskURL,XServer:Q.selectedProject.webServer};R.copy(config,objBrowserDP);R.copy(config,objBrowserSearch);R.copy({onSelectCB:[E,"callbackOnSelect"],onCloseCB:[P,"close"],browsableTypes:P.opener.browsableTypes},X);X.sId=objBrowserSearch.sessionState=Q.sessionID;objBrowserSearch.searchCache={};objBrowserSearch.objectTypes=P.opener.browsableTypes;X.browse();}this.objectBrowser.set("visible",this.visible);this.choose.set("visible",this.visible&&(this.objectBrowser.browsableTypes=="8,17153"||this.objectBrowser.browsableTypes=="8"));this.switcher.set("visible",this.visible);},children:[{id:"objectBrowser",scriptClass:"mstrmojo.ObjectBrowser",alias:"objectBrowser",folderLinksContextId:14,closeOnSelect:false,useAnimate:false,closeable:false},{scriptClass:"mstrmojo.HTMLButton",alias:"choose",text:mstrmojo.desc(549),cssClass:"mstrButton",cssText:"width:100px",onclick:function(){this.parent.callbackOnSelect(this.parent.objectBrowser.currentFolder);}},{scriptClass:"mstrmojo.HTMLButton",alias:"switcher",text:mstrmojo.desc(221),cssClass:"mstrButton",cssText:"width:80px",onclick:function(){P.close();}}]});var H=mstrmojo.insert({scriptClass:"mstrmojo.Table",id:"triggerSelectorBox",alias:"triggerSelectorBox",cssClass:"triggerSelectorBox",rows:3,cols:1,onvisibleChange:function(){if(this.visible){mstrmojo.xhr.request("GET",mstrConfig.taskURL,{success:function(Y){var Z=H.triggerList;if(Y.objList){var X=Y.objList.length>0;Z.set("items",X?Y.objList:[]);Z.set("selectedIndex",X?0:-1);}},failure:function(){}},{taskId:"getSchedules",sessionState:Q.sessionID},false,Q.selectedProject.webServer);}else{this.set("items",null);}},children:[{slot:"0,0",scriptClass:"mstrmojo.Label",cssClass:"triggerListTitle",text:mstrmojo.desc(1090,"Choose a schedule:")},{slot:"1,0",scriptClass:"mstrmojo.SelectBox",alias:"triggerList",cssClass:"triggerList",size:1,showItemTooltip:true,itemDisplayField:"n",itemIdField:"id"},{slot:"2,0",scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrButton",cssText:"margin-left:10px; width:60px;",text:mstrmojo.desc(1442,"OK"),onclick:function(){var X=this.parent.triggerList.selectedItem;if(X){var Y=P.opener;Y.target.set(Y.targetType,{oi:{did:X.id,t:X.t,n:X.n}});}P.close();}},{slot:"2,0",scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrButton",cssText:"margin-left:10px; width:80px",text:mstrmojo.desc(221,"Cancel"),onclick:function(){P.close();}}]});var P=mstrmojo.insert({scriptClass:"mstrmojo.Popup",id:"mobileConfigPopup",cssClass:"mobileConfigPopup",slot:"popupNode",locksHover:true,mode:I,children:[Q,E,H],onOpen:function(){this.lastOpener=this.lastOpener||this.opener;if(this.opener!==this.lastOpener){this.opener.popupNode.appendChild(this.lastOpener.popupRef.domNode);this.lastOpener=this.opener;}this.loginBox.projects.set("items",mstrmojo.all.mobileConfig.getProjects(this.opener.target.pid,this.opener.target.sn));this.targetMode=this.opener.mode;this.set("mode",(this.opener.reuseSession&&Q.restoreSession())?this.targetMode:T);},onmodeChange:function(){this.set("left",this.mode===T?"-305px":"-175px");this.set("top",(this.mode!==T&&mstrmojo.dom.isWK)?"-35px":"0px");this.objectBrowserBox.set("visible",this.mode===C);this.loginBox.set("visible",this.mode===T);this.triggerSelectorBox.set("visible",this.mode===U);},onClose:function(X){this.loginBox.closeSession();this.set("mode",I);},destroy:function(){document.body.appendChild(this.domNode);this.lastOpener={popupRef:{domNode:this.domNode}};},unrender:function(){}});var A=function(Y,X){return R.copy(Y,{scriptClass:"mstrmojo.DropDownButton",cssClass:"mobileConfig-popupButton",text:"   ",title:"",mode:X,popupRef:P});};mstrmojo.mobileConfigUtil=mstrmojo.provide("mstrmojo.mobileConfigUtil",{DEVICE_IPHONE:1,DEVICE_IPAD:2,DEVICE_PHONE_UNIVERSAL:3,DEVICE_TABLET_UNIVERSAL:4,DEVICE_BLACKBERRY:5,DEVICE_IOS:6,DEVICE_ANDROID:7,DEVICE_ALL:8,DEFAULT_WEBSERVER:1,DEFAULT_PROJECT:2,DEFAULT_IPHONE_HOMESCREEN_BUTTON:3,DEFAULT_IPHONE_CUSTOM_HOMESCREEN:4,DEFAULT_IPAD_HOMESCREEN_BUTTON:5,DEFAULT_IPAD_CUSTOM_HOMESCREEN:6,DEFAULT_PHONE_UNIVERSAL_CUSTOM_HOMESCREEN:7,DEFAULT_TABLET_UNIVERSAL_CUSTOM_HOMESCREEN:8,DEFAULT_IPAD_PRECACHE_BUTTON:9999,HOMESCREEN_DEFAULT:1,HOMESCREEN_CUSTOM:2,HOMESCREEN_RD:3,HOMESCREEN_FOLDER:4,ACT_BROWSEFOLDER:1,ACT_RUNREPORT:2,ACT_FAVOURITES:3,ACT_SETTINGS:4,ACT_SHAREDLIBRARY:5,ACT_HELP:6,ACT_CLOUD:7,STYLE_GLASS:3,STYLE_FLAT:2,STYLE_NONE:1,FILL_SOLID:0,FILL_TRANSPARENT:1,FILL_GRADIENT:2,BACKGROUND_FILL:1,BACKGROUND_IMAGE:2,TITLEBAR_REGULAR:1,TITLEBAR_IMAGE:2,ICON_DEFAULT:1,ICON_IMAGE:2,ACT_HELP_DEFAULT:1,ACT_HELP_DOCUMENT:2,LOGGING_LEVEL_WARNING:12,LOGGING_LEVEL_ERROR:14,LOGGING_LEVEL_MESSAGES:10,LOGGING_LEVEL_ALL:0,LOGGING_LEVEL_OFF:16,MEM_UNIT_MB:1,MEM_UNIT_GB:2,TIME_UNIT_DAYS:1,TIME_UNIT_HOURS:2,TIME_UNIT_MINUTES:3,AUTHEN_ANONY:1,AUTHEN_BASIC:2,AUTHEN_WIN:3,AUTHEN_USHER:5,PRJ_AUTHEN_STD:1,PRJ_AUTHEN_WIN:2,PRJ_AUTHEN_LDAP:16,PRJ_AUTHEN_DB:32,PRJ_AUTHEN_TRUSTED:64,SRV_ASP:1,SRV_J2EE:0,REQ_HTTP:0,REQ_HTTPS:1,CACHE_PRELOAD_AUTO:1,CACHE_PRELOAD_OFF:2,CACHE_CLEAR_AUTO:1,CACHE_CLEAR_ONCLOSE:2,PUSH_NOTIFICATION_ON:1,PUSH_NOTIFICATION_OFF:2,OUTPUT_TYPE_ALL:1,OUTPUT_TYPE_MOBILE_CLIENT:2,createObjBrowserDropdown:function(X){return A(X,C);},createTriggerListDropdown:function(X){return A(X,U);},makeButtonHashable:function(X){this.makeHashable(X);this.makeHashable(X,["cap","dsc","act","icn"]);this.makeHashable(X.act,["hlp","rs","fd"]);this.makeHashable(X.act.rs,["pcf"]);this.makeHashable(X.icn,["img"]);return X;},makeCSTHomescreenHashable:function(Z){this.makeHashable(Z);this.makeHashable(Z,["rs","fd"]);if(Z.cst){var a=Z.cst.fmt;this.makeHashable(a);this.makeHashable(a,["btn","bkg","ttl","vw"]);this.makeHashable(a.bkg,["fll","img"]);this.makeHashable(a.ttl,["cap","img"]);this.makeHashable(a.btn,["fnt","brd","fll"]);for(var Y=0,X=Z.cst.btns.length;Y<X;Y++){this.makeButtonHashable(Z.cst.btns[Y]);}}else{if(Z.rs){if(Z.rs.sobs){var b=Z.rs.sobs;for(var Y=0,X=b.length;Y<X;Y++){this.makeHashable(b[Y]);this.makeHashable(b[Y],["fd","rs"]);if(b[Y].rs){this.makeHashable(b[Y].rs,["pcf"]);}}}if(Z.rs.pb){this.makeHashable(Z.rs,["pb"]);}}}},makeHashable:function(b,Z){if(!b){return ;}else{if(Z===undefined){R.make(b,mstrmojo.Obj);}else{for(var Y=0,X=Z.length;Y<X;Y++){var a=Z[Y];if(a in b){R.make(b[a],mstrmojo.Obj);}}}}},transformGradient:function(Z){if(typeof Z==="object"){var Y=mstrmojo.css.buildGradient(0,F.decodeColor(Z.sclr),F.decodeColor(Z.eclr));return Y.n+":"+Y.v;}else{if(typeof Z=="string"){var X=Z.match(/#\w{6}/g);if(X!==null&&X.length==2){return{sclr:F.encodeColor(X[0]),eclr:F.encodeColor(X[1])};}}}return"";},getTransferAuth:function W(X){var Y=(X.udc===true)?mstrmojo.all.mobileConfig.data.cty.wsdc.am:X.wsc.am;return(Y===this.AUTHEN_BASIC)?{transferAuthHeader:"1"}:null;},showErrorMsgBox:function V(Y){if(!Y){return ;}var X=mstrmojo.all.mobileConfigTaskError;if(X){var Z=X.children[0].text;if(Z!=Y){X.children[0].set("text",Z+Y);}}else{mstrmojo.insert({scriptClass:"mstrmojo.Dialog",id:"mobileConfigTaskError",title:mstrmojo.desc(3610),width:"475px",btnAlignment:"right",cssText:"border:1px solid #AAAAAA;",buttons:[{scriptClass:"mstrmojo.HTMLButton",cssText:"margin-bottom:2px",text:mstrmojo.desc(1442),preBuildRendering:function(){this.cssClass="mobileconfig-Button";},postBuildRendering:function(){this.domNode.focus();},onkeyup:function(b){var a=b.hWin,c=b.e||a.event;if(c.keyCode===13){this.onclick();}},onclick:function(a){mstrmojo.all.mobileConfigTaskError.destroy();}}],children:[{scriptClass:"mstrmojo.Label",text:Y}]}).render();}},isASP:function J(){return(window.location.pathname.indexOf("/asp/")>0)?true:false;},getWebSrvUrl:function B(X){return((parseInt(X.rt,10)===0)?"http":"https")+"://"+X.nm+":"+X.po+"/"+X.pt+((parseInt(X.ty,10)===0)?"/servlet/taskProc":"/asp/taskProc.aspx");},setValidValue:function O(Z,a,X,Y){if(!Z){return ;}X=(X!=null)?N.trim(X):"";if(Y&&Z.set){Z.set(a,X);}else{Z[a]=X;}},validatePort:function L(X){X=parseInt(X,10);if(X<0||X>65535){return false;}},generalValidator:function G(Y,Z,b,X){var a={id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""};if(Z===mstrmojo.expr.DTP.INTEGER){Y=parseInt(Y,10);}if(b&&b(Y)===false){a.code=mstrmojo.validation.STATUSCODE.INVALID_VALIDATOR;a.msg=X;}return a;},propertyName:function M(Y,a,X,Z){return{scriptClass:"mstrmojo.Label",text:Y,cssText:X,slot:a,bindings:Z};},obj2Xml:function D(f,e,d,a,b,Y){var X=d?'<?xml version="1.0" encoding="UTF-8"?>':"",c=b?b:{_meta_usesSuper:false,id:false,scriptClass:false,audibles:false,attachEventListener:false,destroy:false,detachEventListener:false,init:false,raiseEvent:false,set:false,defaultSrv:false,defaultPrj:false,defaultButton:false,validFlag:false,dead:false,pdn:false},Z={getArrItemName:Y?Y:function(j,g,h){return j.substr(0,j.length-1);},isSerializable:function(i,h,g){return(c[i]===false)?false:true;},skipNull:a,convertBoolean:false};X+=N.json2xml(e,f,Z);return X;}});})();(function(){mstrmojo.requiresCls("mstrmojo.Button");mstrmojo.HTMLButton=mstrmojo.declare(mstrmojo.Button,null,{scriptClass:"mstrmojo.HTMLButton",markupString:'<input id="{@id}" type="button" class="mstrmojo-text mstrmojo-HTMLButton {@cssClass} {@iconClass}" title="{@title}" style="{@cssText}" mstrAttach:click />',markupSlots:{inputNode:function(){return this.domNode;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"inline":"none";},onenabledChange:function(){mstrmojo.css[this.enabled?"removeClass":"addClass"](this.domNode,["disabled"]);},onselectedChange:function(){mstrmojo.css[this.selected?"addClass":"removeClass"](this.domNode,["selected"]);},ontextChange:function(){this.inputNode.value=this.text!=null?this.text:"";},oniconClassChange:function(){this.domNode.className="mstrmojo-text mstrmojo-HTMLButton "+this.cssClass+" "+this.iconClass+(this.enabled?"":" disabled");}}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListBase2","mstrmojo.ListMapper","mstrmojo.ListBuilder","mstrmojo.ListSelector");mstrmojo.List=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.List",renderOnScroll:true,listMapper:mstrmojo.ListMapper,listBuilder:mstrmojo.ListBuilder,listSelector:mstrmojo.ListSelector,itemIdField:"dssid",itemField:"n",itemMarkup:null,itemMarkupFunction:null});})();(function(){mstrmojo.requiresCls("mstrmojo.ListBase2");function B(E){var I=E.ctxtBuilder;if(I){var H=I.itemWidgets,G;for(G=H.length-1;G>-1;G--){var F=H[G];if(F){F.destroy(true);}}}}mstrmojo.WidgetListBase=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.WidgetListBase",unrender:function C(G){var I=this.ctxtBuilder;if(I){var H=I.itemWidgets,F;for(F=H.length-1;F>-1;F--){var E=H[F];if(E&&E.hasRendered){E.unrender(true);}}}this._super(G);},refresh:function A(E){B(this);if(this._super){this._super(E);}},destroy:function D(E){B(this);this._super(E);}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListBase2","mstrmojo.ListMapperHoriz","mstrmojo.ListBuilder");mstrmojo.ListHoriz=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.ListHoriz",renderOnScroll:true,listMapper:mstrmojo.ListMapperHoriz,listBuilder:mstrmojo.ListBuilder,itemField:"n",itemMarkup:null,itemMarkupFunction:null});})();(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.Container","mstrmojo._HasPopup");var D=function(){var F=this.opener;if(F.direction.toLowerCase()==="up"){this.domNode.style.top=-F.domNode.offsetHeight+"px";}};mstrmojo.DropDownButton=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.DropDownButton",height:"19px",text:"",direction:"down",enabled:true,title:"",markupString:'<div id="{@id}" class="mstrmojo-DropDownButton {@cssClass} {@direction}" style="{@cssText}"><div class="mstrmojo-DropDownButton-boxNode {@cssClass}-boxNode" title="{@title}" mstrAttach:mousedown><div class="mstrmojo-DropDownButton-iconNode {@cssClass}-iconNode">{@text}</div></div><div class="mstrmojo-DropDownButton-popupNode {@cssClass}-popupNode"></div></div>',markupSlots:{boxNode:function(){return this.domNode.firstChild;},iconNode:function(){return this.domNode.firstChild.firstChild;},popupNode:function(){return this.domNode.lastChild;}},markupMethods:{onheightChange:function(){this.boxNode.style.height=this.height||"";},ontextChange:function(){this.iconNode.innerHTML=this.text;},ontitleChange:function(){this.boxNode.title=this.title;},onenabledChange:function(){mstrmojo.css[this.enabled?"removeClass":"addClass"](this.domNode,["disabled"]);},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},preBuildRendering:function B(){if(this._super){this._super();}var F=this.popupRef;if(F){if(F.nudge){F.nudge=mstrmojo.func.composite([F.nudge,D]);}else{if(this.direction.toLowerCase()!=="down"){F.nudge=D;}}}},popupRef:null,popupOpenConfig:null,destroy:function C(F){var G=this.popupRef;if(G&&G.hasRendered){G.destroy(false);}if(this._super){this._super(F);}},togglePopup:function E(){var F=this._lastOpened;if(F&&F.visible){this.closePopup();}else{this.openPopup("popupRef",this.popupOpenConfig);}},premousedown:function A(F){this.togglePopup();}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.css");var F="",B="row-",E=mstrmojo.css.DISPLAY_TABLE;mstrmojo.Table=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Table",cellCssClass:"",rows:-1,cols:-1,_trows:-1,cellPadding:0,cellSpacing:0,layout:null,markupString:'<table id="{@id}" class="mstrmojo-Table {@cssClass}" style="{@cssText}" cellpadding="{@cellPadding}" cellspacing="{@cellSpacing}">{@tableHtml}</table>',markupSlots:{containerNode:function(){return this.domNode;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?E:"none";}},preBuildRendering:function G(){var I=[],P=this.cellCssClass;if(this.layout){var Q=this._trows=this.layout.length;for(var K=0;K<Q;K++){var H=this.layout[K],R=H.cells,O=R.length,L=[];for(var J=0;J<O;J++){var N=R[J],M="";M+=((N.cssClass||P)?' class="'+(N.cssClass||P)+'"':"");M+=(N.cssText?' style="'+N.cssText+'"':"");M+=(N.rowSpan?' rowspan="'+N.rowSpan+'"':"");M+=(N.colSpan?' colspan="'+N.colSpan+'"':"");L[J]="<td"+M+"></td>";}var S="";S+=(H.cssClass?' class="'+H.cssClass+'"':"");S+=(H.cssText?' style="'+H.cssText+'"':"");I[K]="<tr"+S+">"+L.join("")+"</tr>";}}else{this._trows=this.rows;var M=(P?' class="'+P+'"':""),L=[];for(var K=0;K<this.rows;K++){for(var J=0;J<this.cols;J++){L[J]="<td"+M+"></td>";}I[K]="<tr>"+L.join("")+"</tr>";}}this.tableHtml=I.join("");if(this._super){this._super();}},postBuildRendering:function C(){if(this._trows){var M={},I=this.containerNode.rows,N=I.length;for(var L=0;L<N;L++){var K=I[L].cells,H=K.length;M[B+L]=I[L];for(var J=0;J<H;J++){M[F+L+","+J]=K[J];}}this.addSlots(M);}this._super();},childRenderCheck:function D(I){if(I&&!I.hasRendered){var H=I.slot||this.defaultChildSlot;return !!this[H]||H.match(/^([\d]+),([\d]+)$/);}return false;},on_child_change_rendering:function A(L){var H=(L&&L.src)||L,O=H&&H.domNode;if(O){var U=H.slot;if(!this[U]){var M=U&&U.match(/^([\d]+),([\d]+)$/);if(M){var R=parseInt(M[1],10),V=parseInt(M[2],10),Q=this.containerNode,T=this[(B+R)],N=[];if(!T){var J=Q.rows,S=J&&J.length||0;for(var K=S;K<=R;K++){N[B+K]=Q.insertRow();}T=N[B+R];}var P=T.cells&&T.cells.length||0;for(var K=P;K<=V;K++){var I=T.insertCell(K);N[F+R+","+K]=I;if(this.cellCssClass){I.className=this.cellCssClass;}}this.addSlots(N);}}}this._super(L);}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.css");var B=mstrmojo.css;mstrmojo.Panel=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Panel",state:1,showTitlebar:false,markupString:'<div id="{@id}" class="mstrmojo-Panel {@cssClass}" style="position: relative;{@cssText}"><div class="mstrmojo-Panel-titlebar {@cssClass}"><img class="mstrmojo-Panel-state" src="../images/1ptrans.gif" align="absmiddle" onclick="var w = mstrmojo.all[\'{@id}\']; w.set(\'state\', w.state === 0 ? 1 : 0)" /><span class="mstrmojo-Panel-text" style="{@ttlTxtCssText}"></span><input type="button" class="mstrmojo-Panel-del" value="{@delText}" onclick="mstrmojo.all[\'{@id}\'].del()"/><div class="mstrmojo-clearMe"></div></div><div class="mstrmojo-Panel-container"></div></div>',markupSlots:{stateNode:function(){return this.domNode.firstChild.firstChild;},titlebarNode:function(){return this.domNode.firstChild;},titleNode:function(){return this.domNode.firstChild.childNodes[1];},containerNode:function(){return this.domNode.lastChild;}},markupMethods:{ontitleChange:function(){var C=this.titleNode;if(C){var D=this.title;C.innerHTML=(D!==null)?D:"";}},onstateChange:function(){var C=(this.state===0);for(var D in {stateNode:1,titleNode:1,containerNode:1}){if(this[D]){B.toggleClass(this[D],["closed"],C);}}},onshowTitlebarChange:function(){B.toggleClass(this.titlebarNode,["closed"],(this.showTitlebar===false));}},del:function A(){var C=this.parent;if(C&&C.remove){C.remove(this.item);}if(this.customDel){this.customDel();}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container");mstrmojo.FieldSet=mstrmojo.declare(mstrmojo.Container,null,{legend:null,scriptClass:"mstrmojo.FieldSet",markupString:'<fieldset id="{@id}" class="mstrmojo-FieldSet {@cssClass}" style="{@cssText}"><legend class="{@cssClass}-legend">{@legend}</legend></fieldset>',markupSlots:{legendNode:function(){return this.domNode.firstChild;},containerNode:function(){return this.domNode;}},markupMethods:{onlegendChange:function(){this.legendNode.innerHTML=mstrmojo.string.encodeHtmlString((this.legend!=null)?this.legend:"");},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container");mstrmojo.TabStripBase=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.TabStripBase",target:null,targetProps:null,isStrip:true,ontargetChange:function A(I){var J=I&&I.valueWas;if(J){var G=this._targetSubs;if(G){J.detachEventListener(G.add);J.detachEventListener(G.rem);J.detachEventListener(G.sel);}this.removeChildren();}var K=this.target;if(K){var E=this.targetProps,D=(E&&E.children)||"children",B=K[D];this.addTabButtons(B,0);var H="attachEventListener",C=this.id,F;if(K[H]){this._targetSubs={add:K[H]("addChild",C,function(L){var M=L&&L.value;if(M&&M.length){this.addTabButtons(M,L.index);}}),rem:K[H]("removeChild",C,function(M){var L=M&&M.value;for(F=((L&&L.length)||0)-1;F>-1;F--){this.removeTabButton(L[F]);}}),sel:K[H]("selectedChange",C,function(L){this.selectionChange(L);})};}}},addTabButtons:mstrmojo.emptyFn,removeTabButton:mstrmojo.emptyFn,selectionChange:mstrmojo.emptyFn});}());(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.Container","mstrmojo._CanRenderChildrenOnShow");var A=mstrmojo.array;mstrmojo.StackContainer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._CanRenderChildrenOnShow],{scriptClass:"mstrmojo.StackContainer",isStack:true,markupString:'<div id="{@id}" class="mstrmojo-StackContainer {@cssClass}" style="{@cssText}"></div>',markupMethods:{onwidthChange:function(){if(!isNaN(parseInt(this.width))){this.domNode.style.width=this.width;}},onheightChange:function(){if(!isNaN(parseInt(this.height))){this.domNode.style.height=this.height;}},onborderChange:function(){this.domNode.style.border=this.border||"";},onbackgroundChange:function(){this.domNode.style.background=this.background||"";}},markupSlots:{containerNode:function(){return this.domNode;}},_set_selected:function D(H,F){var G=this.selected;if(G===F){return false;}if(G){G.set("visible",false);}this.selected=F;if(F){F.set("visible",true);}return true;},addChildren:function B(J,G,H){var K=this.selected,L;for(var I=0,F=(J&&J.length)||0;I<F;I++){L=J[I];if(L&&L.set){L.set("visible",L===K);}}return this._super(J,G,H);},removeChildren:function C(H,F){var G=this._super(H,F);if(!H||(H===this.selected)){this.set("selected",null);}return G;},destroy:function E(F){this._super(F);this.selected=null;},renderMode:"onshow"});})();(function(){mstrmojo.requiresCls("mstrmojo.ListMapperTile");})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasLayout","mstrmojo.StackContainer");mstrmojo.TabContainer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.TabContainer",markupString:'<div id="{@id}" class="mstrmojo-tabcontainer {@cssClass}"><div class="mstrmojo-tabcontainer-tabs"></div><div class="mstrmojo-tabcontainer-stack"></div><div></div></div>',markupMethods:{onborderChange:function(){if(this.border){this.domNode.style.border=this.border;}},onbackgroundChange:function(){this.domNode.style.background=this.background||"";}},markupSlots:{top:function(){return this.domNode.childNodes[0];},stack:function(){return this.domNode.childNodes[1];},containerNode:function(){return this.domNode.childNodes[1];},bottom:function(){return this.domNode.childNodes[2];}},addChildren:function A(D,K,H){var G=this._super(D,K,H);var B=this.children,F=B.length;if(F>=2){var L,I,E;for(E=0;E<F;E++){var C=B[E],J=C&&C.slot;if(!L&&C.isStrip){L=C;}else{if(!I&&(!J||J==="stack")){I=C;}}if(L&&I){L.set("target",I);break;}}}return G;}});}());(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.Container","mstrmojo._BindTargetChildren","mstrmojo.TabButton","mstrmojo.TabStripBase");var E=mstrmojo.array;function D(G,F){if(G.autoHide){G.set("visible",F);}}mstrmojo.TabStrip=mstrmojo.declare(mstrmojo.TabStripBase,[mstrmojo._BindTargetChildren],{scriptClass:"mstrmojo.TabStrip",markupString:'<div id="{@id}" class="mstrmojo-TabStrip {@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},autoHide:true,tabButtonClass:"TabButton",init:function C(F){if(F&&F.autoHide){F.visible=false;}this._super(F);},addTabButtons:function B(G,N){var J=this.targetProps||{},S=J.childTitle||"n",O=J.childColor||"tbc",R=this.tabButtonClass,K=[],Q=this.target,F=function(T){Q.set("selected",this.target);};mstrmojo.requiresCls("mstrmojo."+R);for(var L=0,M=(G&&G.length)||0;L<M;L++){var P=G[L],I=P[S];if(I){var H=mstrmojo.insert({scriptClass:"mstrmojo."+R,title:I,backgroundColor:P[O],target:P,onclick:F});K.push(H);}}if(K.length){D(this,K.length);this.addChildren(K,N);}this.selectionChange();},removeTabButton:function A(G){var F=mstrmojo.array.filter(this.children,function(H){return(H.target===G);},{max:1});if(F&&F[0]){D(this,F.length-1);this.removeChildren(F[0]);F[0].destroy();}},clearButtons:function(){this.removeChildren();}});})();(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.ListBase","mstrmojo._IsList");var F=",";mstrmojo.TableLayoutList=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList],{scriptClass:"mstrmojo.TableLayoutList",cssClass:"mstrmojo-TableLayoutList",styleCssClass:"",itemIdField:"v",allowUnlistedValues:false,tableLayoutCssStyle:"auto",multiSelect:false,titleItems:null,items:null,itemsPerRow:0,getLeftEndTitle:function E(G){return"";},getRightEndTitle:function D(G){return"";},getTitleRowMarkup:function A(){var K=this.titleItems;if(K){var H='<tr><td class="left_text">'+this.getLeftEndTitle(-1)+"</td>",G=K.length,J=0,I;for(;J<G;J++){I=K[J];H+='<td class="item_title" title="'+I+'">'+I+"</td>";}H+='<td class="left_text">'+this.getRightEndTitle(-1)+"</td></tr>";return H;}return"";},_markupPrefix:function(){return'<table class="tableLayoutList" style="table-layout:'+this.tableLayoutCssStyle+'" cellspacing="0" cellpadding="0"><tbody>'+this.getTitleRowMarkup();},_markupSuffix:function(){return"</tbody></table>";},getItemMarkup:function(K,H){var J='<{@tag} class="item {@cls}" idx="{@idx}" title="{@n}" style="{@style}">{@n}</{@tag}>',G=this.getLeftEndTitle(H),I=this.getRightEndTitle(H),L=this.itemsPerRow;G='<td class="left_text" title="'+G+'">'+G+"</id>",I='<td class="right_text" title="'+I+'">'+I+"</id>",L=this.itemsPerRow;if(L>0){J=(H%L===0?"<tr>"+G:"")+"<td>"+J+"</td>"+((H+1)%L===0?I+"</tr>":"");}else{J='<td><div class="item_wrapper" idx="'+H+'">'+J+"</div></td>";if(!H){J="<tr>"+G+J;}else{if(H===this.items.length-1){J=J+I+"</tr>";}}}return J;},_getItemNode:function(G){var H=this.itemsNode,J=this.itemsPerRow,I=(this.titleItems?1:0)+((J>0)?parseInt(G/J,10):0),K=1+((J>0)?(G%J):G);return H.rows[I].cells[K].firstChild;},init:function(G){this._super(G);mstrmojo.css.addWidgetCssClass(this,this.styleCssClass);},onchange:function B(){var I,H=[];if(!this.multiSelect){I=this.selectedItem.v;}else{for(var G in this.selectedIndices){H.push(this.items[G].v);}I=H.join(this.delim||F);}this.set("value",I);},postBuildRendering:function C(){this._super();var G=[];if(this.multiSelect){var I=this.value.split(F);for(var H=0;H<I.length;H++){G.push({v:I[H]});}}else{G.push({v:this.value});}this.setSelectedItems(G);}});}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.registry","mstrmojo.tooltip");var T=mstrmojo.dom;var K=mstrmojo.all;mstrmojo._HasDnD={postBuildRendering:function V(){if(this._super){this._super();}var Y=this.id;this.dnd=new mstrmojo._DnDComponent({target:this});this.__mouseDownEvt=function(Z){K[Y].dnd.onmousedown(Z);return true;};T.attachEvent(this.dndNode,"mousedown",this.__mouseDownEvt);},unrender:function U(){if(this.__mouseDownEvt&&this.dndNode){T.detachEvent(this.dndNode,"mousedown",this.__mouseDownEvt);}this.min=0;this.max=(this.items&&this.items.length-1)||0;this.dnd&&this.dnd.clearListeners();this._super();}};mstrmojo._DnDComponent=mstrmojo.declare(null,null,{scriptClass:"mstrmojo._DnDComponent",isDragging:null,initD:null,startE:null,afterDragStart:null,duringDrag:null,afterDragEnd:null,target:null,mousemoveBuffer:1,_mousemoveCounter:0,init:function J(Y){mstrmojo.hash.copy(Y,this);},onmousedown:function X(Y){if(Y&&Y.preventDefault){Y.preventDefault();}if(this.dragging){return true;}var Z=this.target.id;if(!this._mousemoveCallback){this._mousemoveCallback=function(a){K[Z].dnd.onmousemove(a);return true;};}this._mousemoveCounter=0;this.startE=mstrmojo.hash.copy(Y);T.attachEvent(document.body,"mousemove",this._mousemoveCallback);if(!this._cancelCallback){this._cancelCallback=function(a){K[Z].dnd.ondragcancel(a);return true;};}T.attachEvent(document.body,"mouseup",this._cancelCallback);},ondragcancel:function H(Y){T.detachEvent(document.body,"mousemove",this._mousemoveCallback);T.detachEvent(document.body,"mouseup",this._cancelCallback);if(this.afterDragCancel){this.afterDragCancel.apply(this.target,[Y]);}},onmousemove:function D(Y){if(this.dragging){return ;}this._mousemoveCounter++;if(this._mousemoveCounter>this.mousemoveBuffer){T.detachEvent(document.body,"mousemove",this._mousemoveCallback);T.detachEvent(document.body,"mouseup",this._cancelCallback);this.initDrag(Y);}},initDrag:function S(Y){this.dragging=true;var Z=this.target.id;if(!this._dragCallback){this._dragCallback=function(a){K[Z].dnd.ondrag(a);return true;};}T.attachEvent(document.body,"mousemove",this._dragCallback);if(!this._dragEndCallback){this._dragEndCallback=function(a){K[Z].dnd.ondragend(a);return true;};}T.attachEvent(document.body,"mouseup",this._dragEndCallback);if(this.afterDragStart){this.afterDragStart.apply(this.target,[Y]);}this._dragCallback(Y);},ondrag:function F(Y){if(this.duringDrag){this.duringDrag.apply(this.target,[Y]);}},ondragend:function E(Y){this.dragging=false;T.detachEvent(document.body,"mousemove",this._dragCallback);T.detachEvent(document.body,"mouseup",this._dragEndCallback);if(this.afterDragEnd){this.afterDragEnd.apply(this.target,[Y]);}},clearListeners:function I(){if(this._mousemoveCallback){T.detachEvent(document.body,"mousemove",this._mousemoveCallback);delete this._mousemoveCallback;}if(this._cancelCallback){T.detachEvent(document.body,"mouseup",this._cancelCallback);delete this._cancelCallback;}if(this._dragCallback){T.detachEvent(document.body,"mousemove",this._dragCallback);delete this._dragCallback;}if(this._dragEndCallback){T.detachEvent(document.body,"mouseup",this._dragEndCallback);delete this._dragEndCallback;}}});mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo._HasDnD","mstrmojo._ListSelections");function B(Y){this.getUnit=function Z(){return Y._effLen/(Y.items.length-1)||1;};this.calcMinMax=function(b,a){var c=Math.round((b/Y.unit+a/Y.unit)/2);return{min:c,max:c};};this.preUpdateThumb=function(){Y.start=Math.min(Y.min*Y.unit,Y._effLen)+"px";Y.sdCssText+=Y.orCfg.posCssP+":"+Y.start+";";};this.updateThumb=function(){Y.containerNode.style[Y.orCfg.posCssP]=Y.start=Math.min(Y.min*Y.unit,Y._effLen)+"px";};}function P(Y){this.getUnit=function(){return Y._effLen/Y.items.length;};this.calcMinMax=function(a,Z){return{min:Math.floor(a/Y.unit+0.5),max:Math.floor(Z/Y.unit-0.5)};};this.preUpdateThumb=function(){Y.start=(Y.min*Y.unit)+"px";Y.length=Math.max(Math.round((Y.max-Y.min+1)*Y.unit-Y.gap),0)+"px";Y.sdCssText+=Y.orCfg.posCssP+":"+Y.start+";"+Y.orCfg.lenCssP+":"+Y.length+";";};this.updateThumb=function(){Y.start=Y.min*Y.unit+"px";Y.containerNode.style[Y.orCfg.posCssP]=(Y.min*Y.unit)+"px";Y.length=Math.max(Math.round((Y.max-Y.min+1)*Y.unit-Y.gap),1)+"px";Y.containerNode.style[Y.orCfg.lenCssP]=Y.length;};}var L="<span>{@content}</span>";mstrmojo.Slider=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasDnD,mstrmojo._ListSelections],{scriptClass:"mstrmojo.Slider",markupString:'<div class="mstrmojo-Slider {@cssClass} {@clsType} {@clsOrientation}" style="{@cssText}" ><div class="cont"><div class="bk" style="{@bkCssText}"></div><div class="sdc" style="position:absolute;{@sdcCssText}"><div class="sd" style="{@sdCssText}"><div class="t1"></div><div class="t2"></div><div class="t3"></div></div></div></div></div>',sdCssText:"",cssClass:"sc",clsType:"sc2",clsOrientation:"sc-v",orCfg:null,typeHelper:null,_tooltip_pos:0,useRichTooltip:true,init:function R(Y){this._super(Y);if(Y.isHoriz){this.orCfg={posCssP:"left",marginCssP:"marginLeft",lenCssP:"width",lenP:"clientWidth",opPosCssP:"top",thickP:"clientHeight",offsetP:"x"};this.clsOrientation=" sc-h";this._tooltip_pos=mstrmojo.tooltip.POS_BOTTOMLEFT;}else{this.orCfg={posCssP:"top",marginCssP:"marginTop",lenCssP:"height",lenP:"clientHeight",opPosCssP:"left",thickP:"clientWidth",offsetP:"y"};this._tooltip_pos=mstrmojo.tooltip.POS_TOPRIGHT;}this._exRoom=this.thumbWidth;if(this.multiSelect){this._exRoom*=2;}if(Y.multiSelect){this.typeHelper=new P(this);}else{this.clsType="sc1";this.typeHelper=new B(this);}},markupSlots:{dndNode:function(){return this.domNode.childNodes[0];},bgNode:function(){return this.domNode.childNodes[0].childNodes[0];},sdcNode:function(){return this.domNode.childNodes[0].childNodes[1];},containerNode:function(){return this.domNode.childNodes[0].childNodes[1].childNodes[0];},frontNode:function(){return this.domNode.childNodes[0].childNodes[1].childNodes[0].childNodes[0];},thumbNode:function(){return this.domNode.childNodes[0].childNodes[1].childNodes[0].childNodes[1];},endNode:function(){return this.domNode.childNodes[0].childNodes[1].childNodes[0].childNodes[2];},tooltipNode:function(){return this.domNode.childNodes[0].childNodes[1];}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},start:"50px",length:"30px",min:0,max:0,gap:1,ghost:null,thumbWidth:11,cssBkBW:1,preBuildRendering:function A(){var c=this.orCfg.lenCssP,a=this[c],Z=parseInt(a);this._effLen=isNaN(Z)?0:(Z-this._exRoom);if(a){this.bkCssText=c+":"+Math.max(parseInt(a,10)-(2*this.cssBkBW),0)+"px;";this.sdcCssText=c+":"+this._effLen+";"+this.orCfg.posCssP+":"+this._exRoom/2+"px;"+this.orCfg.opPosCssP+":0px;";}var Y=this.selectedIndices;if(!mstrmojo.hash.isEmpty(Y)){this.min=this.items.length-1;this.max=0;for(var b in Y){if(Y[b]){this.min=Math.min(this.min,b);this.max=Math.max(this.max,b);}}}this.unit=this.typeHelper.getUnit();this.typeHelper.preUpdateThumb();},postBuildRendering:function V(){if(this._super){this._super();}if(this.items.length>1&&this.dnd){this.dnd.afterDragStart=this.initDrag;this.dnd.duringDrag=this.ondrag;this.dnd.afterDragEnd=this.ondrop;this.dnd.afterDragCancel=this.cancelDrag;}},_initGhost:function O(){if(!this.ghost){var b=this.containerNode.cloneNode(true);mstrmojo.css.addClass(b,["gh"]);this.ghost={containerNode:b,frontNode:b.childNodes[0],thumbNode:b.childNodes[1],endNode:b.childNodes[2]};this.sdcNode.appendChild(b);}var Z=this.ghost.containerNode.style,a=this.containerNode.style,Y=this.orCfg;Z[Y.posCssP]=a[Y.posCssP];Z[Y.lenCssP]=a[Y.lenCssP];Z.display="block";return this.ghost;},initDrag:function S(b,Y){Y=Y||window;var a=this._initGhost(),Z=this.orCfg;this.dnd.initD={tP:parseInt(this.start,10),sL:this._effLen,contL:a.containerNode[Z.lenP],offset:T.getMousePosition(this.dnd.startE,Y)[Z.offsetP]};this.dnd.initD.td=T.eventTarget(Y,this.dnd.startE);},ondrag:function F(h,d){d=d||window;var i=this.dnd.initD,f=this.ghost,k=f.containerNode,m,a,Z,c=this.min,j=this.max,Y=this.orCfg;var l=T.getMousePosition(h,d)[Y.offsetP]-i.offset;switch(i.td){case this.thumbNode:m=Math.max(Math.min(i.tP+l,i.sL-i.contL),0);a=m+i.contL;k.style[Y.posCssP]=m+"px";var b=this.typeHelper.calcMinMax(m,a);c=b.min;j=b.max;break;case this.frontNode:m=Math.max(Math.min(i.tP+l,i.tP+i.contL),0);Z=Math.max(Math.min(i.contL-l,i.tP+i.contL),0);k.style[Y.posCssP]=m+"px";k.style[Y.lenCssP]=Z+"px";c=Math.min(Math.floor(m/this.unit+0.5),this.max);break;case this.endNode:Z=Math.max(Math.min(i.contL+l,i.sL-i.tP),0);a=i.tP+Z;k.style[Y.lenCssP]=Z+"px";j=Math.max(Math.floor(a/this.unit-0.5),this.min);break;default:return ;}if(c!==this.min||j!==this.max){this.min=c;this.max=j;this.typeHelper.updateThumb();}this._updateTooltip();},ondrop:function W(a){this.typeHelper.updateThumb();if(this.ghost){this.ghost.containerNode.style.display="none";}this.hideTooltip();if(this.items&&this.items.length){var Z=[];for(var Y=this.min;Y<=this.max;Y++){Z.push(Y);}this.select(Z);}this.dnd.initD=null;},cancelDrag:function Q(Z,Y){if(this.makeSelection){Y=Y||window;var a=T.eventTarget(Y,this.dnd.startE);this.makeSelection({selItem:a});}},showTooltip:function C(Z,Y){this._updateTooltip();this._super(Z,Y);},hideTooltip:function G(Z,Y){if(this.dnd&&this.dnd.dragging){return ;}this._super(Z,Y);},_updateTooltip:function N(){var Z=this.orCfg,b={contentNodeCssClass:"sc-tooltip",refNode:this.domNode,posType:this._tooltip_pos},c=(this.ghost)?this.ghost.containerNode:this.containerNode;b[Z.opPosCssP]=0;b[Z.posCssP]=c.style[Z.posCssP];if(this.items&&this.items.length){var a=this.getItemTooltip(this.items[this.min]);var Y;if(this.min===this.max){Y=a;}else{Y=mstrmojo.desc(146,"From:")+" '"+a+"' "+mstrmojo.desc(147,"To:")+" '"+this.getItemTooltip(this.items[this.max])+"'";}b.content=L.replace(/\{@content\}/g,Y);}else{b.content="";}this.set("richTooltip",b);},getItemTooltip:function(Y){return"'"+(Y?Y.n:"")+"'";},unrender:function U(Y){this.ghost=null;this.dnd&&(this.dnd.dragging=false);this.hideTooltip();this._super(Y);},onselectionChange:function M(Y){if(this.onchange){this.onchange();}if(this.makeSelection&&this.dnd&&this.dnd.initD){this.makeSelection({selItem:this.dnd.initD.td});}}});mstrmojo.Slider.SINGLE_HANDLE_WIDTH=11;mstrmojo.Slider.SCROLLHANDLEWIDTH=11;})();(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.css","mstrmojo.TextBox");mstrmojo.TextBoxWithLabel=mstrmojo.declare(mstrmojo.TextBox,null,{scriptClass:"mstrmojo.TextBoxWithLabel",label:"",rightLabel:"",cssDisplay:"inline",type:"text",markupString:'<div class="mstrmojo-TextBoxWithLabel {@cssClass}" style="{@cssText}"><span class="mstrmojo-TextBox-label">{@label}</span><input id="{@id}" class="mstrmojo-TextBox {@inputNodeCssClass}"  style="{@inputNodeCssText}" title="{@tooltip}" type="{@type}" value="{@value}" size="{@size}" maxlength="{@maxLength}" index="{@tabIndex}" mstrAttach:focus,keyup,blur /><span class="mstrmojo-TextBox-label-right">{@rightLabel}</span></div>',markupSlots:{inputNode:function(){return this.domNode.firstChild.nextSibling;}},preBuildRendering:function(){this.markupMethods=mstrmojo.hash.copy({onvisibleChange:function(){this.domNode.style.display=this.visible?this.cssDisplay:"none";},oncssClassChange:function(){this.domNode.className="mstrmojo-TextBoxWithLabel "+(this.cssClass||"");}},mstrmojo.hash.copy(this.markupMethods));}});})();(function(){mstrmojo.requiresCls("mstrmojo.TextBox","mstrmojo._CanValidate");var A=mstrmojo.css,D=mstrmojo.validation,H=D.TRIGGER,G=D.STATUSCODE,E=mstrmojo.TextBox.prototype.markupMethods;mstrmojo.ValidationTextBox=mstrmojo.declare(mstrmojo.TextBox,[mstrmojo._CanValidate],{scriptClass:"mstrmojo.ValidationTextBox",validationDelay:500,markupMethods:{onvisibleChange:E.onvisibleChange,onvalueChange:E.onvalueChange,onenabledChange:E.onenabledChange,onreadOnlyChange:E.onreadOnlyChange,ontooltipChange:E.ontooltipChange,onvalidationStatusChange:function(){var M=this.validationStatus;if(!M){return ;}var L=this.inputNode,J=(M.code>G.VALID),K=this.constraints.invalidCssClass;A.toggleClass(L,K?K:["mstrmojo-TextBox-ErrValidation"],J);if(J){L.setAttribute("title",M.msg);}else{if(this._original_tooltip!==undefined&&this._original_tooltip!==null){L.setAttribute("title",this._original_tooltip);}}}},postBuildRendering:function I(){if(this._super){this._super();}this._original_tooltip=this.inputNode.title;},prekeyup:function B(J){if(this._super){this._super(J);}var L=(this.constraints.trigger&H.ONKEYUP)>0;if(L){if(this.validationDelay>0){if(this._valDelayTimer){window.clearTimeout(this._valDelayTimer);}if(!this._validateHandler){var K=this;this._validateHandler=function(){K.validate();if(K._valDelayTimer){window.clearTimeout(K._valDelayTimer);delete K._valDelayTimer;}};}this._valDelayTimer=window.setTimeout(this._validateHandler,this.validationDelay);}else{this.validate();}}},preinput:function(J){if(this._super){this._super(J);}var K=(this.constraints.trigger&H.ONKEYUP)>0;if(K){this.validate();}},preblur:function F(J){if(this._super){this._super(J);}var K=(this.constraints.trigger&H.ONBLUR)>0;if(K){this.validate();}},clearValidation:function C(){if(this._super){this._super();}var K=this.inputNode,J=this.constraints.invalidCssClass;A.removeClass(K,J?J:["mstrmojo-TextBox-ErrValidation"]);K.title=this._original_tooltip;}});})();(function(){mstrmojo.requiresCls("mstrmojo.TextBox");mstrmojo.TextArea=mstrmojo.declare(mstrmojo.TextBox,null,{scriptClass:"mstrmojo.TextArea",markupString:'<textarea id="{@id}" class="mstrmojo-TextArea {@cssClass}"  style="{@cssText}" title="{@tooltip}" placeholder="{@placeholderText}" rows="{@rows}" cols="{@cols}" maxlength="{@maxLength}" index="{@tabIndex}" mstrAttach:focus,keydown,keyup,blur ></textarea>',maxLength:256,markupSlots:{inputNode:function(){return this.domNode;}},postCreate:function(){this.markupMethods=mstrmojo.hash.copy(this.markupMethods);this.markupMethods.oncssClassChange=function(){this.domNode.className="mstrmojo-TextArea "+(this.cssClass||"");};},onkeydown:function(D){var C=(this.value&&this.value.length)||0;if(this.maxLength<=C){this.isDeleteKeys=D.e.keyCode===8||D.e.keyCode===46;this.isArrowKeys=D.e.keyCode===37||D.e.keyCode===38||D.e.keyCode===39||D.e.keyCode===40;var B=(this.domNode.selectionEnd!==undefined)?(this.domNode.selectionEnd-this.domNode.selectionStart)>0:document.selection.createRange().text.length>0;if(!this.isDeleteKeys&&!this.isArrowKeys&&!B){if(mstrmojo.dom.isIE7||mstrmojo.dom.isIE8){var A=this.domNode;A.blur();window.setTimeout(function(){A.focus();},1);}mstrmojo.dom.preventDefault(window,D.e);return false;}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.Button","mstrmojo.DropDownButton","mstrmojo.Label");mstrmojo.IncFetch=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.IncFetch",markupString:'<div id="{@id}" class="mstrmojo-IncFetch {@cssClass}" style="{@cssText}"><div></div><div class="mstrmojo-clearMe"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild;}},preBuildRendering:function A(){var J=[],F=this.ds,M=this.cp,P=this.np,C=this.ps,E=this.id,G=2;var L=function(){mstrmojo.all[E].set("cp",this.text);};var H={f:1,p:Math.max(M-1,1),n:Math.min(M+1,P),l:P};for(var O in H){J.push(new mstrmojo.Button({iconClass:"arrow "+O,title:F[O],enabled:(H[O]!==M),text:H[O],onclick:L}));}var D=Math.max(Math.min(M-2,P-4),1),I=Math.min(D+4,P);for(var K=D;K<=I;K++){var N;if(K===M){if(I-D===4&&P!==5){N=new mstrmojo.DropDownButton({height:"13px",title:F.a?F.a:"",text:K,direction:"up",popupRef:{scriptClass:"mstrmojo.Popup",slot:"popupNode",contentNodeCssClass:"goto",autoCloses:false,locksHover:true,children:[{scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.Label",cssText:"float:left;",text:F.gt},{scriptClass:"mstrmojo.TextBox",cssText:"float:left;",size:3,maxLength:String(P).length,onEnter:function(){var R=this.inputNode.value,T=this.parent.parent;if(R===""){T.close();return ;}var Q=parseInt(R,10),S=!(isNaN(Q)||Q<1||Q>P);if(S){mstrmojo.all[E].set("cp",Q);T.close();}else{this.setInvalidState(F.v.replace("###",P).replace("##",1).replace(" #",""));}}},{scriptClass:"mstrmojo.Button",cssText:"float:left",iconClass:"apply",title:F.ap?F.ap:"",onclick:function(){this.parent.children[1].onEnter();}}]}],onOpen:function(){mstrmojo.css.addClass(this.parent.domNode,["open"]);var Q=this.children[0].children[1].inputNode;window.setTimeout(function(){Q.focus();},0);},onClose:function(){mstrmojo.css.removeClass(this.parent.domNode,["open"]);this.children[0].children[1].cleanUp();}}});}else{N=new mstrmojo.Button({iconClass:"pg on",text:K});}}else{N=new mstrmojo.Button({iconClass:"pg",text:K,onclick:L});}J.splice(G++,0,N);}J.splice(G++,0,new mstrmojo.Label({text:F.pgs.replace("###",P).replace("##",""),cssText:"float:left;margin:1px 1px 1px 3px;"}));this._iWait=new mstrmojo.WaitIcon({cssText:"margin-top:-2px;"});J.push(this._iWait);this.addChildren(J);return this._super?this._super():true;},_set_cp:function B(D,C){if(parseInt(C,10)!==this.cp){this.raiseEvent({name:"fetch",v:C,iWait:this._iWait});}}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListHoriz","mstrmojo.fx");mstrmojo.FishEye=mstrmojo.declare(mstrmojo.ListHoriz,null,{scriptClass:"mstrmojo.FishEye",alias:"fishEyeList",width:16,size:10,step:16,speed:2,cssClass:"mstrmojo-FishEye",cssClassItem:"mstrmojo-dot",itemMarkupFunction:function(B,A,C){return'<div class="mstrmojo-fisheye-item '+C.cssClassItem+'" title="'+B.n+'" idx="'+A+'" did="'+B.did+'">&nbsp;</div>';},onchange:function(){this.scroll2();this.parent.set("selectedIndex",this.selectedIndex);},as:new mstrmojo.fx.AnimateProp(),onitemsChange:function(){if(this._super){this._super();}this.last=this.items.length-1;this.first=Math.max(0,this.last-this.size);if(this.items.length>this.size){this.scroll("left",this.width);}},scroll2:function(){var A=this.selectedIndex-this.last;if(this.selectedIndex==this.first&&this.first>0){this.scroll("right",this.width);}else{if(this.selectedIndex==this.last&&this.last<this.items.length-1){this.scroll("left",this.width);}else{if(this.selectedIndex>this.last){A=this.selectedIndex-this.last;this.scroll("left",this.width*A,A);this.last=Math.min(this.items.length-1,this.last+A);}else{if(this.selectedIndex<this.first){A=this.first-this.selectedIndex;this.scroll("right",this.width*A,A);this.first=Math.max(0,this.first-A);}}}}},scroll:function(C,F,E){var B=this.itemsContainerNode,I=B&&B.style;var D=this.as,H=parseInt(mstrmojo.css.getStyleValue(B,{left:"right",right:"left"}[C]),10),H=isNaN(H)?0:H,A=parseInt(I.left,10)||0,G=A+(C=="left"?-1:1)*(F||(Math.min(this.step,(-1)*H)));D.target=B;D.props={left:{start:A,stop:G,duration:100,interval:10,suffix:"px"}};D.play();E=E===undefined?1:E;this.first+=(C=="left"?1:-1)*E;this.last=this.first+this.size-1;this.parent.set("scrollable",this.last<this.items.length-1);this.parent.set("rightScrollable",this.first>0);return G;},srcId:null,postBuildRendering:function(){if(this._super){this._super();}this.hasRendered=!!this.domNode;var E=this.itemsContainerNode,A=E&&E.firstChild,B=A&&A.rows&&A.rows[0],D=B&&B.cells&&B.cells[0];this.first=0;this.last=this.size-1;var C=this.srcId;if(C&&mstrmojo.all[C]&&mstrmojo.all[C].attachEventListener){mstrmojo.all[C].attachEventListener("change",this.id,function(F){if(this.items[this.items.length-1]!=F.src.selectedItem){this.items.add([mstrmojo.hash.copy(F.src.selectedItem)]);this.set("selectedIndex",this.items.length-1);}if(this.items.length>this.size){this.set("rightScrollable",this.items.length>this.size);this.scroll("left",this.width*(this.selectedIndex-this.last),(this.selectedIndex-this.last));}});}this.itemsContainerNode.style.left=Math.min(0,(this.size-this.items.length+1))*this.width+"px";}});})();(function(){mstrmojo.requiresCls("mstrmojo.WidgetListBase","mstrmojo.WidgetListMapper","mstrmojo.WidgetListBuilder");mstrmojo.WidgetList=mstrmojo.declare(mstrmojo.WidgetListBase,null,{scriptClass:"mstrmojo.WidgetList",renderOnScroll:true,listMapper:mstrmojo.WidgetListMapper,listBuilder:mstrmojo.WidgetListBuilder,itemConfig:null,itemFunction:null,initBindings:function(){this._super();var E=this.ctxtBuilder,D=E&&E.itemWidgets;if(D){for(var C=0,A=D.length;C<A;C++){var B=D[C];if(B&&B.initBindings){B.initBindings();}}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListSelector","mstrmojo.List","mstrmojo.string");mstrmojo.OBList=mstrmojo.declare(mstrmojo.List,null,{scriptClass:"mstrmojo.OBList",cssClass:"mstrmojo-OBList",itemClass:"mstrmojo-OBListItem",iconClass:"mstrmojo-OBListItemIcon",textClass:"mstrmojo-OBListItemText",iconCssPrefx:"mstrmojo-OBIcon_",itemMarkupFunction:function(C,A,B){return'<div class="'+B.itemClass+'"><table cellspacing="0" cellpadding="0"><tbody><tr><td>'+B.getIcon(C)+'</td><td><div class="'+B.textClass+'" title="'+B.getTooltip(C)+'">'+mstrmojo.string.htmlAngles(C.n)+"</div></td></tr></tbody></table></div>";},getIcon:function(E){var D=E[this.itemType],C=E[this.itemSubType],A=" t"+D,B=(D==1||D==3)?" st"+C:"",F=E[this.itemISC]?'class="mstrmojo-ListIcon isc"':"";return'<span class="mstrmojo-ListIcon '+A+B+'"><span '+F+"></span></span>";},getTooltip:function(C){var D="",F=C.anc&&C.anc.items,A=F&&F.length;if(A>0){for(var B=0;B<A-1;B++){D+=F[B].n+" > ";}D+=F[A-1].n;}var E=C.desc,G=128;if(E){D+="\r\n\r\n"+E.substring(0,G)+(E.length>G?"...":"");}return D;},listSelector:mstrmojo.ListSelector,selectionPolicy:"reselect",itemType:"t",itemSubType:"st",itemISC:"isc"});})();(function(){mstrmojo.requiresCls("mstrmojo.WidgetList","mstrmojo.dom","mstrmojo.TreeNodeSelector");var A=mstrmojo.dom,B={0:"closed",1:"opened",2:"leaf"};mstrmojo.TreeNode=mstrmojo.declare(mstrmojo.WidgetList,null,{scriptClass:"mstrmojo.TreeNode",markupString:'<li id="{@id}" class="mstrmojo-TreeNode {@cssClass}" style="{@cssText}" mstrAttach:mousedown><div class="mstrmojo-TreeNode-div"><img class="mstrmojo-TreeNode-state" src="../images/1ptrans.gif" /><span class="mstrmojo-TreeNode-text {@textCssClass}"></span></div><ul class="mstrmojo-TreeNode-itemsContainer">{@itemsHtml}</ul></li>',markupSlots:{stateNode:function(){return this.domNode.firstChild.firstChild;},textNode:function(){return this.domNode.firstChild.lastChild;},itemsContainerNode:function(){return this.domNode.lastChild;}},markupMethods:{ontextChange:function(){this.textNode.innerHTML=mstrmojo.string.encodeHtmlString(this.text);},onstateChange:function(){this.stateNode.className="mstrmojo-TreeNode-state "+(B[this.state]||"closed");this.itemsContainerNode.style.display=(this.state===1)?"block":"none";},onselectedChange:function(){var D=this.selected?"addClass":"removeClass";mstrmojo.css[D](this.domNode.firstChild,["selected"]);},ondropCuePosChange:mstrmojo.WidgetList.prototype.markupMethods.ondropCuePosChange},renderOnScroll:false,listSelector:mstrmojo.TreeNodeSelector,premousedown:function C(D){var E=this._super(D),F=A.eventTarget(D.hWin,D.e);if(F==this.stateNode){if(this.state!==2){this.set("state",this.state===1?0:1);}}return E;},preclick:function(D){mstrmojo.dom.stopPropogation(D.hWin,D.e);},prechange:function(D){var E=this._super(D);if(E!==false){var F=this.tree;if(F&&F.onnodechange){F.onnodechange(D);}}return E;}});})();(function(){mstrmojo.requiresCls("mstrmojo.List","mstrmojo.ListMapperTile","mstrmojo.WidgetList");mstrmojo._TileList=mstrmojo.provide("mstrmojo._TileList",{layout:{row:3,col:3},_set_layout:function(A,B){mstrmojo.hash.copy(B,this.layout);this.refresh();},preBuildRendering:function(){this.cssClass=this._cssClassPrefix+" "+this.cssClass;if(this._super){this._super();}},postBuildRendering:function(){var A=true;if(this._super){A=this._super();}this.cssClass=this.cssClass.replace(this._cssClassPrefix,"");return A;}});mstrmojo.TileList=mstrmojo.declare(mstrmojo.List,[mstrmojo._TileList],{scriptClass:"mstrmojo.TileList",listMapper:mstrmojo.ListMapperTile,_cssClassPrefix:"mstrmojo-TileList"});mstrmojo.WidgetTileList=mstrmojo.declare(mstrmojo.WidgetList,[mstrmojo._TileList],{scriptClass:"mstrmojo.WidgetTileList",listMapper:mstrmojo.WidgetListMapperTile,_cssClassPrefix:"mstrmojo-WidgetTileList"});})();(function(){mstrmojo.requiresCls("mstrmojo.mobileConfigUtil","mstrmojo.Table","mstrmojo.WidgetList","mstrmojo.ListSelector","mstrmojo.array","mstrmojo.AjaxCall","mstrmojo.ValidationTextBox","mstrmojo.SelectBox","mstrmojo.CheckBox","mstrmojo.FieldSet","mstrmojo.Panel","mstrmojo.Button","mstrmojo.HBox");var H=mstrmojo.mobileConfigUtil,N=mstrmojo.validation.TRIGGER,E=mstrmojo.expr.DTP,P=mstrmojo.dom,M=mstrmojo.hash,G="!this.parent.parent.item.udc&&!(this.parent.parent.item.pc.am===2)&&!(this.parent.parent.item.pc.am===5)&&!(this.parent.parent.item.pc.am===64)",I="!(this.parent.svrItem.pdc.am===2)&&!(this.parent.svrItem.pdc.am===5)&&!(this.parent.svrItem.pdc.am===64)",B="(mstrmojo.all.connect_tab.model.data.dt==5||!mstrmojo.all.connect_tab.model.data.gnl.npc.v)";var C=[{n:mstrmojo.desc(7778),v:H.AUTHEN_ANONY},{n:mstrmojo.desc(7227),v:H.AUTHEN_BASIC},{n:mstrmojo.desc(7779),v:H.AUTHEN_WIN}],F=[{n:mstrmojo.desc(3157),v:H.PRJ_AUTHEN_STD},{n:mstrmojo.desc(7779),v:H.PRJ_AUTHEN_WIN},{n:mstrmojo.desc(7790),v:H.PRJ_AUTHEN_LDAP},{n:mstrmojo.desc(1563),v:H.PRJ_AUTHEN_DB},{n:mstrmojo.desc(8027),v:H.PRJ_AUTHEN_TRUSTED}],L=M.cloneArray(F),D=[{n:mstrmojo.desc(7787),v:H.SRV_ASP},{n:mstrmojo.desc(7788),v:H.SRV_J2EE}],A=[{n:mstrmojo.desc(7785),v:H.REQ_HTTP},{n:mstrmojo.desc(7786),v:H.REQ_HTTPS}];if(mstrConfig.isUsherAuthVisible){L.push({n:mstrmojo.desc(11632),v:H.AUTHEN_USHER});F.push({n:mstrmojo.desc(11632),v:H.AUTHEN_USHER});}mstrmojo.connect_tab=mstrmojo.insert({scriptClass:"mstrmojo.Table",id:"connect_tab",n:mstrmojo.desc(7768),model:null,layout:[{cells:[{}]},{cells:[{}]},{cells:[{}]},{cells:[{}]},{cells:[{}]}],bindings:{isAndroid:"this.model.data.dt==3 || this.model.data.dt==4",isBlackberry:"this.model.data.dt==5"},children:[{slot:"0,0",alias:"npc",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9439),bindings:{visible:"this.parent.model.data.dt!=5",checked:"this.parent.model.data.gnl.npc.v"},onclick:function O(){if(this.parent.model){var Q=mstrmojo.hash.copy(this.parent.model.data,{});Q.gnl.npc.v=this.checked;this.parent.model.set("data",Q);}}},{slot:"1,0",scriptClass:"mstrmojo.FieldSet",legend:mstrmojo.desc(7775),cssClass:"mstrmojo-FieldSet-noborder",cssText:"margin:8px 0px 0px 0px;width:500px",children:[{scriptClass:"mstrmojo.Table",rows:5,cols:2,children:[H.propertyName(mstrmojo.desc(7776),"0,0","width:200px"),{slot:"0,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,items:C,bindings:{selectedItem:"{v:this.parent.parent.parent.model.data.cty.wsdc.am}"},onchange:function(){var Q=this.parent.parent.parent.model.data.cty.wsdc;if(Q){if(!Q.set){M.make(Q,mstrmojo.Obj);}Q.set("am",this.selectedItem.v);}}},H.propertyName(mstrmojo.desc(2763),"1,0","",{visible:"!(this.parent.parent.parent.model.data.cty.wsdc.am===1)"}),{slot:"1,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",bindings:{enabled:B,value:"this.parent.parent.parent.model.data.cty.wsdc.lo",visible:"!(this.parent.parent.parent.model.data.cty.wsdc.am===1)"},onvalueChange:function K(Q){if(this.parent.parent.parent.model){H.setValidValue(this.parent.parent.parent.model.data.cty.wsdc,"lo",this.value);}},onenabledChange:function J(Q){if(!this.enabled&&this.parent.parent.parent.model){H.setValidValue(this.parent.parent.parent.model.data.cty.wsdc,"lo","");}}},H.propertyName(mstrmojo.desc(1162),"2,0","",{visible:"!(this.parent.parent.parent.model.data.cty.wsdc.am===1)"}),{slot:"2,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",tooltip:mstrmojo.desc(7847),type:"password",bindings:{enabled:B,value:"this.parent.parent.parent.model.data.cty.wsdc.ps",visible:"!(this.parent.parent.parent.model.data.cty.wsdc.am===1)"},onvalueChange:function K(){if(this.parent.parent.parent.model){H.setValidValue(this.parent.parent.parent.model.data.cty.wsdc,"ps",this.value);}},onenabledChange:function J(Q){if(!this.enabled&&this.parent.parent.parent.model){H.setValidValue(this.parent.parent.parent.model.data.cty.wsdc,"ps","");}}},{slot:"3,1",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7847),bindings:{visible:"!(this.parent.parent.parent.model.data.cty.wsdc.am===1)"}},{slot:"4,1",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8269),bindings:{checked:"this.parent.parent.parent.model.data.cty.wsdc.ow&&"+B,visible:"!(this.parent.parent.parent.model.data.cty.wsdc.am===1)&&"+B},oncheckedChange:function(){if(this.parent.parent.parent.model){this.parent.parent.parent.model.data.cty.wsdc.ow=this.checked;}}}]}]},{slot:"2,0",scriptClass:"mstrmojo.WidgetList",cssText:"margin:5px 20px 5px 0px;width: 540px",listSelector:mstrmojo.ListSelector,alias:"srvList",makeObservable:true,renderOnScroll:P.isIE?false:true,onadd:function(){this.parent.model.set("validFlag",false);},onremove:function(){this.parent.model.validate();},bindings:{items:"this.parent.model.data.cty.wsl"},itemFunction:function(V,Q,R){var U;M.make(V,mstrmojo.Obj);if(V.pl){for(U=0;U<V.pl.length;U++){var S=V.pl[U];S.pdn=S.sn+S.pid;if(S.rtf){M.make(S.rtf,mstrmojo.Obj);}}}var T=new mstrmojo.Panel({item:V,parent:R,showTitlebar:true,state:1,delText:mstrmojo.desc(7791),ttlTxtCssText:"width:320px",bindings:{title:"(!this.item.nm)?'"+mstrmojo.desc(7904)+"':mstrmojo.string.encodeHtmlString(this.item.nm)"},postCreate:function(){this.getAvailablePrjs();},customDel:function(){delete this.item;this.destroy();},updatePrjList:function(e,c){if(e&&e.length===0){this.set("prjItems",[]);this.toggleNoPrjMsg(true);this.syncPrjList();}else{if(e){var d=[],a,Z,b,f,X;for(a=0,b=e.length;a<b;a++){for(Z=0,f=e[a].projects,X=f.length;Z<X;Z++){var W=f[Z],Y=e[a];d.push({n:W.name,svr:Y,pid:W.id,pdn:(Y.name+W.id),sv:Y.version});}}this.set("prjItems",d);this.toggleNoPrjMsg(false);this.syncPrjList();if(c){this.newProject();}}else{delete this.prjItems;this.toggleNoPrjMsg(true);this.syncPrjList();}}},syncPrjList:function(){if(this.item){var a=this.item.pl,b=this.prjItems,Z,Y,W,X;if(!a||a.length===0){return ;}if(!b||b.length===0){for(Z=0,W=a.length;Z<W;Z++){M.make(a[Z],mstrmojo.Obj);a[Z].set("dead",true);}}else{for(Y=0,X=a.length;Y<X;Y++){M.make(a[Y],mstrmojo.Obj);a[Y].set("dead",(mstrmojo.array.find(b,"pdn",a[Y].pdn)===-1));}}this.children[0].prjList.set("items",this.item.pl);}},toggleNoPrjMsg:function(W){if(this.children&&this.children[0]){this.children[0].getPrj.noPrjMsg.set("visible",W);}},newProject:function(){if(!this.parent.parent.model.defaultPrj){var W=this;this.parent.parent.model.getDefaultConfig(H.DEFAULT_PROJECT,function(Y){W.parent.parent.model.defaultPrj=Y;W.newProject();});}else{if(this.children[0].prjList){var X=M.clone(this.parent.parent.model.defaultPrj);M.make(X,mstrmojo.Obj);X.pid=this.prjItems[0].pid;X.pn=this.prjItems[0].n;X.sn=this.prjItems[0].svr.name;X.pdn=X.sn+X.pid;this.children[0].prjList.add([X],-1);}}},wait:false,getAvailablePrjs:function(X){if(!V.po||!this.item.nm||!this.item.pt){return ;}delete this.prjItems;this.set("wait",true);var W=this;mstrmojo.xhr.request("GET",mstrConfig.taskURL,{success:function(Y){if(Y){W.updatePrjList(Y.servers,X);}else{W.updatePrjList([]);}W.set("wait",false);},failure:function(Y){var Z=Y.getResponseHeader("X-MSTR-TaskFailureMsg");if(Y.status===404){Z=mstrmojo.desc(7992).replace(/##/,W.item.nm);}H.showErrorMsgBox(Z);W.toggleNoPrjMsg(true);W.syncPrjList();W.set("wait",false);},timeout:function(){var Y=mstrmojo.desc(973).replace(/:/,"");H.showErrorMsgBox(Y);W.toggleNoPrjMsg(true);W.syncPrjList();W.set("wait",false);}},{taskId:"getProjects",taskEnv:"xhr",localeID:mstrApp.displayLocaleId,dataFlag:6},null,H.getWebSrvUrl(this.item));},children:[{scriptClass:"mstrmojo.Table",cssText:"margin:5px 0px 0px 0px",layout:[{cells:[{cssText:"vertical-align:top;width:200px"},{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{colSpan:2}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{colSpan:2}]},{cells:[{colSpan:2}]},{cells:[{colSpan:2}]},{cells:[{colSpan:2}]}],children:[H.propertyName(mstrmojo.desc(7780),"0,0","width:200px"),{slot:"0,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"wsNmVTB",cssClass:"mobileconfig-TextBox",required:true,dtp:E.CHAR,constraints:{trigger:N.ALL},validationStatus:{id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""},bindings:{value:"this.parent.parent.item.nm",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0) &&!this.parent.parent.wait"},onValid:function(){H.setValidValue(this.parent.parent.item,"nm",this.value,true);this.parent.parent.parent.parent.model.validate();},onInvalid:function(){if(this.parent.parent.parent.parent.model){this.parent.parent.parent.parent.model.set("validFlag",false);}}},{slot:"0,1",scriptClass:"mstrmojo.CheckBox",cssDisplay:"block",alias:"wsExtNmCB",label:mstrmojo.desc(9298),bindings:{checked:"this.parent.parent.item.uea",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0) &&!this.parent.parent.wait"},oncheckedChange:function(){this.parent.parent.item.set("uea",this.checked);}},{slot:"0,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"wsExtNmVTB",cssClass:"mobileconfig-TextBox",dtp:E.CHAR,constraints:{trigger:N.ALL},bindings:{value:"this.parent.parent.item.enm",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0) &&!this.parent.parent.wait &&this.parent.parent.item.uea",required:function(){return this.enabled;}},onenabledChange:function(){this.required=this.enabled;this.validate();},onValid:function(){H.setValidValue(this.parent.parent.item,"enm",this.value,true);this.parent.parent.parent.parent.model.validate();},onInvalid:function(){if(this.parent.parent.parent.parent.model){this.parent.parent.parent.parent.model.set("validFlag",false);}}},{slot:"0,2",scriptClass:"mstrmojo.Label",bindings:{show:"this.parent.parent.wait"},onshowChange:function(){this.set("cssText",this.show?"position:relative;right:200px;top:30px;z-idex:999;width:50px":"width:25px");this.set("cssClass",this.show?"waitIcon":"");this.refresh();}},H.propertyName(mstrmojo.desc(7781),"1,0"),{slot:"1,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"wsPoVTB",cssClass:"mobileconfig-TextBox",required:true,dtp:E.INTEGER,constraints:{trigger:N.ALL,validator:function(W){return H.generalValidator(W,this.dtp,H.validatePort,mstrmojo.desc(7839).replace(/###/,65535).replace(/##/,0));}},bindings:{value:"this.parent.parent.item.po",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0)&&!this.parent.parent.wait"},validationStatus:{id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""},onValid:function(){H.setValidValue(this.parent.parent.item,"po",this.value,true);this.parent.parent.parent.parent.model.validate();},onInvalid:function(){this.parent.parent.set("prjItems",undefined);if(this.parent.parent.parent.parent.model){this.parent.parent.parent.parent.model.set("validFlag",false);}}},H.propertyName(mstrmojo.desc(7782),"2,0"),{slot:"2,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"wsPtVTB",cssClass:"mobileconfig-TextBox",required:true,dtp:E.CHAR,constraints:{trigger:N.ALL},bindings:{value:"this.parent.parent.item.pt",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0)&&!this.parent.parent.wait"},validationStatus:{id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""},onValid:function(){H.setValidValue(this.parent.parent.item,"pt",this.value,true);this.parent.parent.parent.parent.model.validate();},onInvalid:function(){this.parent.parent.set("prjItems",undefined);if(this.parent.parent.parent.parent.model){this.parent.parent.parent.parent.model.set("validFlag",false);}}},H.propertyName(mstrmojo.desc(7783),"3,0"),{slot:"3,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,items:D,bindings:{selectedItem:"{v:this.parent.parent.item.ty}",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0)&&!this.parent.parent.wait"},onchange:function(){this.parent.parent.item.ty=this.selectedItem.v;}},H.propertyName(mstrmojo.desc(7784),"4,0"),{slot:"4,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,items:A,bindings:{selectedItem:"{v:this.parent.parent.item.rt}",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0)&&!this.parent.parent.wait"},onchange:function(){this.parent.parent.item.rt=this.selectedItem.v;}},{slot:"5,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(7789),bindings:{checked:"this.parent.parent.item.udc"},oncheckedChange:function(){this.parent.parent.item.set("udc",this.checked);}},H.propertyName(mstrmojo.desc(7776),"6,0"),{slot:"6,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,items:C,bindings:{selectedItem:"{v:this.parent.parent.item.wsc.am}",enabled:"!this.parent.parent.item.udc"},onchange:function(){var W=this.parent.parent.item.wsc;if(W){if(!W.set){M.make(W,mstrmojo.Obj);}W.set("am",this.selectedItem.v);}}},H.propertyName(mstrmojo.desc(2763),"7,0","",{visible:"!this.parent.parent.item.udc&&!(this.parent.parent.item.wsc.am===1)"}),{slot:"7,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",bindings:{enabled:B,value:"this.parent.parent.item.wsc.lo",visible:"!this.parent.parent.item.udc&&!(this.parent.parent.item.wsc.am===1)"},onvalueChange:function(){H.setValidValue(this.parent.parent.item.wsc,"lo",this.value);},onenabledChange:function(){if(!this.enabled){H.setValidValue(this.parent.parent.item.wsc,"lo","");}}},H.propertyName(mstrmojo.desc(1162),"8,0","",{visible:"!this.parent.parent.item.udc&&!(this.parent.parent.item.wsc.am===1)"}),{slot:"8,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",tooltip:mstrmojo.desc(7847),type:"password",bindings:{enabled:B,value:"this.parent.parent.item.wsc.ps",visible:"!this.parent.parent.item.udc&&!(this.parent.parent.item.wsc.am===1)"},onvalueChange:function(){H.setValidValue(this.parent.parent.item.wsc,"ps",this.value);},onenabledChange:function(){if(!this.enabled){H.setValidValue(this.parent.parent.item.wsc,"ps","");}}},{slot:"9,1",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7847),bindings:{visible:"!this.parent.parent.item.udc&&!(this.parent.parent.item.wsc.am===1)"}},{slot:"10,1",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8269),bindings:{checked:"this.parent.parent.item.wsc.ow&&"+B,visible:"!this.parent.parent.item.udc&&!(this.parent.parent.item.wsc.am===1)&&"+B},oncheckedChange:function(){if(this.parent.parent.item){this.parent.parent.item.wsc.ow=this.checked;}}},{slot:"11,0",scriptClass:"mstrmojo.FieldSet",cssClass:"mstrmojo-FieldSet-noborder",cssText:"margin:8px 0px 0px 0px;width:500px",legend:mstrmojo.desc(7796),children:[{scriptClass:"mstrmojo.Table",rows:5,cols:2,bindings:{svrItem:"this.parent.parent.parent.item"},children:[H.propertyName(mstrmojo.desc(7776),"0,0","width:200px"),{slot:"0,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,bindings:{selectedItem:"{v:this.parent.svrItem.pdc.am}"},items:mstrmojo.all.connect_tab.isAndroid?F:L,onchange:function(){var W=this.parent.svrItem.pdc;if(W){if(!W.set){M.make(W,mstrmojo.Obj);}W.set("am",this.selectedItem.v);}}},H.propertyName(mstrmojo.desc(2763),"1,0","",{visible:I}),{slot:"1,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",bindings:{enabled:B,value:"this.parent.svrItem.pdc.lo",visible:I},onvalueChange:function(){H.setValidValue(this.parent.svrItem.pdc,"lo",this.value);},onenabledChange:function(){if(!this.enabled){H.setValidValue(this.parent.svrItem.pdc,"lo","",true);}}},H.propertyName(mstrmojo.desc(1162),"2,0","",{visible:I}),{slot:"2,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",tooltip:mstrmojo.desc(7847),type:"password",bindings:{enabled:B,value:"this.parent.svrItem.pdc.ps",visible:I},onvalueChange:function(){H.setValidValue(this.parent.svrItem.pdc,"ps",this.value);},onenabledChange:function(){if(!this.enabled){H.setValidValue(this.parent.svrItem.pdc,"ps","",true);}}},{slot:"3,1",scriptClass:"mstrmojo.Label",cssText:"margin-bottom:5px",text:mstrmojo.desc(7847),bindings:{visible:I}},{slot:"4,1",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8269),bindings:{checked:"this.parent.svrItem.pdc.ow&&"+B,visible:I+"&&"+B},oncheckedChange:function(){if(this.parent.svrItem){this.parent.svrItem.pdc.ow=this.checked;}}}]}]},{slot:"12,0",scriptClass:"mstrmojo.WidgetList",alias:"prjList",cssText:"width:500px",listSelector:mstrmojo.ListSelector,makeObservable:true,renderOnScroll:false,bindings:{items:"this.parent.parent.item.pl"},itemFunction:function(Z,W,X){M.make(Z,mstrmojo.Obj);var a="this.parent.parent.parent.item",b="this.parent.parent.parent.parent.parent.parent.prjItems";var Y=new mstrmojo.Panel({item:Z,cssText:"margin-top:10px",parent:X,showTitlebar:true,state:1,delText:mstrmojo.desc(7880),bindings:{title:"this.item.title"},customDel:function(){delete this.item;this.destroy();},children:[{scriptClass:"mstrmojo.Table",cssClass:"greyBorder",cssText:"width:500px",layout:[{cssText:"margin-left:5px",cells:[{cssText:"width:200px"},{}]},{cells:[{colSpan:2}]},{cells:[{},{}]},{cells:[{colSpan:2}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]}],children:[H.propertyName(mstrmojo.desc(2930),"0,0","margin-left:15px;width:170px"),{slot:"0,1",scriptClass:"mstrmojo.HBox",children:[{scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,itemIdField:"pdn",showOptTitle:true,getItemName:function(d,c){return(d.svr)?d.n+" ("+d.svr.name+")":d.pn+" ("+d.sn+")";},bindings:{enabled:"!"+a+".dead",items:"("+a+".dead)? ["+a+"]:"+b,selectedItem:"{pdn:(("+a+".pid)? ("+a+".sn + "+a+".pid):"+b+"[0].pdn)}"},onchange:function(){var c=this.parent.parent.parent.item;if(c){if(this.selectedItem&&this.selectedItem.svr){c.pn=this.selectedItem.n;c.sn=this.selectedItem.svr.name;c.sp=this.selectedItem.svr.port;c.pid=this.selectedItem.pid;c.pdn=this.selectedItem.pdn;c.sv=this.selectedItem.sv;}c.set("title",c.pn+" ("+c.sn+")");}}},{slot:"0,1",scriptClass:"mstrmojo.Label",cssText:"color:red;margin-left:5px",bindings:{visible:a+".dead === true"},text:mstrmojo.desc(7853)}]},{slot:"1,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",cssText:"margin-left:11px",label:mstrmojo.desc(7789),bindings:{checked:"this.parent.parent.item.udc"},oncheckedChange:function(){this.parent.parent.item.set("udc",this.checked);}},{slot:"2,0",alias:"customRtf",scriptClass:"mstrmojo.CheckBox",cssText:"margin-left: 11px",label:mstrmojo.desc(8074),bindings:{checked:"!!this.parent.parent.item.rtf.oi",visible:"mstrmojo.all.connect_tab.model.data.dt!=5"},onclick:function(){var c=this.parent.parent.item;if(this.checked){c.rtf=this.prevRtf;}else{this.prevRtf=c.rtf;c.rtf={};}}},{scriptClass:"mstrmojo.HBox",slot:"2,1",bindings:{visible:"mstrmojo.all.connect_tab.model.data.dt!=5"},children:[{scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",readOnly:true,bindings:{enabled:"this.parent.parent.customRtf.checked",value:"this.parent.parent.parent.item.rtf.oi.pt"}},H.createObjBrowserDropdown({reuseSession:true,targetType:"rtf",bindings:{enabled:"this.parent.parent.customRtf.checked",target:"this.parent.parent.parent.item",browsableTypes:function(){if(mstrmojo.all.ipadHomescreen_tab.model.data.dt==2||mstrmojo.all.iphoneHomescreen_tab.model.data.dt==1){return"8,17153";}else{return"8";}}}})]},{slot:"3,0",scriptClass:"mstrmojo.CheckBox",cssText:"margin-left:11px",label:mstrmojo.desc(8286),bindings:{enabled:"!mstrmojo.all.connect_tab.model.rpcs",checked:"this.parent.parent.item.cd",visible:"!mstrmojo.all.connect_tab.isAndroid&&mstrmojo.all.connect_tab.model.data.dt!=5"},onclick:function(){H.setValidValue(this.parent.parent.item,"cd",this.checked,true);H.setValidValue(this.parent.parent.item,"lcs",this.parent.parent.item.cd&&this.parent.parent.item.lcs,true);},onenabledChange:function(){H.setValidValue(this.parent.parent.item,"cd",this.enabled&&this.parent.parent.item.cd,true);H.setValidValue(this.parent.parent.item,"lcs",this.parent.parent.item.cd&&this.parent.parent.item.lcs,true);}},{slot:"4,0",scriptClass:"mstrmojo.CheckBox",cssText:"margin-left:25px",label:mstrmojo.desc(8287),bindings:{checked:"this.parent.parent.item.lcs",enabled:"this.parent.parent.item.cd",visible:"!mstrmojo.all.connect_tab.isAndroid&&mstrmojo.all.connect_tab.model.data.dt!=5"},onclick:function(){H.setValidValue(this.parent.parent.item,"lcs",this.checked);}},H.propertyName(mstrmojo.desc(7776),"5,0","margin-left:15px"),{slot:"5,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,items:mstrmojo.all.connect_tab.isAndroid?F:L,bindings:{selectedItem:"{v:this.parent.parent.item.pc.am}",enabled:"!this.parent.parent.item.udc"},onchange:function(){var c=this.parent.parent.item.pc;if(c){if(!c.set){M.make(c,mstrmojo.Obj);}c.set("am",this.selectedItem.v);}}},H.propertyName(mstrmojo.desc(2763),"6,0","margin-left:15px",{visible:G}),{slot:"6,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",bindings:{value:"this.parent.parent.item.pc.lo",enabled:B,visible:G},onvalueChange:function(){H.setValidValue(this.parent.parent.item.pc,"lo",this.value);},onenabledChange:function(){if(!this.enabled){H.setValidValue(this.parent.parent.item.pc,"lo","",true);}}},H.propertyName(mstrmojo.desc(1162),"7,0","margin-left:15px",{visible:G}),{slot:"7,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",tooltip:mstrmojo.desc(7847),type:"password",bindings:{enabled:B,value:"this.parent.parent.item.pc.ps",visible:G},onvalueChange:function(){H.setValidValue(this.parent.parent.item.pc,"ps",this.value);},onenabledChange:function(){if(!this.enabled){H.setValidValue(this.parent.parent.item.pc,"ps","",true);}}},{slot:"8,1",scriptClass:"mstrmojo.Label",cssText:"margin-bottom:5px",text:mstrmojo.desc(7847),bindings:{visible:G}},{slot:"9,1",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8269),bindings:{checked:"this.parent.parent.item.pc.ow&&"+B,visible:G+"&&"+B},oncheckedChange:function(){if(this.parent.parent.item){this.parent.parent.item.pc.ow=this.checked;}}}]}]});return Y;}},{slot:"13,0",scriptClass:"mstrmojo.Button",text:mstrmojo.desc(7793),cssText:"text-decoration:underline;margin:8px 0px 15px 10px;color:#0000FF; font-weight: bold;",bindings:{visible:"this.parent.parent.prjItems && this.parent.parent.prjItems.length > 0"},onclick:function(W){this.parent.parent.newProject();}},{slot:"14,0",scriptClass:"mstrmojo.HBox",alias:"getPrj",children:[{scriptClass:"mstrmojo.Button",text:mstrmojo.desc(7793),cssText:"text-decoration:underline;margin:4px 0px 8px 10px;color:#0000FF; font-weight: bold;",bindings:{visible:"!this.parent.parent.parent.prjItems || this.parent.parent.parent.prjItems.length === 0",enabled:"this.parent.parent.wsNmVTB.validationStatus.code== 0&&this.parent.parent.wsPoVTB.validationStatus.code== 0&&this.parent.parent.wsPtVTB.validationStatus.code== 0&& !this.parent.parent.parent.wait"},onclick:function(W){this.parent.parent.parent.getAvailablePrjs(true);}},{alias:"noPrjMsg",scriptClass:"mstrmojo.Label",cssText:"margin-left:10px",visible:false,text:mstrmojo.desc(7792)}]}]}]});return T;}},{slot:"3,0",scriptClass:"mstrmojo.Button",text:mstrmojo.desc(7777),cssText:"text-decoration:underline;margin:8px 0px 8px 0px;color:#0000FF; font-weight: bold;",onclick:function(Q){if(this.parent.srvList){if(!this.parent.model.defaultSrv){var R=this;this.parent.model.getDefaultConfig(H.DEFAULT_WEBSERVER,function(S){R.parent.model.defaultSrv=S;R.onclick();});}else{this.parent.srvList.add([M.clone(this.parent.model.defaultSrv)],-1);}}}},{slot:"4,0",scriptClass:"mstrmojo.FieldSet",legend:mstrmojo.desc(8447)+":",cssClass:"mstrmojo-trustedCert-setting",bindings:{visible:"this.parent.model.data.dt == 3 || this.parent.model.data.dt == 4"},children:[{scriptClass:"mstrmojo.WidgetList",alias:"cerList",cssClass:"cert-list",makeObservable:true,renderOnScroll:false,bindings:{items:"this.parent.parent.model.data.cty.tcs"},onremove:function(){this.parent.parent.model.validate();},itemFunction:function(S,Q,R){return new mstrmojo.HBox({cssText:"height: 22px;",children:[{scriptClass:"mstrmojo.Button",cssClass:"cert-delete",text:"x",title:mstrmojo.desc(629),onclick:function(){R.remove(S);}},{scriptClass:"mstrmojo.ValidationTextBox",cssClass:"cert-edittext",value:S.url,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,regExp:/^http:\/\//i},dtp:E.CHAR,onValid:function(){S.url=this.value;R.parent.parent.model.validate();},onInvalid:function(){delete S.url;R.parent.parent.model.set("validFlag",false);}}]});}},{scriptClass:"mstrmojo.Button",text:mstrmojo.desc(8469),cssClass:"cert-add",onclick:function(){this.parent.cerList.add([{url:"http://"}]);}}]}]});})();(function(){mstrmojo.requiresCls("mstrmojo.Arr","mstrmojo.Button","mstrmojo.HBox","mstrmojo.FishEye");var A=function(B){return mstrmojo.hash.copy(B,{scriptClass:"mstrmojo.Button",text:"",enabled:false,dir:"left",cssClass:"mstrmojo-icon left",onclick:function(){var D=this.parent.fishEyeList,C=D&&D.scroll(this.dir,D.step);}});};mstrmojo.FishEyeContainer=mstrmojo.declare(mstrmojo.HBox,null,{scriptClass:"mstrmojo.FishEyeContainer",cssClass:"mstrmojo-FishEyeContainer",selectedIndex:-1,setItems:function(B){this.fishEyeList.set("items",B);},setSelectedIndex:function(B){this.fishEyeList.set("selectedIndex",B);},scrollable:false,rightScrollbale:false,children:[A({bindings:{enabled:"!!this.parent.scrollable"}}),new mstrmojo.FishEye({items:mstrmojo.Arr.makeObservable([]),srcId:"obList"}),A({alias:"feScrollRight",cssClass:"mstrmojo-icon right",dir:"right",bindings:{enabled:"!!this.parent.rightScrollable"}})]});mstrmojo.css=mstrmojo.hash.copy({getStyleValue:function(D,E){var B=null;if(D.currentStyle){E=(E=="float"?"styleFloat":E);B=D.currentStyle[E];}if(document.defaultView&&document.defaultView.getComputedStyle){E=(E=="float"?"cssFloat":E);var C=document.defaultView.getComputedStyle(D,null);B=C?C[E]:null;}return B;},setStyleValue:function(D,F,E){var B=function(G){return !!(G&&(typeof (G)=="object")&&(typeof (G.length)=="number"));};if(B(F)&&B(E)){for(var C in F){D.style[F[C]]=E[C];}}else{D.style[F]=E;}}},mstrmojo.css);})();(function(){mstrmojo.requiresCls("mstrmojo.mobileConfigUtil","mstrmojo.Table","mstrmojo.ValidationTextBox","mstrmojo.SelectBox","mstrmojo.CheckBox","mstrmojo.FieldSet");var D=mstrmojo.mobileConfigUtil,J=mstrmojo.hash,L=mstrmojo.validation.TRIGGER,C=mstrmojo.expr.DTP,K=mstrmojo.validation.STATUSCODE;var I=function(N,O){return J.copy(O,{scriptClass:"mstrmojo.Label",text:N,cssClass:"blackberry-category"});},M=function(O,N,P,R){var Q=J.copy(R,{selectedItem:"{v:mstrmojo.all.BlackBerry_tab.model.data.gnl."+N+".v}"});return J.copy(P,{scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,size:1,items:O,bindings:Q,onchange:function(){if(mstrmojo.all.BlackBerry_tab.model){mstrmojo.all.BlackBerry_tab.model.data.gnl[N].v=this.selectedItem.v;}}});},G=function(O,S,R,P){var Q=J.copy(S,{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl."+O+".v"}),N=J.copy(R,{trigger:L.ALL});return J.copy(P,{scriptClass:"mstrmojo.ValidationTextBox",required:true,dtp:C.INTEGER,constraints:N,bindings:Q,onValid:function(){var T=mstrmojo.all.BlackBerry_tab.model;if(T){D.setValidValue(T.data.gnl[O],"v",this.getRealModelValue?this.getRealModelValue(this.value):this.value);T.validate();}if(this.validHook){this.validHook();}},onInvalid:function(){var T=mstrmojo.all.BlackBerry_tab.model;if(T){delete T.data.gnl[O].v;T.validate();}if(this.InvalidHook){this.InvalidHook();}}});},E=function(N,O,R,P){var Q=J.copy(R,{checked:"mstrmojo.all.BlackBerry_tab.model.data.gnl."+N+".v"});return J.copy(P,{scriptClass:"mstrmojo.CheckBox",label:O,bindings:Q,cssDisplay:"block",onclick:function(){D.setValidValue(mstrmojo.all.BlackBerry_tab.model.data.gnl[N],"v",this.checked);}});},H=function(N,O,P,R){var Q=R!=null?R:-1;return J.copy(P,{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8794),bindings:{checked:"mstrmojo.all.BlackBerry_tab.model.data.gnl."+N+".v=="+Q},onclick:function(){var S=this.parent[O];if(this.checked){S.set("value",Q);}S.set("enabled",!this.checked);}});};var F=[{n:"1%",v:1},{n:"5%",v:5},{n:"10%",v:10},{n:"15%",v:15},{n:"25%",v:25},{n:"30%",v:30}],B=[{n:mstrmojo.desc(959),v:1},{n:mstrmojo.desc(8772),v:2},{n:mstrmojo.desc(8773),v:3}],A=[{n:mstrmojo.desc(959),v:1},{n:mstrmojo.desc(8774),v:2},{n:mstrmojo.desc(8775),v:3}];mstrmojo.BlackBerry_tab=mstrmojo.insert({scriptClass:"mstrmojo.Table",cssText:"width:600px",cssClass:"BlackBerry-general",n:mstrmojo.desc(8766),id:"BlackBerry_tab",model:null,layout:[{cells:[{cssText:"width:150px"},{colSpan:2}]},{cells:[{cssText:"width:150px"},{colSpan:2}]},{cells:[{cssText:"width:150px"},{cssText:"width:180px"},{cssText:"width:270px"}]},{cells:[{cssText:"width:150px"},{colSpan:2}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],children:[I(mstrmojo.desc(295),{slot:"0,0"}),E("ums",mstrmojo.desc(8767),null,{slot:"0,1"}),E("rtu",mstrmojo.desc(8768),null,{slot:"1,1"}),I(mstrmojo.desc(8769),{slot:"2,0"}),I(mstrmojo.desc(8770),{slot:"2,1",cssClass:"propName"}),M(F,"mff",{slot:"2,2"}),I(mstrmojo.desc(8771),{slot:"3,1",cssClass:""}),{scriptClass:"mstrmojo.Panel",slot:"4,0",title:mstrmojo.desc(8776),showTitlebar:true,state:0,onstateChange:function(){this.set("title",(this.state===0)?mstrmojo.desc(8776):mstrmojo.desc(8777));},children:[{scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.Table",cssClass:"categoryTable",layout:[{cells:[{cssText:"width:25%"},{cssText:"width:30%"},{cssText:"width:30%"},{cssText:"width:15%"}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{colSpan:3}]}],children:[I(mstrmojo.desc(8778),{slot:"0,0"}),I(mstrmojo.desc(8779),{slot:"0,1",cssClass:"propName"}),M(B,"tcp",{slot:"0,2"}),I(mstrmojo.desc(8780),{slot:"1,1",cssClass:"propName"}),M(A,"tls",{slot:"1,2"}),I(mstrmojo.desc(8781),{slot:"2,1",cssClass:"propName"}),G("nrt",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.nrt.v/1000"},{validator:function(N){N=parseInt(N);return((N>0&&N<=9999)||N==-1)?{id:this.id,code:K.VALID,msg:""}:{code:K.INVALID_VALIDATOR,msg:mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,9999).replace(/##/,1)+mstrmojo.desc(8783,"# means use the device default value").replace(/#/,-1)};}},{slot:"2,2",getRealModelValue:function(N){return N*1000;}}),I(mstrmojo.desc(7773),{slot:"2,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8784),{slot:"3,1",cssClass:"propName"}),G("plp",null,{min:0,max:65535},{slot:"3,2"}),I(mstrmojo.desc(8785),{slot:"4,1",cssClass:""}),]},{scriptClass:"mstrmojo.Table",layout:[{cells:[{cssText:"width:25%"},{colSpan:3}]},{cells:[{},{colSpan:3}]}],rows:2,cols:4,cssClass:"categoryTable",children:[I(mstrmojo.desc(8786),{slot:"0,0"}),E("wsc",mstrmojo.desc(8787)+' <span style="font-weight:bold">'+mstrmojo.desc(8788)+"</span>",{checked:'mstrmojo.all.BlackBerry_tab.model.data.gnl.wsc.v=="1"'},{scriptClass:"mstrmojo.RadioButton",slot:"0,1",name:"wsc",onclick:function(){D.setValidValue(mstrmojo.all.BlackBerry_tab.model.data.gnl.wsc,"v",this.checked?"1":"2");}}),E("wsc",mstrmojo.desc(8787)+' <span style="font-weight:bold">'+mstrmojo.desc(8789)+"</span>",{checked:'mstrmojo.all.BlackBerry_tab.model.data.gnl.wsc.v=="2"'},{scriptClass:"mstrmojo.RadioButton",slot:"1,1",name:"wsc",onclick:function(){D.setValidValue(mstrmojo.all.BlackBerry_tab.model.data.gnl.wsc,"v",this.checked?"2":"1");}})]},{scriptClass:"mstrmojo.Table",cssClass:"categoryTable",layout:[{cells:[{cssText:"width:25%"},{cssText:"width:30%"},{cssText:"width:30%"},{cssText:"width:15%"}]},{cells:[{},{colSpan:3}]},{cells:[{},{colSpan:3}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]}],children:[I(mstrmojo.desc(8790),{slot:"0,0"}),I(mstrmojo.desc(8791),{slot:"0,1",cssClass:"propName"}),G("rsl",{enabled:"mstrmojo.all.BlackBerry_tab.model.data.gnl.rsl.v!=0"},{validator:function(N){N=parseInt(N);return((N>=0&&N<=100000))?{id:this.id,code:K.VALID,msg:""}:{code:K.INVALID_VALIDATOR,msg:mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,100000).replace(/##/,0)+mstrmojo.desc(8792).replace(/#/,0)};}},{slot:"0,2",alias:"rsl"}),I(mstrmojo.desc(8793),{slot:"0,2",cssClass:"unit",cssDisplay:"inline"}),H("rsl","rsl",{slot:"0,3"},0),E("slm",mstrmojo.desc(8795),null,{slot:"1,1"}),I(mstrmojo.desc(8796),{slot:"2,1",cssClass:""}),I(mstrmojo.desc(8797),{slot:"3,1",cssClass:"propName"}),G("rpc",{enabled:"mstrmojo.all.BlackBerry_tab.model.data.gnl.rpc.v!=-1"},{validator:function(Q){var N=1000,P=this.parent.mrl,R=mstrmojo.all.BlackBerry_tab.model;if(P&&!isNaN(parseInt(P.value))){N=parseInt(P.value);}else{if(R&&R.data.gnl.mrl.v){N=R.data.gnl.mrl.v;}}N=Math.min(1000,N);Q=parseInt(Q);var O={id:this.id,code:K.VALID,msg:""};if((Q<2||Q>N)&&Q!=-1){O.code=K.INVALID_VALIDATOR;if(N>2){O.msg=mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,N).replace(/##/,2)+mstrmojo.desc(8792).replace(/#/,-1);}else{O.msg=mstrmojo.desc(8798).replace(/#/,mstrmojo.desc(8801))+mstrmojo.desc(8800).replace(/#/,2)+mstrmojo.desc(8792).replace(/#/,-1);}}return O;}},{slot:"3,2",alias:"rpc",validHook:function(){var N=this.parent.mrl;if(N&&N.validationStatus.code!=K.VALID&&N.value!=null){N.validate();}}}),H("rpc","rpc",{slot:"3,3"}),I(mstrmojo.desc(8801),{slot:"4,1",cssClass:"propName"}),G("mrl",null,{validator:function(O){var Q=1,R=this.parent.rpc,P=mstrmojo.all.BlackBerry_tab.model;if(R&&!isNaN(parseInt(R.value))){Q=parseInt(R.value);}else{if(P&&P.data.gnl.rpc.v){Q=P.data.gnl.rpc.v;}}if(Q==-1){Q=1;}O=parseInt(O);var N={id:this.id,code:K.VALID,msg:""};if(O<Q||O>1000000){N.code=K.INVALID_VALIDATOR;if(Q<=1000000){N.msg=mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,1000000).replace(/##/,Q);}else{N.msg=mstrmojo.desc(8799).replace(/#/,mstrmojo.desc(8797))+mstrmojo.desc(8802).replace(/#/,1000000);}}return N;}},{slot:"4,2",alias:"mrl",validHook:function(){var N=this.parent.rpc;if(N&&N.validationStatus.code!=K.VALID&&N.value!=null){N.validate();}}}),I(mstrmojo.desc(8803),{slot:"5,1",cssClass:"propName"}),G("ctk",{enabled:"mstrmojo.all.BlackBerry_tab.model.data.gnl.ctk.v!=-1"},{validator:function(N){N=parseInt(N);return(N>=-1&&N<=1000)?{id:this.id,code:K.VALID,msg:""}:{code:K.INVALID_VALIDATOR,msg:mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,1000).replace(/##/,-1)+mstrmojo.desc(8804).replace(/#/,0)+mstrmojo.desc(8792).replace(/#/,-1)};}},{slot:"5,2",alias:"ctk"}),H("ctk","ctk",{slot:"5,3"}),I(mstrmojo.desc(8805),{slot:"6,1",cssClass:"propName"}),G("tqs",{enabled:"mstrmojo.all.BlackBerry_tab.model.data.gnl.tqs.v!=-1"},{validator:function(N){N=parseInt(N);return((N>=1&&N<=1000)||N==-1)?{id:this.id,code:K.VALID,msg:""}:{code:K.INVALID_VALIDATOR,msg:mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,1000).replace(/##/,1)+mstrmojo.desc(8792).replace(/#/,-1)};}},{slot:"6,2",alias:"tqs"}),H("tqs","tqs",{slot:"6,3"})]},{scriptClass:"mstrmojo.Table",cssClass:"categoryTable",layout:[{cells:[{cssText:"width:25%"},{cssText:"width:30%"},{cssText:"width:30%"},{cssText:"width:15%"}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{colSpan:3}]}],children:[I(mstrmojo.desc(8806),{slot:"0,0"}),I(mstrmojo.desc(8807),{slot:"0,1",cssClass:"propName"}),G("chs",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.chs.v/1024"},{validator:function(Q){var O=1024,N=this.parent.mds,R=mstrmojo.all.BlackBerry_tab.model;if(N&&!isNaN(parseInt(N.value))){O=parseInt(N.value);}else{if(R&&R.data.gnl.mds.v){O=R.data.gnl.mds.v/1024;}}O=Math.min(1024,O);Q=parseInt(Q);var P={id:this.id,code:K.VALID,msg:""};if(Q<1||Q>O){P.code=K.INVALID_VALIDATOR;if(O>1){P.msg=mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,O).replace(/##/,1);}else{P.msg=mstrmojo.desc(8798).replace(/#/,mstrmojo.desc(8808))+mstrmojo.desc(8800).replace(/#/,1);}}return P;}},{slot:"0,2",alias:"chs",getRealModelValue:function(N){return N*1024;},validHook:function(){var N=this.parent.mds;if(N&&N.validationStatus.code!=K.VALID&&N.value!=null){N.validate();}}}),I(mstrmojo.desc(8793),{slot:"0,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8808),{slot:"1,1",cssClass:"propName"}),G("mds",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.mds.v/1024"},{validator:function(O){var R=1,Q=this.parent.chs,P=mstrmojo.all.BlackBerry_tab.model;if(Q&&!isNaN(parseInt(Q.value))){R=parseInt(Q.value);}else{if(P&&P.data.gnl.chs.v){R=P.data.gnl.chs.v/1024;}}O=parseInt(O);var N={id:this.id,code:K.VALID,msg:""};if(O<R||O>102400){N.code=K.INVALID_VALIDATOR;if(R<=102400){N.msg=mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,102400).replace(/##/,R);}else{N.msg=mstrmojo.desc(8799).replace(/#/,mstrmojo.desc(8807))+mstrmojo.desc(8802).replace(/#/,102400);}}return N;}},{slot:"1,2",alias:"mds",getRealModelValue:function(N){return N*1024;},validHook:function(){var N=this.parent.chs;if(N&&N.validationStatus.code!=K.VALID&&N.value!=null){N.validate();}}}),I(mstrmojo.desc(8793),{slot:"1,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8809),{slot:"2,1",cssClass:"propName"}),G("tgt",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.tgt.v/1000"},{min:1,max:9999},{slot:"2,2",getRealModelValue:function(N){return N*1000;}}),I(mstrmojo.desc(7773),{slot:"2,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8810),{slot:"3,1",cssClass:"propName"}),G("scf",null,{min:0,max:1},{slot:"3,2",dtp:C.DOUBLE}),I(mstrmojo.desc(8811),{slot:"4,1",cssClass:"propName"}),G("apf",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.apf.v/1000"},{min:0,max:9999},{slot:"4,2",getRealModelValue:function(N){return N*1000;}}),I(mstrmojo.desc(7773),{slot:"4,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8812),{slot:"5,1",cssClass:"propName"}),G("rsel",null,{min:1,max:100},{slot:"5,2"}),E("svc",mstrmojo.desc(8813),{checked:"!mstrmojo.all.BlackBerry_tab.model.data.gnl.svc.v"},{slot:"6,1",onclick:function(){D.setValidValue(mstrmojo.all.BlackBerry_tab.model.data.gnl.svc,"v",!this.checked);}})]},{scriptClass:"mstrmojo.Table",cssClass:"categoryTable",layout:[{cells:[{cssText:"width:25%"},{cssText:"width:30%"},{cssText:"width:30%"},{cssText:"width:15%"}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]}],children:[I(mstrmojo.desc(8814),{slot:"0,0"}),I(mstrmojo.desc(8815),{slot:"0,1",cssClass:"propName"}),G("cmt",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.cmt.v/1000"},{min:1,max:9999},{slot:"0,2",getRealModelValue:function(N){return N*1000;}}),I(mstrmojo.desc(7773),{slot:"0,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8816),{slot:"1,1",cssClass:"propName"}),G("cmw",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.cmw.v/1000"},{min:0,max:9999},{slot:"1,2",getRealModelValue:function(N){return N*1000;}}),I(mstrmojo.desc(7773),{slot:"1,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8817),{slot:"2,1",cssClass:"propName"}),G("cmi",null,{min:0,max:9999},{slot:"2,2"}),I(mstrmojo.desc(7773),{slot:"2,2",cssClass:"unit",cssDisplay:"inline"})]}]}]}]});})();(function(){mstrmojo.requiresCls("mstrmojo.mobileConfigUtil","mstrmojo.Table","mstrmojo.ValidationTextBox","mstrmojo.SelectBox","mstrmojo.CheckBox","mstrmojo.FieldSet","mstrmojo.TableLayoutList");var C=mstrmojo.mobileConfigUtil,I=mstrmojo.validation.TRIGGER,P=mstrmojo.expr.DTP,R="this.parent.model.data.dt != 3 && this.parent.model.data.dt != 4",N="this.parent.model.data.dt == 4",D={visible:R},L="this.parent.model.data.dt==3 || this.parent.model.data.dt==4",A={visible:L},J="this.parent.model.data.dt == 1||this.parent.model.data.dt == 2",O="this.parent.model.data.dt == 1",B="this.parent.model",M={model:B};var G=[{n:mstrmojo.desc(844),v:C.LOGGING_LEVEL_WARNING},{n:mstrmojo.desc(845),v:C.LOGGING_LEVEL_ERROR},{n:mstrmojo.desc(874),v:C.LOGGING_LEVEL_MESSAGES},{n:mstrmojo.desc(2461),v:C.LOGGING_LEVEL_ALL},{n:mstrmojo.desc(2411),v:C.LOGGING_LEVEL_OFF}],Q=[{n:mstrmojo.desc(707),v:C.TIME_UNIT_DAYS},{n:mstrmojo.desc(708),v:C.TIME_UNIT_HOURS},{n:mstrmojo.desc(7895),v:C.TIME_UNIT_MINUTES}],H=[{n:"25 "+mstrmojo.desc(7771),v:25},{n:"50 "+mstrmojo.desc(7771),v:50},{n:"100 "+mstrmojo.desc(7771),v:100},{n:"250 "+mstrmojo.desc(7771),v:250},{n:"500 "+mstrmojo.desc(7771),v:500},{n:"1 "+mstrmojo.desc(7938),v:1*1024},{n:"2 "+mstrmojo.desc(7938),v:2*1024},{n:"3 "+mstrmojo.desc(7938),v:3*1024},{n:"4 "+mstrmojo.desc(7938),v:4*1024}],E=[{n:mstrmojo.desc(8958),v:1},{n:mstrmojo.desc(8959),v:2}],S=[{n:"1",v:1},{n:"2",v:2},{n:"4",v:4},{n:"10",v:10},{n:"24",v:24}],K=(function(){var V=[];for(var W=0;W<24;W++){V.push({n:""+W,v:W});}return V;})();minuteValues=(function(){var V=[];for(var W=0;W<60;W++){V.push({n:""+W,v:W});}return V;})();function F(W,V){var X=-1;switch(V){case C.TIME_UNIT_DAYS:X=W*24*60;break;case C.TIME_UNIT_MINUTES:X=W;break;case C.TIME_UNIT_HOURS:X=W*60;break;default:break;}return X;}function U(V){if(V%(24*60)===0){return{t:V/(24*60),u:C.TIME_UNIT_DAYS};}if(V%60===0){return{t:V/60,u:C.TIME_UNIT_HOURS};}return{t:V,u:C.TIME_UNIT_MINUTES};}function F(W,V){var X=-1;switch(V){case C.TIME_UNIT_DAYS:X=W*24*60;break;case C.TIME_UNIT_MINUTES:X=W;break;case C.TIME_UNIT_HOURS:X=W*60;break;default:break;}return X;}function U(V){if(V%(24*60)===0){return{t:V/(24*60),u:C.TIME_UNIT_DAYS};}if(V%60===0){return{t:V/60,u:C.TIME_UNIT_HOURS};}return{t:V,u:C.TIME_UNIT_MINUTES};}mstrmojo.iPhone_tab=mstrmojo.insert({scriptClass:"mstrmojo.Table",cssText:"margin 10px 0px 0px 10px",n:mstrmojo.desc(7767),id:"iPhone_tab",model:null,layout:[{cells:[{},{}]},{cells:[{cssText:"vertical-align:top"},{},{}]},{cells:[{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{}]},{cells:[{colSpan:3}]},{cells:[{},{colSpan:2}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],children:[{slot:"0,0",scriptClass:"mstrmojo.Label",cssText:"width:200px",text:mstrmojo.desc(11462)+":",bindings:{visible:J}},{slot:"0,1",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox",showItemTooltip:true,size:1,items:E,bindings:{atcv:"this.parent.model.data.gnl.atc.v",visible:J},onatcvChange:function(){if(this.atcv!==undefined&&this.atcv!==null){if(this.atcv<=0){this.set("selectedIndex",0);this.domNode.selectedIndex=-1;}else{this.set("selectedIndex",this.atcv-1);}}},onchange:function(){if(this.selectedItem){this.parent.model.data.gnl.atc.v=this.selectedItem.v;}}},C.propertyName(mstrmojo.desc(11828),"1,0","",{visible:J}),{slot:"1,1",scriptClass:"mstrmojo.TableLayoutList",itemsPerRow:10,cssClass:"mobileconfig-TableLayoutList",items:[{v:"2bacfe"},{v:"14bad8"},{v:"19bd9b"},{v:"4edc8b"},{v:"e7b900"},{v:"e77e23"},{v:"eb6f65"},{v:"ff3636"},{v:"e64482"},{v:"9b58b5"},{v:"297fb8"},{v:"007c92"},{v:"17a086"},{v:"07bd54"},{v:"ea9d26"},{v:"d45300"},{v:"dd4e43"},{v:"cd2c2c"},{v:"cc2c69"},{v:"8d44af"}],bindings:{selectedItem:"{v: this.parent.model.data.gnl.ac.v}",visible:J},onvalueChange:function(){if(this.value){this.parent.model.data.gnl.ac.v=this.value;}},getItemProps:function T(X,V){var W=!!this.selectedIndices[V];return{tag:"div",sel:W,cls:(W)?clsSelected:"",n:X.n||"",style:"background-color:#"+X.v,idx:V,addCls:function(Y){addToCollection.call(this,"cls"," ",Y);},addStyle:function(Y){addToCollection.call(this,"style",";",Y);}};}},C.propertyName(mstrmojo.desc(7770),"2,0","width:200px"),{slot:"2,1",alias:"mlUnit",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox",showItemTooltip:true,size:1,items:H,bindings:{mlv:"this.parent.model.data.gnl.ml.v"},onmlvChange:function(){if(this.mlv!==undefined&&this.mlv!==null){var V=H.length-1;for(;V>=1&&H[V].v>=this.mlv&&H[V-1].v>=this.mlv;V--){}this.set("selectedIndex",V);}},onchange:function(){if(this.selectedItem){this.parent.model.data.gnl.ml.v=this.selectedItem.v;}}},C.propertyName(mstrmojo.desc(7772),"3,0"),{slot:"3,1",alias:"ntIpt",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",required:true,dtp:P.INTEGER,constraints:{trigger:I.ALL,validator:function(V){var X=parseInt(this.parent.model.data.gnl.art.v,10),W=isNaN(X)?1:X;if(V<W||V>9999){return{code:mstrmojo.validation.STATUSCODE.INVALID_VALIDATOR,msg:mstrmojo.desc(7839).replace(/###/,9999).replace(/##/,W)};}else{return{id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""};}}},bindings:{value:"this.parent.model.data.gnl.nt.v"},onValid:function(){var X=this.parent,W=X.artIpt,V=this.parent.model;C.setValidValue(V.data.gnl.nt,"v",this.value);V.validate();if(W.value!=null&&!W.isValid()){W.validate();}},onInvalid:function(){if(this.parent.model){delete this.parent.model.data.gnl.nt.v;this.parent.model.set("validFlag",false);}}},C.propertyName(mstrmojo.desc(7773),"3,2","margin-left:4px"),C.propertyName(mstrmojo.desc(8060),"4,0","",D),{slot:"4,1",alias:"artIpt",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",required:true,dtp:P.INTEGER,constraints:{trigger:I.ALL,validator:function(W){var X=parseInt(this.parent.model.data.gnl.nt.v,10),V=isNaN(X)?9999:Math.min(X,9999);if(W<1||W>V){return{code:mstrmojo.validation.STATUSCODE.INVALID_VALIDATOR,msg:mstrmojo.desc(7839).replace(/###/,V).replace(/##/,1)};}else{return{id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""};}}},bindings:{value:"this.parent.model.data.gnl.art.v",visible:R},onValid:function(){var X=this.parent,W=X.ntIpt,V=this.parent.model;C.setValidValue(V.data.gnl.art,"v",this.value);V.validate();if(W.value!=null&&!W.isValid()){W.validate();}},onInvalid:function(){if(this.parent.model){delete this.parent.model.data.gnl.art.v;this.parent.model.set("validFlag",false);}}},C.propertyName(mstrmojo.desc(7773),"4,2","margin-left:4px",D),C.propertyName(mstrmojo.desc(7840)+":","5,0"),{slot:"5,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",required:true,dtp:P.INTEGER,validateInput:function(V){if(V<1||V>9999){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,9999).replace(/##/,1));}},bindings:{value:"this.parent.model.data.gnl.mgc.v"},onValid:function(){C.setValidValue(this.parent.model.data.gnl.mgc,"v",this.value);this.parent.model.validate();},onInvalid:function(){if(this.parent.model){delete this.parent.model.data.gnl.mgc.v;this.parent.model.set("validFlag",false);}}},C.propertyName(mstrmojo.desc(1477),"6,0","",D),{slot:"6,1",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox",showItemTooltip:true,size:1,items:G,bindings:{selectedItem:"{v:this.parent.model.data.gnl.ll.v}",visible:R},onchange:function(){this.parent.model.data.gnl.ll.v=this.selectedItem.v;}},C.propertyName(mstrmojo.desc(7828),"7,0","",D),{slot:"7,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",alias:"mlsVTB",required:true,dtp:P.INTEGER,validateInput:function(V){if(V<0||V>9999){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,9999).replace(/##/,0));}},bindings:{value:"this.parent.model.data.gnl.mls.v",visible:R},onValid:function(){C.setValidValue(this.parent.model.data.gnl.mls,"v",this.value);this.parent.model.validate();},onInvalid:function(){if(this.parent.model){delete this.parent.model.data.gnl.mls.v;this.parent.model.set("validFlag",false);}}},C.propertyName(mstrmojo.desc(7939),"7,2","margin-left:4px",D),{alias:"sciCheck",slot:"8,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8025),bindings:{checked:"this.parent.model.data.gnl.sci.v > 0",visible:"!("+L+")"},onclick:function(){C.setValidValue(this.parent.model.data.gnl.sci,"v",this.checked?this.parent.sciInput.value:-1);this.parent.sciInput.set("enabled",this.checked);this.parent.model.validate();}},{slot:"8,1",alias:"sciInput",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",required:true,dtp:P.INTEGER,validateInput:function(V){if(V<1||V>9999){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,9999).replace(/##/,1));}},bindings:{value:"this.parent.model.data.gnl.sci.v > 0?this.parent.model.data.gnl.sci.v:''",enabled:"this.parent.model.data.gnl.sci.v > 0",visible:"!("+L+")"},onValid:function(){C.setValidValue(this.parent.model.data.gnl.sci,"v",this.value);this.parent.model.validate();},onInvalid:function(){if(this.parent.model&&this.parent.sciCheck.checked){delete this.parent.model.data.gnl.sci.v;this.parent.model.set("validFlag",false);}},onenabledChange:function(){if(this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}}},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7773),slot:"8,2",cssText:"margin-left:4px",bindings:{visible:"!("+L+")"}},{alias:"cviCheck",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",slot:"9,0",bindings:{checked:"this.parent.model.data.gnl.cvi.v > 0",label:function(){return(this.parent.model.data.dt==3||this.parent.model.data.dt==4)?mstrmojo.desc(11169):mstrmojo.desc(8026);}},onclick:function(){C.setValidValue(this.parent.model.data.gnl.cvi,"v",this.checked?this.parent.cviInput.value:-1);this.parent.cviInput.set("enabled",this.checked);this.parent.model.validate();}},{alias:"cviInput",slot:"9,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",required:true,dtp:P.INTEGER,validateInput:function(V){if(V<1||V>9999){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,9999).replace(/##/,1));}},bindings:{value:"this.parent.model.data.gnl.cvi.v > 0? this.parent.model.data.gnl.cvi.v : ''",enabled:"this.parent.model.data.gnl.cvi.v > 0"},onValid:function(){C.setValidValue(this.parent.model.data.gnl.cvi,"v",this.value);this.parent.model.validate();},onInvalid:function(){if(this.parent.model&&this.parent.cviCheck.checked){delete this.parent.model.data.gnl.cvi.v;this.parent.model.set("validFlag",false);}},onenabledChange:function(){if(this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}}},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7773),slot:"9,2",cssText:"margin-left:4px"},{alias:"crdCheck",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8831),slot:"10,0",bindings:{checked:"this.parent.model.data.gnl.crd.v > 0"},onclick:function(){C.setValidValue(this.parent.model.data.gnl.crd,"v",this.checked?this.parent.crdInput.value:0);this.parent.crdInput.set("enabled",this.checked);this.parent.model.validate();}},{alias:"crdInput",slot:"10,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",required:true,dtp:P.INTEGER,constraints:{min:1,trigger:I.ALL},bindings:{value:"this.parent.model.data.gnl.crd.v > 0? this.parent.model.data.gnl.crd.v : ''",enabled:"this.parent.model.data.gnl.crd.v > 0"},onValid:function(){C.setValidValue(this.parent.model.data.gnl.crd,"v",this.value);this.parent.model.validate();},onInvalid:function(){if(this.parent.model&&this.parent.crdCheck.checked){delete this.parent.model.data.gnl.crd.v;this.parent.model.set("validFlag",false);}},onenabledChange:function(){if(this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}}},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7773),slot:"10,2",cssText:"margin-left:4px"},{slot:"11,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",alias:"ebsCheck",label:mstrmojo.desc(9767),bindings:{checked:"this.parent.model.data.gnl.bss.ebs.v",visible:L},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.bss.ebs.v=this.checked;}}},C.propertyName(mstrmojo.desc(9768),"12,0","margin-left:20px",A),{slot:"12,1",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox",alias:"uiSelect",showItemTooltip:true,size:1,items:S,bindings:{selectedItem:"{v:this.parent.model.data.gnl.bss.ui.v}",visible:L,enabled:"this.parent.ebsCheck.checked"},onchange:function(){if(this.parent.model){this.parent.model.data.gnl.bss.ui.v=this.selectedItem.v;if(this.selectedItem.v==24){this.parent.hourSelect.set("enabled",true);this.parent.minuteSelect.set("enabled",true);}else{this.parent.hourSelect.set("enabled",false);this.parent.minuteSelect.set("enabled",false);}}}},C.propertyName(mstrmojo.desc(9770),"12,2","margin-left:4px",A),C.propertyName(mstrmojo.desc(9769),"13,0","margin-left:20px",A),{slot:"13,1",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox-time",cssText:"margin-left:100px",alias:"hourSelect",showItemTooltip:true,size:1,items:K,bindings:{selectedItem:function(){if(this.parent.model){var W=this.parent.model.data.gnl.bss.tod.v;var V=(W-W%60)/60;return{n:""+V,v:V};}},visible:L,enabled:"this.parent.ebsCheck.checked && this.parent.model.data.gnl.bss.ui.v == 24"},onchange:function(){if(this.parent.minuteSelect.selectedItem){var V=this.parent.minuteSelect.selectedItem.v;this.parent.model.data.gnl.bss.tod.v=this.selectedItem.v*60+V;}}},{scriptClass:"mstrmojo.Label",text:":",slot:"13,1",cssDisplay:"inline",bindings:{visible:L}},{slot:"13,1",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox-time",alias:"minuteSelect",showItemTooltip:true,size:1,items:minuteValues,bindings:{selectedItem:function(){if(this.parent.model){var W=this.parent.model.data.gnl.bss.tod.v;var V=W%60;return{n:""+V,v:V};}},visible:L,enabled:"this.parent.ebsCheck.checked && this.parent.model.data.gnl.bss.ui.v == 24"},onchange:function(){if(this.parent.hourSelect.selectedItem){var V=this.parent.hourSelect.selectedItem.v;this.parent.model.data.gnl.bss.tod.v=V*60+this.selectedItem.v;}}},{slot:"14,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9471),bindings:{checked:"this.parent.model.data.gnl.mns.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.mns.v=this.checked;}}},{slot:"15,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(7774),bindings:{checked:"this.parent.model.data.gnl.uas.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.uas.v=this.checked;}}},{slot:"16,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9062),bindings:{checked:"this.parent.model.data.gnl.plc.v===1"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.plc.v=(this.checked)?C.CACHE_PRELOAD_AUTO:C.CACHE_PRELOAD_OFF;}}},{slot:"17,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(7841),bindings:{checked:"this.parent.model.data.gnl.fc.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.fc.v=this.checked;}}},{slot:"18,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(7843),bindings:{checked:"this.parent.model.data.gnl.cc.v===2"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.cc.v=(this.checked)?C.CACHE_CLEAR_ONCLOSE:C.CACHE_CLEAR_AUTO;}}},{slot:"19,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8356),bindings:{checked:"this.parent.model.data.gnl.usc.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.usc.v=this.checked;}}},{slot:"20,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8357),bindings:{checked:"this.parent.model.data.gnl.usl.v",visible:R},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.usl.v=this.checked;}}},{slot:"21,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8358),bindings:{checked:"this.parent.model.data.gnl.usd.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.usd.v=this.checked;}}},{slot:"22,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9485),bindings:{checked:"this.parent.model.data.gnl.es.v",visible:L},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.es.v=this.checked;}}},{slot:"23,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8036),bindings:{checked:"this.parent.model.data.gnl.pn.v===1",visible:R},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.pn.v=(this.checked)?C.PUSH_NOTIFICATION_ON:C.PUSH_NOTIFICATION_OFF;}}},{slot:"24,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11829),bindings:{checked:"this.parent.model.data.gnl.bgd.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.bgd.v=this.checked;}}},{slot:"25,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11830),bindings:{visible:R},onvisibleChange:function(){if(this.parent.model&&this.parent.model.data.gnl.es){this.set("checked",this.parent.model.data.gnl.es.v&&this.parent.model.data.gnl.eps.v);this.parent.model.data.gnl.eps.v=this.checked;}},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.eps.v=this.checked;this.parent.model.data.gnl.es.v=this.parent.model.data.gnl.eps.v||this.parent.model.data.gnl.ea.v;}}},{slot:"26,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11831),bindings:{visible:R},onvisibleChange:function(){if(this.parent.model&&this.parent.model.data.gnl.es){this.set("checked",this.parent.model.data.gnl.es.v&&this.parent.model.data.gnl.ea.v);this.onclick();}},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.ea.v=this.checked;this.parent.model.data.gnl.es.v=this.parent.model.data.gnl.eps.v||this.parent.model.data.gnl.ea.v;}}},{slot:"27,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9063),bindings:{checked:"this.parent.model.data.gnl.dbpv.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.dbpv.v=this.checked;}}},{slot:"28,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9064),bindings:{checked:"this.parent.model.data.gnl.eopdf.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.eopdf.v=this.checked;}}},{slot:"29,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(10610),bindings:{checked:"this.parent.model.data.gnl.eaok.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.eaok.v=this.checked;}}},{slot:"30,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8300),bindings:{checked:"this.parent.model.data.gnl.ipe.v",visible:R},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.ipe.v=this.checked;}}},{slot:"31,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9443),bindings:{checked:"this.parent.model.data.gnl.uifs.v",visible:O},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.uifs.v=this.checked;}}},{slot:"32,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9439),visible:false,bindings:{checked:"this.parent.model.data.gnl.npc.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.npc.v=this.checked;}}},{slot:"33,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9484),bindings:{checked:"this.parent.model.data.gnl.scl.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.scl.v=this.checked;}}},{slot:"34,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11630),bindings:{checked:"this.parent.model.data.gnl.aul.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.aul.v=this.checked;}}},{slot:"35,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11631),bindings:{checked:"this.parent.model.data.gnl.ccl.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.ccl.v=this.checked;}}},{slot:"36,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9472),alias:"slmlcheck",bindings:{checked:"this.parent.model.data.gnl.slml.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.slml.v=this.checked;}}},{slot:"37,0",scriptClass:"mstrmojo.Label",cssText:"margin-left:19px",text:mstrmojo.desc(9441)},{slot:"37,1",scriptClass:"mstrmojo.TextBox",cssText:"width:200px;margin-left:3px",bindings:{enabled:"this.parent.slmlcheck.checked",value:"this.parent.model.data.gnl.lml.v"},onvalueChange:function(){var V=this.parent.model;if(V){V.data.gnl.lml.v=this.value;}}},{slot:"38,0",scriptClass:"mstrmojo.Label",cssText:"width: 200px",text:mstrmojo.desc(9483)+":",bindings:{visible:R}},{slot:"38,1",scriptClass:"mstrmojo.RadioButton",name:"nvr",alias:"nvr",label:mstrmojo.desc(63),bindings:{initValue:"this.parent.model.data.gnl.pe.v",visible:R},oninitValueChange:function(){if(this.initValue==-1){this.set("checked",true);this.parent.aftrTm.aftr.set("checked",false);}else{this.set("checked",false);this.parent.aftrTm.aftr.set("checked",true);var V=U(this.initValue);this.parent.aftrTm.inputTm.set("value",V.t);this.parent.aftrTm.set("tmUnit",V.u);}},onclick:function(){if(this.isChecked()){this.set("checked",true);this.parent.aftrTm.aftr.set("checked",false);if(this.parent.model){C.setValidValue(this.parent.model.data.gnl.pe,"v",-1);this.parent.model.validate();}}}},{slot:"39,1",scriptClass:"mstrmojo.HBox",cssText:"margin-bottom:8px",alias:"aftrTm",tmUnit:C.TIME_UNIT_DAYS,bindings:{visible:R},children:[{scriptClass:"mstrmojo.RadioButton",name:"aftr",alias:"aftr",label:mstrmojo.desc(7894),onclick:function(){if(this.isChecked()){this.set("checked",true);this.parent.parent.nvr.set("checked",false);}}},{scriptClass:"mstrmojo.ValidationTextBox",alias:"inputTm",cssText:"width:75px;margin-left:3px",bindings:{enabled:"this.parent.aftr.checked"},required:true,dtp:P.INTEGER,validateInput:function(V){if(V<0||V>99){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,99).replace(/##/,1));}},onenabledChange:function(){if(this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}},onValid:function(){if(this.parent.tmUnit){var V=F(this.value,this.parent.tmUnit);if(this.parent.parent.model){C.setValidValue(this.parent.parent.model.data.gnl.pe,"v",V);this.parent.parent.model.validate();}}},onInvalid:function(){if(this.parent.parent.model){delete this.parent.parent.model.data.gnl.pe.v;this.parent.parent.model.set("validFlag",false);}}},{scriptClass:"mstrmojo.SelectBox",alias:"unt",cssText:"width:70px;margin-left:8px",showItemTooltip:true,items:Q,size:1,bindings:{enabled:"this.parent.aftr.checked",selectedItem:"{v: this.parent.tmUnit}"},onchange:function(){this.parent.set("tmUnit",this.selectedItem.v);if(this.parent.tmUnit){var V=F(this.parent.inputTm.value,this.parent.tmUnit);if(this.parent.parent.model){C.setValidValue(this.parent.parent.model.data.gnl.pe,"v",V);this.parent.inputTm.validate();}}}}]},{slot:"40,0",scriptClass:"mstrmojo.Label",cssText:"width: 200px",text:mstrmojo.desc(8299)+":"},{slot:"40,1",scriptClass:"mstrmojo.RadioButton",name:"upCfg",alias:"uptcNvr",label:mstrmojo.desc(63),bindings:{initValue:"this.parent.model.data.gnl.uptc.v"},calTime:function(V){if(V%(24*60)===0){return{t:V/(24*60),u:C.TIME_UNIT_DAYS};}return{t:V/60,u:C.TIME_UNIT_HOURS};},oninitValueChange:function(){if(this.initValue==-1){this.set("checked",true);this.parent.uptcTm.vry.set("checked",false);}else{this.set("checked",false);this.parent.uptcTm.vry.set("checked",true);var V=this.calTime(this.initValue);this.parent.uptcTm.inputTm.set("value",V.t);this.parent.uptcTm.set("uptcUnit",V.u);}},onclick:function(){if(this.isChecked()){this.set("checked",true);this.parent.uptcTm.vry.set("checked",false);if(this.parent.model){C.setValidValue(this.parent.model.data.gnl.uptc,"v",-1);this.parent.model.validate();}}}},{slot:"41,1",scriptClass:"mstrmojo.HBox",cssText:"margin-bottom:8px",alias:"uptcTm",uptcUnit:C.TIME_UNIT_DAYS,calculatePe:function(W,V){var X=-1;switch(V){case C.TIME_UNIT_DAYS:X=W*24*60;break;case C.TIME_UNIT_MINUTES:X=W;break;case C.TIME_UNIT_HOURS:X=W*60;break;default:break;}return X;},children:[{scriptClass:"mstrmojo.RadioButton",name:"upCfg",alias:"vry",label:mstrmojo.desc(1320),onclick:function(){if(this.isChecked()){this.set("checked",true);this.parent.parent.uptcNvr.set("checked",false);}}},{scriptClass:"mstrmojo.ValidationTextBox",alias:"inputTm",cssText:"width:75px;margin-left:3px",bindings:{enabled:"this.parent.vry.checked"},required:true,dtp:P.INTEGER,validateInput:function(V){if(V<1||V>99){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,99).replace(/##/,1));}},onenabledChange:function(){if(this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}},onValid:function(){if(this.parent.uptcUnit){var V=this.parent.calculatePe(this.value,this.parent.uptcUnit);if(this.parent.parent.model){C.setValidValue(this.parent.parent.model.data.gnl.uptc,"v",V);this.parent.parent.model.validate();}}},onInvalid:function(){if(this.parent.parent.model){delete this.parent.parent.model.data.gnl.uptc.v;this.parent.parent.model.set("validFlag",false);}}},{scriptClass:"mstrmojo.SelectBox",alias:"uptcUnt",cssText:"width:70px;margin-left:8px",showItemTooltip:true,items:[{n:mstrmojo.desc(707),v:C.TIME_UNIT_DAYS},{n:mstrmojo.desc(708),v:C.TIME_UNIT_HOURS}],size:1,bindings:{enabled:"this.parent.vry.checked",selectedItem:"{v: this.parent.uptcUnit}"},onchange:function(){this.parent.set("uptcUnit",this.selectedItem.v);if(this.parent.uptcUnit){var V=this.parent.calculatePe(this.parent.inputTm.value,this.parent.uptcUnit);if(this.parent.parent.model){C.setValidValue(this.parent.parent.model.data.gnl.uptc,"v",V);this.parent.inputTm.validate();}}}}]},{slot:"42,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-Checkbox",label:mstrmojo.desc(8061),alias:"ucsCheck",bindings:{checked:"this.parent.model.data.gnl.ucs.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.ucs.v=this.checked;}}},{slot:"42,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"ucsInput",dtp:mstrmojo.expr.DTP.VARCHAR,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,regExp:new RegExp("^https://","i")},cssText:"width:200px;margin-left:3px",bindings:{enabled:"this.parent.ucsCheck.checked",initValue:"this.parent.model.data.gnl.cs.v"},oninitValueChange:function(W,V){if(!!this.initValue){this.set("value",this.initValue);}},onenabledChange:function(){if(this.hasRendered){this.required=this.enabled;if(!this.enabled){var V=this.parent.model;if(!!this.value){V.data.gnl.cs.v="";}this.clearValidation();V.set("validFlag",true);}else{if(this.value!=null){this.validate();}}}},onValid:function(){var V=this.parent.model;if(V){V.data.gnl.cs.v=this.value;V.set("validFlag",true);}},onInvalid:function(){var V=this.parent.model;if(V){V.set("validFlag",false);}}},{slot:"43,0",scriptClass:"mstrmojo.CheckBox",cssText:"margin-left:11px",label:mstrmojo.desc(9065),alias:"dwCheck",bindings:{enabled:"this.parent.ucsCheck.checked",checked:"this.parent.model.data.gnl.dw.v",visible:"this.parent.model.data.dt === 1 || this.parent.model.data.dt === 2"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.dw.v=this.checked;}}},{slot:"44,0",scriptClass:"mstrmojo.Label",cssText:"width: 200px",text:mstrmojo.desc(8285),bindings:{visible:R}},{slot:"44,1",scriptClass:"mstrmojo.HBox",bindings:{initValue:"this.parent.model.data.gnl.rar.v",visible:R},oninitValueChange:function(){var V=U(this.initValue);this.inputTm.set("value",V.t);this.unt.set("timeUnit",V.u);},children:[{scriptClass:"mstrmojo.ValidationTextBox",alias:"inputTm",cssText:"width:75px;margin-left:3px",required:true,dtp:P.INTEGER,validateInput:function(V){if(V<1||V>99){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,99).replace(/##/,1));}},onValid:function(){if(this.parent.unt.timeUnit){var W=F(this.value,this.parent.unt.timeUnit),V=this.parent.parent.model;if(V){C.setValidValue(V.data.gnl.rar,"v",W);V.validate();}}},onInvalid:function(){var V=this.parent.parent.model;if(V){delete V.data.gnl.rar.v;V.set("validFlag",false);}},bindings:{enabled:"!this.parent.parent.model.rpcs"}},{scriptClass:"mstrmojo.SelectBox",alias:"unt",cssText:"width:70px;margin-left:8px",showItemTooltip:true,items:Q,timeUnit:C.TIME_UNIT_MINUTES,bindings:{selectedItem:"{v: this.timeUnit}",enabled:"!this.parent.parent.model.rpcs"},size:1,onchange:function(){var V=this.parent.parent.model,W=this.parent.inputTm;if(this.timeUnit){this.set("timeUnit",this.selectedItem.v);var X=F(W.value,this.timeUnit);if(V){C.setValidValue(V.data.gnl.rar,"v",X);W.validate();}}}}]},{scriptClass:"mstrmojo.FieldSet",slot:"45,0",legend:mstrmojo.desc(9278),cssClass:"greyBorder",cssText:"margin:8px 0px 0px 0px;width:100%",bindings:{visible:L,model:B},children:[{scriptClass:"mstrmojo.Table",cssText:"width: 100%; margin-top: 8px;",bindings:M,layout:[{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],children:[{slot:"0,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-Checkbox",label:mstrmojo.desc(9044),alias:"mapCheck",bindings:{model:B,checked:"this.parent.parent.model.data.gnl.gme.v"},onclick:function(){if(this.model){C.setValidValue(this.model.data.gnl.gme,"v",this.checked);}this.set("checked",this.checked);var V=this.parent.children[1].children[0].gmkInput;V.required=this.checked;V.validate();}},{scriptClass:"mstrmojo.FieldSet",slot:"1,0",cssClass:"mstrmojo-FieldSet-noborder",cssText:"margin: 0 0 8px 16px;width:100%",bindings:M,children:[{scriptClass:"mstrmojo.Table",cssText:"width: 100%",bindings:M,layout:[{cells:[{},{colSpan:2}]},{cells:[{colSpan:3}]},{cells:[{},{colSpan:2}]}],children:[{slot:"0,0",scriptClass:"mstrmojo.Label",cssText:"width: 145px",text:mstrmojo.desc(9045)},{slot:"0,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"gmkInput",dtp:mstrmojo.expr.DTP.VARCHAR,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,min:1},required:true,cssText:"width:200px;margin-left:3px",bindings:{model:B,initValue:"this.parent.model.data.gnl.gmk.v",enabled:"this.parent.parent.parent.mapCheck.checked"},oninitValueChange:function(W,V){if(!!this.initValue){this.set("value",this.initValue);}},onValid:function(){var V=this.model;if(V){V.data.gnl.gmk.v=this.value;V.set("validFlag",true);}},onInvalid:function(){var V=this.model;if(V){V.set("validFlag",false);}}},{slot:"1,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-Checkbox",label:mstrmojo.desc(9290),alias:"premCheck",bindings:{model:B,checked:"this.model.data.gnl.gmpk.v",enabled:"this.parent.parent.parent.mapCheck.checked"},onclick:function(){if(this.model){C.setValidValue(this.model.data.gnl.gmpk,"v",this.checked);}this.set("checked",this.checked);}},{slot:"2,0",scriptClass:"mstrmojo.Label",cssText:"width: 100px",text:mstrmojo.desc(9291)},{slot:"2,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"gmuInput",dtp:mstrmojo.expr.DTP.VARCHAR,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,regExp:new RegExp("^https?://","i")},cssText:"width:200px;margin-left:3px",bindings:{model:B,initValue:"this.parent.model.data.gnl.gmu.v",enabled:"this.parent.premCheck.checked && this.parent.parent.parent.mapCheck.checked"},oninitValueChange:function(W,V){if(!!this.initValue){this.set("value",this.initValue);}},onValid:function(){var V=this.model;if(V){V.data.gnl.gmu.v=this.value;V.set("validFlag",true);}},onInvalid:function(){var V=this.model;if(V){V.set("validFlag",false);}}}]}]}]}]},{scriptClass:"mstrmojo.FieldSet",slot:"46,0",cssClass:"greyBorder",cssText:"margin:8px 0px 0px 0px;width:100%",bindings:{legend:function(){return(this.parent.model.data.dt==3||this.parent.model.data.dt==4)?mstrmojo.desc(8415):mstrmojo.desc(11236);}},children:[{scriptClass:"mstrmojo.Table",cssText:"width: 100%",bindings:{m:"this.parent.parent.model"},layout:[{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]}],children:[{alias:"rpc",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",slot:"0,0",bindings:{checked:"!this.parent.m.data.gnl.dtm.v",label:function(){return(this.parent.m.data.dt==3||this.parent.m.data.dt==4)?mstrmojo.desc(8506):mstrmojo.desc(11237);}},onclick:function(){if(this.parent.m){C.setValidValue(this.parent.m.data.gnl.dtm,"v",!this.checked);}this.set("checked",this.checked);this.parent.m.set("rpcs",this.checked);}},{scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11449),slot:"1,0",bindings:{checked:"this.parent.m.data.gnl.drld.v",enabled:"this.parent.rpc.checked"},onclick:function(){if(this.parent.m){C.setValidValue(this.parent.m.data.gnl.drld,"v",this.checked);}}},{scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8507),slot:"2,0",bindings:{checked:"this.parent.m.data.gnl.drn.v",enabled:"this.parent.rpc.checked"},onclick:function(){if(this.parent.m){C.setValidValue(this.parent.m.data.gnl.drn,"v",this.checked);}}},{scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8508)+"( $, @, % ...)",slot:"3,0",bindings:{checked:"this.parent.m.data.gnl.drsc.v",enabled:"this.parent.rpc.checked"},onclick:function(){if(this.parent.m){C.setValidValue(this.parent.m.data.gnl.drsc,"v",this.checked);}}},{scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8509),slot:"4,0",bindings:{checked:"this.parent.m.data.gnl.drcl.v",enabled:"this.parent.rpc.checked"},onclick:function(){if(this.parent.m){C.setValidValue(this.parent.m.data.gnl.drcl,"v",this.checked);}}},C.propertyName(mstrmojo.desc(8420),"5,0"),{slot:"5,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox passcode",required:true,dtp:P.INTEGER,constraints:{trigger:I.ALL,min:4,max:Number.MAX_VALUE},bindings:{value:"this.parent.m.data.gnl.dcn.v",enabled:"this.parent.rpc.checked"},onValid:function(){C.setValidValue(this.parent.m.data.gnl.dcn,"v",this.value);this.parent.m.validate();},onInvalid:function(){if(this.parent.m){delete this.parent.m.data.gnl.dcn.v;this.parent.m.set("validFlag",false);}}},C.propertyName(mstrmojo.desc(8423),"5,2","margin-left:4px"),C.propertyName(mstrmojo.desc(8421),"6,0"),{slot:"6,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox passcode",required:true,dtp:P.INTEGER,constraints:{trigger:I.ALL,min:1},bindings:{value:"this.parent.m.data.gnl.dmatp.v",enabled:"this.parent.rpc.checked"},onValid:function(){C.setValidValue(this.parent.m.data.gnl.dmatp,"v",this.value);this.parent.m.validate();},onInvalid:function(){if(this.parent.m){delete this.parent.m.data.gnl.dmatp.v;this.parent.m.set("validFlag",false);}}},C.propertyName(mstrmojo.desc(8422),"7,0"),{slot:"7,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox passcode",required:true,dtp:P.INTEGER,constraints:{trigger:I.ALL,min:0,max:10},bindings:{value:"this.parent.m.data.gnl.dd.v",enabled:"this.parent.rpc.checked"},onValid:function(){C.setValidValue(this.parent.m.data.gnl.dd,"v",this.value);this.parent.m.validate();},onInvalid:function(){if(this.parent.m){delete this.parent.m.data.gnl.dd.v;this.parent.m.set("validFlag",false);}}},C.propertyName(mstrmojo.desc(7773),"7,2","margin-left:4px"),{slot:"8,0",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(11238)},{slot:"8,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox passcode",required:true,dtp:P.INTEGER,constraints:{trigger:I.ALL,min:0},bindings:{value:"this.parent.m.data.gnl.dbwt.v",enabled:"this.parent.rpc.checked"},onValid:function(){C.setValidValue(this.parent.m.data.gnl.dbwt,"v",this.value);this.parent.m.validate();},onInvalid:function(){if(this.parent.m){delete this.parent.m.data.gnl.dbwt.v;this.parent.m.set("validFlag",false);}}},{slot:"8,2",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7773),cssText:"margin-left:4px"}]}]}]});})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.List","mstrmojo.Button","mstrmojo.color","mstrmojo.Model","mstrmojo.Table","mstrmojo._CanValidate","mstrmojo.ValidationTextBox");var H=mstrmojo.color;function I(U,Q,M,N,T,L,P,S){var R={target:Q,onEnd:function(){if(L){L();}},props:{}};R.props[M]={ease:P,start:parseInt(N,10),stop:parseInt(T,10),suffix:"px"};R=mstrmojo.hash.copy(S,R);var O=new mstrmojo.fx.AnimateProp(R);O.play();}var B=function(P){if(P===null){return ;}var O=mstrmojo.locales.color.userPalette;var L=O.length;if(L==8){O.remove(L-1,1);}O.add([{n:P,v:P}],0);var M="";for(var N=0;N<8;N++){if(O[N]&&O[N].v){M+=O[N].v+",";}}M=M.replace(/,$/,"");mstrmojo.xhr.request("GET",mstrConfig.taskURL,{success:function(Q){},failure:function(Q){mstrmojo.alert(Q.getResponseHeader("X-MSTR-TaskFailureMsg"));}},{taskId:"setPreference",prefs:"userPalette\u001E"+M});};var J=function(L,M,N){return{scriptClass:"mstrmojo.Label",text:L+":",cssClass:M,slot:N};};var E=function(L,O,N,M){return mstrmojo.hash.copy(M||{},{scriptClass:"mstrmojo.ValidationTextBox",cssDisplay:"block",cssText:"padding: "+(mstrmojo.dom.isIE7?"0":"1px"),bindings:{value:function(){return this.parent.parent.colorModel[N]||"0";}},onValid:function(){this.parent.parent.colorModel.set(N,this.value);},min:0,max:255,constraints:{trigger:mstrmojo.validation.TRIGGER.ONKEYUP,validator:function(Q){var R=this.min,P=this.max;Q=parseInt(Q,10);if(Q>=R&&Q<=P){return{code:mstrmojo.validation.STATUSCODE.VALID};}else{return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:mstrmojo.desc(7883).replace("##",R).replace("###",P)};}}},slot:O});};var G=function(L){return mstrmojo.hash.copy({scriptClass:"mstrmojo.Slider",alias:L+"Slider",cssClass:"sc "+L,isHoriz:true,width:130,cssBkBW:0,items:[],getItemTooltip:function(){return this.items[this.min].n;},postCreate:function(){for(var M=0;M<{r:256,g:256,b:256,s:101,v:101,h:360}[L];M++){this.items.push({n:M,v:M});}},bindings:{selectedIndex:function(){return this.parent.parent.colorModel[L]||"0";}},onselectedIndexChange:function(){this.parent.parent.colorModel.set(L,this.selectedIndex);if(this.domNode){this.min=this.max=this.selectedIndex;this.typeHelper.updateThumb();}},select:function(M){this.set("selectedIndex",M);},slot:"1,3"});};var A=function(M,L,N){return'<div mstridx="'+L+'" class="mstrmojo-ColorPicker-item '+N.itemCssClas+'" style="background-color:'+M.v+';" type="button" title="'+M.n+'"></div>';};var D=mstrmojo.hash.copy({findIndex:function(L,N,M){return M.getAttribute("mstridx")||-1;}},mstrmojo.hash.copy(mstrmojo.ListMapper));var F=function(L,M){return mstrmojo.hash.copy(M,{scriptClass:"mstrmojo.List",cssClass:"mstrmojo-ColorPicker-list",itemMarkupFunction:A,listMapper:D,onchange:null,_onchange:function(){this.set("selectedColor",this.selectedItem.v);L.set("selectedColor",this.selectedItem.v);if((L.isSimple||!L.expanded)&&L.onChange){L.onChange();}},onselectedColorChange:function(){L.colorModel.set("hex",this.selectedColor);}});};mstrmojo.ColorPicker=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.ColorPicker",markupString:'<div id={@id} class="mstrmojo-ColorPicker {@cssClass} {@shadowCssClass}" style="height:{@height}; width:{@width};{@cssText}"><div class="mstrmojo-ColorPicker-box"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";},onexpandedChange:function(L){this.domNode.className=this.domNode.className.replace(/ expanded/,"")+(this.expanded?" expanded":"");}},useAnimate:true,useShadow:true,isSimple:false,showNoColor:true,showMoreColors:true,showGradients:true,showUserPalette:true,height:"168px",fullHeight:"326px",width:"158px",fullWidth:"366x",expanded:false,onexpandedChange:function(M){var P=this.domNode,L=parseInt(this.height,10),O=parseInt(this.width,10),N=parseInt(this.fullHeight,10),Q=Math.max(parseInt(this.fullWidth,10),P.scrollWidth);if(this.useAnimate!=false){if(M.value){I(true,P,"width",O,Q);I(true,P,"height",L,N);}else{I(true,P,"width",Q,O);I(true,P,"height",N,L);}}else{if(M.value){P.style.width=Q+"px";P.style.height=N+"px";}else{P.style.width=O+"px";P.style.height=L+"px";}}},selectedColor:null,onChange:null,_updateSelection:function(M){var N=(this.isSimple)?this:this.layout.cp;if(M){var L=mstrmojo.array.find(N.basicColors.items,"v",M);if(L>-1){N.basicColors.set("selectedIndex",L);}else{L=mstrmojo.array.find(N.userPalette.items,"v",M);if(L>-1){N.userPalette.set("selectedIndex",L);}}}},visible:false,onvisibleChange:function(){if(this.visible){this.selectedColor=this.selectedColor&&this.selectedColor.replace(/transparent/,"#FFFFFF")||"#FFFFFF";this.colorModel.set("hex",this.selectedColor);this._updateSelection(this.selectedColor);}},onselectedColorChange:function(){this._updateSelection(this.selectedColor);},init:function(L){var M=this;this.colorModel=new mstrmojo.Model({h:0,s:0,v:100,_hsvChange:function(O){this.hex="#"+H.hsv2hex(this.h,this.s,this.v);var N=H.hsv2rgb(this.h,this.s,this.v);this.r=N[0];this.g=N[1];this.b=N[2];M.set("colorModel",mstrmojo.hash.copy(this,{}));},_rgbChange:function(O){this.hex="#"+H.rgb2hex(this.r,this.g,this.b);var N=H.rgb2hsv(this.r,this.g,this.b);this.h=N[0];this.s=N[1];this.v=N[2];M.set("colorModel",mstrmojo.hash.copy(this,{}));},onhChange:function(){this._hsvChange(this.s!==0);},onsChange:function(){this._hsvChange(false);},onvChange:function(){this._hsvChange(false);},onrChange:function(){this._rgbChange();},ongChange:function(){this._rgbChange();},onbChange:function(){this._rgbChange();},onhexChange:function(){var O=H.hex2rgb(this.hex);this.r=O[0];this.g=O[1];this.b=O[2];var N=H.hex2hsv(this.hex);this.h=N[0];this.s=N[1];this.v=N[2];M.set("colorModel",mstrmojo.hash.copy(this,{}));}});this._super(L);},postBuildRendering:function(){if(this._super){this._super();}this.colorModel.set("hex",this.selectedColor||"#FFFFFF");this.colorModel.set("s",50);},preBuildRendering:function(){if(this._super){this._super();}var O=this.isSimple?100:124;if(this.showNoColor){O+=20;}if(this.showUserPalette){O+=25;}this.height=O+"px";if(this.isSimple){this.width="155px";}this.shadowCssClass=this.useShadow?"shadow":"";var P=this,L={scriptClass:"mstrmojo.Button",cssClass:"nocolor",text:mstrmojo.desc(959,"Default"),visible:this.showNoColor,onclick:function(){P.set("selectedColor","transparent");if(P.onChange){P.onChange();}}},N=F(this,{alias:"basicColors",items:mstrmojo.locales.color.colors,onchange:function(){if(this.selectedIndex>-1){this.parent.userPalette.set("selectedIndex",-1);this._onchange();}}}),Q=F(this,{alias:"userPalette",cssClass:"mstrmojo-ColorPicker-list userPalette",makeObservable:true,visible:this.showUserPalette,bindings:{items:function(){return P.showUserPalette!=false?mstrmojo.locales.color.userPalette:[];}},onchange:function(){if(P.visible){if(this.selectedIndex>-1){this.parent.basicColors.set("selectedIndex",-1);this._onchange();}}},onadd:function(){this.refresh();if(P.visible){this.parent.basicColors.set("selectedIndex",-1);this.set("selectedIndex",0);}}});if(this.isSimple){if(this.showNoColor){this.addChildren(L,0);}this.addChildren(N);this.addChildren(Q);return ;}var M={scriptClass:"mstrmojo.Table",alias:"layout",rows:2,cols:5,layout:[{cells:[{colSpan:2},{colSpan:2},{}]},{cells:[{},{},{},{},{}]}],children:[{scriptClass:"mstrmojo.VBox",cssClass:"mstrmojo-ColorPicker-palette shadow",alias:"cp",children:[L,N,Q],slot:"0,0"},{scriptClass:"mstrmojo.Container",cssClass:"sbSlider",markupString:'<div class="{@cssClass}" style="position:relative; {@cssText}" mstrAttach:click,mouseover,mousemove,mousedown,mouseup,mouseout><div class="sbThumb"></div></div>',markupSlots:{containerNode:function(){return this.domNode;},thumbNode:function(){return this.domNode.firstChild;}},markupMethods:{onbgColorChange:function(){this.domNode.style.backgroundColor=this.bgColor;}},hex:null,bindings:{hex:"this.parent.parent.colorModel.hex",bgColor:function(){return"#"+H.hsv2hex(this.parent.parent.colorModel.h,100,100);}},onhexChange:function(){if(this.domNode){this.thumbNode.style.left=this.parent.parent.colorModel.s/100*160-3+"px";this.thumbNode.style.top=(1-this.parent.parent.colorModel.v/100)*160-3+"px";}},onmousedown:function(R){var T=this.domNode.getBoundingClientRect();this.mouseX0=T.left;this.mouseY0=T.top;this.onmousemove=this._update;var S=this;this.onmouseup=function(U){S.onmousemove=null;mstrmojo.dom.detachEvent(document.body,"mouseup",S.onmouseup);};mstrmojo.dom.attachEvent(document.body,"mouseup",this.onmouseup);},onclick:function(R){this._update(R);},_update:function(R){var U={x:R.e.clientX,y:R.e.clientY},T=Math.min(Math.max(0,U.x-this.mouseX0),160),S=Math.min(Math.max(0,U.y-this.mouseY0),160);this.thumbNode.style.left=(T-3)+"px";this.thumbNode.style.top=(S-3)+"px";this.parent.parent.colorModel.s=Math.floor(100*T/160);this.parent.parent.colorModel.set("v",Math.floor(100*(1-S/160)));},slot:"0,1"},{scriptClass:"mstrmojo.Container",cssClass:"hueSlider",markupString:'<div class="{@cssClass}" style="position:relative; {@cssText}" mstrAttach:click,mouseover,mousedown,mouseup,mousemove,mouseout><div class="hThumb"></div></div>',markupSlots:{containerNode:function(){return this.domNode;},thumbNode:function(){return this.domNode.firstChild;}},bindings:{hex:"this.parent.parent.colorModel.hex",h:"this.parent.parent.colorModel.h"},onhexChange:function(){this._moveThumb();},onhChange:function(){this._moveThumb();},_moveThumb:function(){if(this.thumbNode){this.thumbNode.style.top=(1-this.parent.parent.colorModel.h/360)*160-1+"px";}},onmousedown:function(R){this.mouseY0=this.domNode.getBoundingClientRect().top;this.onmousemove=this._update;var S=this;this.onmouseup=function(T){S.onmousemove=null;mstrmojo.dom.detachEvent(document.body,"mouseup",S.onmouseup);};mstrmojo.dom.attachEvent(document.body,"mouseup",S.onmouseup);},onclick:function(R){this._update(R);},_update:function(R){var T={x:R.e.clientX,y:R.e.clientY},S=Math.min(Math.max(0,T.y-this.mouseY0),160);this.thumbNode.style.top=(S-1)+"px";this.parent.parent.colorModel.set("h",Math.max(0,Math.floor(360*(1-S/160))));},slot:"0,2"},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-ColorPicker-preview",markupMethods:{onbgColorChange:function(){this.domNode.style.backgroundColor=this.bgColor;}},bindings:{bgColor:"this.parent.parent.colorModel.hex"},onclick:function(){if(P.showUserPalette){B(this.bgColor);}},slot:"1,0"},J(mstrmojo.desc(7848),"Hex","1,0"),E(mstrmojo.desc(7848),"1,0","hex",{cssClass:"hex",cssDisplay:"block",inputNodeCssClass:"hex",dtp:25,constraints:{trigger:mstrmojo.validation.TRIGGER.ONKEYUP,validator:function(R){if(/^#[0-9a-fA-F]{6}$/.test(R)){return{code:mstrmojo.validation.STATUSCODE.VALID};}else{return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:mstrmojo.desc(7882)};}}}}),J(mstrmojo.desc(3604),"Red","1,1"),J(mstrmojo.desc(3606),"Green","1,1"),J(mstrmojo.desc(3608),"Blue","1,1"),J(mstrmojo.desc(3605),"Hue","1,1"),J(mstrmojo.desc(3607),"Saturation","1,1"),J(mstrmojo.desc(3609),"Brightness","1,1"),E(mstrmojo.desc(3604),"1,2","r"),G("r"),E(mstrmojo.desc(3606),"1,2","g"),G("g"),E(mstrmojo.desc(3608),"1,2","b"),G("b"),E(mstrmojo.desc(3695),"1,2","h",{cssClass:"h",max:360}),G("h"),E(mstrmojo.desc(3607),"1,2","s",{max:100}),G("s"),E(mstrmojo.desc(3609),"1,2","v",{max:100}),G("v")]};if(this.showMoreColors){M.children.push({scriptClass:"mstrmojo.Button",cssClass:"more",alias:"more",title:mstrmojo.desc(7833),onclick:function(){var R=this.parent.parent;R.set("expanded",!R.expanded);this.domNode.setAttribute("title",R.expanded?mstrmojo.desc(7834):mstrmojo.desc(7833));this.domNode.className=R.expanded?"less":"more";},slot:"0,0"});}if(this.showGradients){M.children.push({scriptClass:"mstrmojo.Button",alias:"showGradients",cssClass:"ge",text:mstrmojo.desc(4786,"Gradients..."),title:mstrmojo.desc(7970,"Open Graident Editor"),onclick:function(){var R=this.parent.parent;R.set("show",false);R.parent.ge.set("show",true);},slot:"0,0"});}this.addChildren(M);this.addChildren({scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-ColorPicker-buttonBar",children:[new mstrmojo.Button.newInteractiveButton(mstrmojo.desc(1442),function(){var R=this.parent.parent;if(!R.useAnimate){R.set("visible",false);}var S=R.colorModel.hex;if(R.showUserPalette){B(S);}R.set("selectedColor",S);if(R.onOK){R.onOK();}},"#999",{alias:"ok",cssClass:"mstrmojo-Editor-button"}),new mstrmojo.Button.newInteractiveButton(mstrmojo.desc(221),function(){var R=this.parent.parent;if(!R.useAnimate){R.set("visible",false);}if(R.onCancel){R.onCancel();}},"#999",{alias:"cancel",cssClass:"mstrmojo-Editor-button"})]});}});var K={scriptClass:"mstrmojo.Popup",slot:"popupNode",contentNodeCssClass:"mstrmojo-ColorPicker-popup-content",autoCloses:false,locksHover:true,onOpen:function(){this.colorPicker.set("selectedColor",this.opener.fillColor);var M=this;var L=function(){M.lastOpener=M.lastOpener||M.opener;if(M.opener!==M.lastOpener){M.opener.popupNode.appendChild(M.lastOpener.popupRef.domNode);M.lastOpener=M.opener;}M.colorPicker.set("show",true);};window.setTimeout(function(){L();},100);},onClose:function(){this.colorPicker.set("show",false);if(this.ge){this.ge.set("show",false);}},postCreate:function(){this.markupMethods=mstrmojo.hash.copy(this.markupMethods);this.markupMethods.onvisibleChange=null;},preBuildRendering:function(){if(this.showGradients||this.colorPicker.showGradients){this.addChildren(this.gradientRef);}},gradientRef:{scriptClass:"mstrmojo.GradientEditor",alias:"ge",cssText:"height:0; display:none; position:absolute; z-index: 4;",left:"0px",top:"0px",visible:false,showTitle:false,height:240,_resizeHandler:function(){},onOK:function(){this.parent.opener.set("gradient",this.gradient);this.parent.opener.set("gradientCss",this.gradient.css);this.set("show",false);},onCancel:function(){this.set("show",false);},onshowChange:function(N){var M=N.value,L=parseInt(this.height,10);var Q=this.domNode.firstChild;if(M){this.set("model",this.parent.opener.gradient);Q.style.display="block";}if(this.useAnimate!=false){var R=M?0:L,O=L-R,P=this;Q.style.overflow="hidden";if(M){Q.style.display="block";}I(N.value,Q,"height",R,O,function(){if(!M){Q.style.display="none";var S=P.parent.opener;if(S){S.closePopup();}}else{Q.style.overflow="visible";}});}else{Q.style.height=M?L+"px":0;Q.style.display=M?"block":"none";}},postCreate:function(){this.bindings={useAnimate:"this.parent.opener.useAnimate"};}},children:[{scriptClass:"mstrmojo.ColorPicker",alias:"colorPicker",onChange:function(){if(!this.parent.opener){return ;}this.parent.opener.set("fillColor",this.selectedColor);this.set("show",false);this.parent.opener.closePopup();},onOK:function(){this.onApply();this._closePopup();},onApply:function(){this.parent.opener.set("fillColor",this.selectedColor);},onCancel:function(){this._closePopup();},_closePopup:function(){this.set("show",false);if(!this.showGradients||!this.parent.ge||this.parent.ge&&!this.parent.ge.show){this.parent.opener.closePopup();}},show:false,onEnd:function(){this.set("visible",this.show);},onshowChange:function(){var L=parseInt(this.expanded?this.fullHeight:this.height,10);if(this.useAnimate!=false){var P=this.show?0:L,N=L-P,O=this,M=(!this.show?function(){O.onEnd();}:null);if(this.show){this.set("visible",true);}I(this.show,this.domNode,"height",P,N,M);}else{this.set("visible",this.show);this.domNode.style.height=L+"px";}},postCreate:function(){this.bindings={showUserPalette:function(){return this.parent.opener?this.parent.opener.showUserPalette:this.showUserPalette;},useAnimate:function(){return this.parent.opener?this.parent.opener.useAnimate:this.useAnimate;},isSimple:function(){return this.parent.opener?this.parent.opener.isSimple:this.isSimple;},showGradients:function(){return this.parent.opener?this.parent.opener.showGradients:this.showGradients;},showNoColor:function(){return this.parent.opener?this.parent.opener.showNoColor:this.showNoColor;}};}}]};mstrmojo.colorPickerPopupRef=mstrmojo.insert(K);mstrmojo.simpleColorPickerPopupRef=mstrmojo.insert(mstrmojo.hash.copy({isSimple:true},mstrmojo.hash.copy(K)));mstrmojo.gradientColorPickerPopupRef=mstrmojo.insert(mstrmojo.hash.copy({showGradients:true},mstrmojo.hash.copy(K)));mstrmojo.ColorPicker.createDropDown=function C(N,M){N=N||{};var L=mstrmojo.colorPickerPopupRef;if(M){if(M.isSimple){L=mstrmojo.simpleColorPickerPopupRef;N.isSimple=M.isSimple;}else{if(M.showGradients){L=mstrmojo.gradientColorPickerPopupRef;N.showGradients=M.showGradients;}}}else{if(N){if(N.isSimple){L=mstrmojo.simpleColorPickerPopupRef;}else{if(N.showGradients){L=mstrmojo.gradientColorPickerPopupRef;}}}}return mstrmojo.hash.copy(N,{scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-ColorPicker-DropDownButton",markupMethods:{onfillColorChange:function(){if(this.boxNode&&this.fillColor){this.boxNode.style.cssText="background-color: "+this.fillColor;this.gradient=null;this.gradientCss=null;}},ongradientCssChange:function(){if(this.boxNode&&this.gradientCss){this.boxNode.style.cssText=this.gradientCss;this.fillColor=null;}}},popupRef:L,showUserPalette:true,useAnimate:true,showGradients:false,isSimple:false});};})();(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.fx","mstrmojo.Dialog","mstrmojo._IsPopup","mstrmojo._HasPopup","mstrmojo._IsMovable");var D=mstrmojo.dom;mstrmojo.Editor=mstrmojo.declare(mstrmojo.Dialog,[mstrmojo._IsPopup,mstrmojo._HasPopup,mstrmojo._IsMovable],{scriptClass:"mstrmojo.Editor",title:"",help:"",autoClose:false,showTitle:true,openEffect:null,closeEffect:null,markupString:'<div id="{@id}" class="mstrmojo-Editor-wrapper"><div class="mstrmojo-Editor {@cssClass}" style="z-index:{@zIndex};{@cssText}" mstrAttach:mousedown>{@titlebarHTML}<div class="mstrmojo-Editor-content"></div><div class="mstrmojo-Editor-buttons"></div></div><div class="mstrmojo-Editor-curtain"></div></div>',titleMarkupString:'<div style="position:absolute;width:100%;"><table cellspacing="0" cellpadding="0" class="mstrmojo-Editor-titlebar"><tr><td class="mstrmojo-Editor-titleCell"><div class="mstrmojo-Editor-title"></div></td><td><a href="#" target="_new" class="mstrmojo-Editor-help"><img class="mstrmojo-Editor-help" src="../images/1ptrans.gif" title="'+mstrmojo.desc(1143,"help")+'"></img></a></td><td><div class="mstrmojo-Editor-close" title="'+mstrmojo.desc(2102,"Close")+'"></div></td></tr></table></div><div class="mstrmojo-Editor-titleSpacer"></div>',markupSlots:{editorNode:function(){return this.domNode.firstChild;},titlebarNode:function(){return this.showTitle?this.domNode.firstChild.firstChild.firstChild:null;},titleNode:function(){return this.showTitle?this.domNode.firstChild.firstChild.firstChild.rows[0].cells[0].firstChild:null;},helpNode:function(){return this.showTitle?this.domNode.firstChild.firstChild.firstChild.rows[0].cells[1].firstChild:null;},closeNode:function(){return this.showTitle?this.domNode.firstChild.firstChild.firstChild.rows[0].cells[2].firstChild:null;},containerNode:function(){return this.domNode.firstChild.childNodes[2];},buttonNode:function(){return this.domNode.firstChild.childNodes[3];},curtainNode:function(){return this.domNode.lastChild;}},markupMethods:{ontitleChange:function(){if(this.showTitle){this.titleNode.innerHTML=this.title;}},onzIndexChange:function(){var G=this.zIndex;this.editorNode.style.zIndex=G;this.curtainNode.style.zIndex=G-1;},onvisibleChange:function(J){if(J){return ;}var G=this.visible,H="closeEffect",I="none";if(G){H="openEffect";I="block";}if(this[H]){this.playEffect(H);}else{this.editorNode.style.display=I;if(this.modal){this.curtainNode.style.display=I;}}},onhelpChange:function(){if(this.showTitle){if(this.help===null){this.helpNode.style.display="none";}this.helpNode.href=(mstrApp.helpUrl||"../help/")+"WebUser/WebHelp/Lang_"+(mstrApp.helpLocaleId?mstrApp.helpLocaleId:mstrApp.localeId)+"/"+(mstrApp.userHelpPage||"MicroStrategy_Web_Help.htm")+"#"+(this.help||"");}},onleftChange:function(){this.editorNode.style.left=this.left||"";},ontopChange:function(){this.editorNode.style.top=this.top||"";}},preBuildRendering:function C(){if(!this.slot&&!this.placeholder){this.placeholder=document.body.appendChild(document.createElement("div"));this._curtain_to_body=true;}this.titlebarHTML=(this.showTitle)?this.titleMarkupString:"<div></div><div></div>";return this._super();},getMovingHandle:function E(){return this.titlebarNode;},getMovingTarget:function F(){return this.editorNode;},onPreClose:function(){return true;},premousedown:function B(G){var H=D.eventTarget(G.hWin,G.e);if(H===this.closeNode){if(this.onPreClose()){this.close();}}},_set_visible:function A(L,I){var H=(this[L]!==I);if(H){this[L]=I;var K=this._close_handler;if(I){if(this._curtain_to_body){this.resizeDialog();this.positionDialog();}if(this.autoClose){var J=this;K=this._close_handler=K||function(M){var N=D.eventTarget(self,M);if(N&&N.parentNode&&!D.contains(J.editorNode,N,true,document.body)){J.close();}};D.attachEvent(document.body,"mousedown",K);}}else{var G=this._curtain_handler;if(G){D.detachEvent(window,"resize",G);}if(K){D.detachEvent(document.body,"mousedown",K);}}}return H;}});mstrmojo.Editor.openEffect_fadeIn={scriptClass:"mstrmojo.fx.AnimateProp",slot:"curtainNode",props:{backgroundColor:{start:255,stop:0,fn:function(G){G=Math.round(G);return["rgb(",G,",",G,",",G,")"].join("");}}},preStart:function(){var H=this.target,G=this.widget;G.editorNode.style.display="block";if(!G.modal){return false;}H.style.display="block";mstrmojo.css.setOpacity(H,60);return true;}};mstrmojo.Editor.closeEffect_fadeOut={scriptClass:"mstrmojo.fx.FadeOut",slot:"curtainNode",start:0.6,stop:0,preStart:function(){var G=this.widget;G.editorNode.style.display="none";return !!G.modal;}};}());(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.ColorPicker","mstrmojo.List","mstrmojo.Label","mstrmojo.css");var D={"0":[mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"0;"+mstrmojo.desc(4885,"X Offset:")+"0;"+mstrmojo.desc(4886,"Y Offset:")+"0",mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"0;"+mstrmojo.desc(4885,"X Offset:")+"0;"+mstrmojo.desc(4886,"Y Offset:")+"100",mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"0;"+mstrmojo.desc(4885,"X Offset:")+"50;"+mstrmojo.desc(4886,"Y Offset:")+"50;"+mstrmojo.desc(4875,"(Flash Only)")],"90":[mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"90;"+mstrmojo.desc(4885,"X Offset:")+"0;"+mstrmojo.desc(4886,"Y Offset:")+"0",mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"90;"+mstrmojo.desc(4885,"X Offset:")+"100;"+mstrmojo.desc(4886,"Y Offset:")+"0",mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"90;"+mstrmojo.desc(4885,"X Offset:")+"50;"+mstrmojo.desc(4886,"Y Offset:")+"50;"+mstrmojo.desc(4875,"(Flash Only)")]};var C={"0":[{x:0,y:0},{x:100,y:0},{x:50,y:0}],"90":[{x:0,y:0},{x:0,y:100},{x:0,y:50}]};function A(H,G){return mstrmojo.ColorPicker.createDropDown(mstrmojo.hash.copy(H,{onfillColorChange:function(){if(this.boxNode){this.boxNode.style.backgroundColor=this.fillColor;}this.parent.parent.parent.geModel.set((G===0?"FillColor":"GradientColor"),this.fillColor);},bindings:{fillColor:function(){return this.parent.parent.parent.geModel[["FillColor","GradientColor"][G]];}}}));}function F(H,J){var G={"20":" half t","21":" half l","30":" half b","31":" half r"};var I=H==3?H-1:H;return mstrmojo.hash.copy(J,{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-GradientEditor-preview p"+H,alias:"p"+H,bindings:{cssText:function(){var N=this.parent.parent.parent.geModel;if(N){var L=this.parent.parent.parent.geModel.FillColor,K=this.parent.parent.parent.geModel.GradientColor,P=this.parent.parent.parent.geModel.GradientAngle,M=P==90?0:1,O=(H==1||H==2)?mstrmojo.css.buildGradient(M,K,L):mstrmojo.css.buildGradient(M,L,K);if(H>=2){this.domNode.className=this.cssClass+G[H+""+M];}this.domNode.title=D[P][I];N.css=O.n+":"+O.v;return N.css;}}},onclick:function(){var K=this.parent.parent.parent.geModel,L=C[K.GradientAngle][I];K.set("GradientXOffset",L.x);K.set("GradientYOffset",L.y);}});}var E=function(G){var K=G.shade.preview.preview_bg.variantIndex;var L=["FillStyle","FillColor","GradientColor","GradientXOffset","GradientYOffset","GradientAngle"],J=G.geModel,I={};for(var H in L){if(typeof (J[L[H]])!="undefined"){I[L[H]]=J[L[H]];}}I.css=G.shade.preview["p"+(K==2?0:K)].cssText;G.set("gradient",I);};var B={GradientXOffset:0,GradientYOffset:0,GradientAngle:0,FillColor:"#FFFFFF",GradientColor:"#000000"};mstrmojo.GradientEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.GradientEditor",useShadow:true,title:mstrmojo.desc(7971,"Gradient Editor"),model:null,onOK:null,onCancel:null,onmodelChange:function(){this.set("geModel",mstrmojo.hash.make(this.model||B,mstrmojo.Obj));},init:function(G){this._super(G);this.shadowCssClass=this.useShadow?"shadow":"";this.cssClass="mstrmojo-GradientEditor "+this.cssClass;},postBuildRendering:function(){if(this._super){this._super();}this.set("geModel",mstrmojo.hash.make(B,mstrmojo.Obj));},children:[{scriptClass:"mstrmojo.FieldSet",alias:"color",cssClass:"color",legend:mstrmojo.desc(4880,"Colors"),children:[{scriptClass:"mstrmojo.Table",rows:2,cols:2,children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(4881,"Color 1"),slot:"0,0"},A({slot:"0,1"},0),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(4882,"Color 2"),slot:"1,0"},A({slot:"1,1"},1)]}]},{scriptClass:"mstrmojo.FieldSet",alias:"shade",cssClass:"shade",legend:mstrmojo.desc(4948,"Shading Styles"),children:[{scriptClass:"mstrmojo.List",cssClass:"orientation mstrmojo-radio-list",alias:"angle",items:[{n:mstrmojo.desc(4957,"Horizontal"),v:0},{n:mstrmojo.desc(4949,"Vertical"),v:90}],onchange:function(G){var H=this.parent.parent.geModel,K=this.parent.preview.preview_bg.variantIndex;if(H&&typeof (K)!="undefined"&&K!=-1){var J=this.selectedItem.v,I=C[J][K];H.set("GradientAngle",J);H.set("GradientXOffset",I.x);H.set("GradientYOffset",I.y);}},bindings:{variantIndex:function(){return this.parent.preview.preview_bg.variantIndex;},selectedIndex:function(){var G=this.parent.parent.geModel;if(G){var H=G&&G.GradientAngle||0;return H==90?1:0;}return -1;}}},{scriptClass:"mstrmojo.Container",alias:"preview",cssClass:"mstrmojo-GradientEditor-previewbox",markupString:'<div class="{@cssClass}"></div>',markupSlots:{containerNode:function(){return this.domNode;}},children:[F(0),F(1),F(2),F(3),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(4875,"(Flash Only)"),cssClass:"mstrmojo-GradientEditor-preview p2 label"},{scriptClass:"mstrmojo.Label",alias:"preview_bg",cssClass:"mstrmojo-GradientEditor-preview bg",onvariantIndexChange:function(){var G=this.domNode;if(G){G.className=this.cssClass+" show p"+this.variantIndex;}},bindings:{variantIndex:function(){var G=this.parent.parent.parent.geModel;if(G){var H=this.parent.parent.parent.geModel.GradientAngle==90?this.parent.parent.parent.geModel.GradientYOffset:this.parent.parent.parent.geModel.GradientXOffset;return{"0":0,"100":1,"50":2}[H];}return -1;}}}]}]},{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBar",slot:"buttonNode",children:[new mstrmojo.Button.newInteractiveButton(mstrmojo.desc(1442,"OK"),function(){var G=this.parent.parent;G.close();E(G);if(G.onOK){G.onOK();}},"#999",{alias:"ok",cssClass:"mstrmojo-Editor-button"}),new mstrmojo.Button.newInteractiveButton(mstrmojo.desc(2140,"Cancel"),function(){var G=this.parent.parent;G.close();if(G.onCancel){G.onCancel();}},"#999",{alias:"cancel",cssClass:"mstrmojo-Editor-button"})]}]});})();(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.mobileConfigUtil","mstrmojo.expr","mstrmojo.validation","mstrmojo.Widget","mstrmojo.ColorPicker","mstrmojo.css");var F=mstrmojo.mobileConfigUtil,N=mstrmojo.hash,K="mstrmojo.all.ipadHomescreen_tab.model.data.dt == 2 || mstrmojo.all.iphoneHomescreen_tab.model.data.dt == 1";isAndroid="mstrmojo.all.ipadHomescreen_tab.model.data.dt == 3 || mstrmojo.all.iphoneHomescreen_tab.model.data.dt == 4";var G={};G[F.ACT_RUNREPORT]="../images/icon_report.gif";G[F.ACT_BROWSEFOLDER]="../images/icon_folder.gif";G[F.ACT_SHAREDLIBRARY]="../javascript/mojo/css/images/shared_library.png";var A=[{v:F.ACT_RUNREPORT,n:mstrmojo.desc(7812)},{v:F.ACT_BROWSEFOLDER,n:mstrmojo.desc(7813)},{v:F.ACT_SHAREDLIBRARY,n:mstrmojo.desc(7816)}],O=[{v:F.ACT_RUNREPORT,n:mstrmojo.desc(7812)},{v:F.ACT_BROWSEFOLDER,n:mstrmojo.desc(7813)},{v:F.ACT_SHAREDLIBRARY,n:mstrmojo.desc(7816)}],E=[{v:F.ACT_RUNREPORT,n:mstrmojo.desc(7812)},{v:F.ACT_BROWSEFOLDER,n:mstrmojo.desc(7813)}];mstrmojo.ipadHomescreen_tab=mstrmojo.insert({id:"ipadHomescreen_tab",scriptClass:"mstrmojo.VBox",n:mstrmojo.desc(7769),model:null});var L=mstrmojo.ipadHomescreen_tab;function M(R,S,T){return{scriptClass:"mstrmojo.RadioButton",name:"ipadHomescreen",label:S,cssText:"margin: 5px 10px 5px 0",cssDisplay:"block",value:R,bindings:{checked:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === this.value"},onclick:function(){L.model.data.hsc.set("tp",R);},slot:T};}function C(R){return N.copy(R,{scriptClass:"mstrmojo.ValidationTextBox",dtp:mstrmojo.expr.DTP.VARCHAR,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL},required:true,readOnly:true,onenabledChange:function(){this.required=this.enabled;this.validate();if(!this.required){this.onValid();}},onValid:function(){if(L.model){L.model.validate();}},onInvalid:function(){if(L){L.model.set("validFlag",false);}}});}function Q(S,V,U,T){var R={scriptClass:"mstrmojo.CheckBox",name:"enables",label:S,cssText:"margin-left:10px;",bindings:{checked:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.cst.fmt.vw."+V},onclick:function(){L.model.data.hsc.cst.fmt.vw[V]=this.checked;},slot:U};if(T===F.DEVICE_IOS){R.bindings.visible=K;}else{if(T===F.DEVICE_ANDROID){R.bindings.visible=isAndroid;}}return R;}var J=mstrmojo.insert({id:"ipadGeneralSettings",scriptClass:"mstrmojo.FieldSet",cssClass:"homescreen-fieldset",cssText:"height:150px;width:450px",legend:mstrmojo.desc(295),children:[{scriptClass:"mstrmojo.Table",cssText:"margin-left: 20px;",cellSpacing:8,rows:2,cols:1,children:[Q(mstrmojo.desc(9015),"rpt","0,0",F.DEVICE_IOS),Q(mstrmojo.desc(9756),"rpt","0,0",F.DEVICE_ANDROID),{scriptClass:"mstrmojo.FieldSet",cssClass:"mstrmojo-FieldSet-noborder",cssText:"margin-left:22px",legend:mstrmojo.desc(9016),children:[{scriptClass:"mstrmojo.Table",rows:2,cols:1,children:[Q(mstrmojo.desc(7831),"stg","0,0"),Q(mstrmojo.desc(1143),"hlp","1,0")]}],slot:"1,0"}]}]});function D(R){return{id:R.id,scriptClass:"mstrmojo.WidgetList",alias:"itemList",cssClass:"ipadItemList",cssText:"width:250px",makeObservable:true,renderOnScroll:false,bindings:{items:R.itemsBinding},itemFunction:function(U,S,W){var T=U.act||U;var V=new mstrmojo.Widget({markupString:"<div class='ipadItem'><img class='ipadItemIcon' src='{@icon}'><div class='ipadItemText'>{@text}</div></div>",markupSlots:{iconNode:function(){return this.domNode.firstChild;},textNode:function(){return this.domNode.lastChild;}},markupMethods:{oniconChange:function(){this.iconNode.src=this.icon;},ontextChange:function(){this.textNode.innerHTML=this.text;var e=this.domNode.parentNode;if(e&&e.parentNode&&e.parentNode.children){var Y=e.parentNode.children;var c=Y[0].lastChild.lastChild.clientWidth;var Z=1;while(Y[Z]){var X=Y[Z].lastChild.lastChild.clientWidth;if(X>c){c=X;}Z++;}var b=c+30+10;var d=e.parentNode;var a=d.parentNode&&d.parentNode.clientWidth;d.style.width=b>a?b+"px":a+"px";}},onselectedChange:function(){mstrmojo.css.toggleClass(this.domNode,["selected"],this.selected);},ontitleChange:function(){this.textNode.title=this.title;}},postBuildRendering:function(){var X=this.domNode.parentNode.parentNode;var Y=X.parentNode.clientWidth;if(Y){var Z=this.textNode.clientWidth+30+10;if(X.maxWidth==undefined||Z>X.maxWidth){X.maxWidth=Z;}X.style.width=X.maxWidth>Y?X.maxWidth+"px":Y+"px";}},update:function(){var X;switch(T.tp){case F.ACT_BROWSEFOLDER:X=T.fd&&T.fd.oi&&T.fd.oi.n;break;case F.ACT_RUNREPORT:X=T.rs&&T.rs.oi&&T.rs.oi.n;break;case F.ACT_SHAREDLIBRARY:X=mstrmojo.desc(7832);break;}this.set("icon",G[T.tp]);this.set("text",X||"");this.set("title",X||"");if(U.cap){U.cap.txt=X;}}});V.update();T.attachEventListener("tpChange",V.id,"update");T.attachEventListener("rsChange",V.id,"update");T.attachEventListener("fdChange",V.id,"update");if(!T.rs){T.set("rs",new mstrmojo.Obj());}T.rs.attachEventListener("oiChange",V.id,"update");if(!T.fd){T.set("fd",new mstrmojo.Obj());}T.fd.attachEventListener("oiChange",V.id,"update");return V;}};}function P(V){var T=V.listTitle,R=V.defaultButtonType,U=V.itemList,S=U.id;return{cssClass:"homescreen-leftPanel",cssText:"height:400px;width:auto;",scriptClass:"mstrmojo.Table",cols:1,rows:3,children:[{scriptClass:"mstrmojo.Label",text:T,cssText:"height:20px;font-size:14px;width:260px;white-space:nowrap;",slot:"0,0"},N.copy({slot:"2,0"},U),{scriptClass:"mstrmojo.Button",text:"+",title:mstrmojo.desc(7822),cssClass:"ipadItemList-add",onclick:function(){var X=mstrmojo.all[S];if(R==F.DEFAULT_IPAD_HOMESCREEN_BUTTON){if(L.model.defaultButton===undefined){var Y=this;L.model.getDefaultConfig(F.DEFAULT_IPAD_HOMESCREEN_BUTTON,function(Z){L.model.defaultButton=Z;Y.onclick();});}else{var W=X.add([F.makeButtonHashable(N.clone(L.model.defaultButton))]);X.set("selectedIndex",W);}}else{if(R==F.DEFAULT_IPAD_PRECACHE_BUTTON){var W=X.add([new mstrmojo.Obj({tp:F.ACT_RUNREPORT,rs:new mstrmojo.Obj({pcc:true})})]);X.set("selectedIndex",W);}}},slot:"1,0"},{scriptClass:"mstrmojo.Button",text:"x",title:mstrmojo.desc(7823),cssClass:"ipadItemList-remove",bindings:{enabled:"this.parent.itemList.selectedIndex > -1"},onclick:function(){var X=this.parent.itemList,W=X.selectedIndex;if(X.selectedItem){X.remove(X.selectedItem);}if(W===X.items.length){W--;}X.set("selectedIndex",W);},slot:"1,0"},{scriptClass:"mstrmojo.Button",cssClass:"ipadItemList-movedown",title:mstrmojo.desc(139),bindings:{enabled:"this.parent.itemList.selectedIndex > -1 && this.parent.itemList.selectedIndex < this.parent.itemList.items.length-1"},onclick:function(){var X=this.parent.itemList,W=X.selectedIndex;if(W>-1&&W<X.items.length-1){var Y=X.selectedItem;X.remove(Y);X.add([Y],W+1);X.set("selectedIndex",W+1);}},slot:"1,0"},{scriptClass:"mstrmojo.Button",cssClass:"ipadItemList-moveup",title:mstrmojo.desc(138),bindings:{enabled:"this.parent.itemList.selectedIndex > 0"},onclick:function(){var X=this.parent.itemList,W=X.selectedIndex;if(W>0&&W<X.items.length){var Y=X.selectedItem;X.remove(Y);X.add([Y],W-1);X.set("selectedIndex",W-1);}},slot:"1,0"},{scriptClass:"mstrmojo.Label",cssText:"clear:both",slot:"1,0"}]};}function I(R){var S=R.forcePreCache;return{scriptClass:"mstrmojo.FieldSet",cssClass:"homescreen-fieldset",cssText:"height:230px; width: 465px",legend:mstrmojo.desc(4878),children:[{scriptClass:"mstrmojo.VBox",cssText:"margin: 15px 0 0 15px",bindings:{action:R.actionBinding,visible:"!!this.action"},children:[{scriptClass:"mstrmojo.HBox",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(762)+":"},{scriptClass:"mstrmojo.SelectBox",size:1,bindings:{isIOS:K,items:R.actionItemsBinding,selectedItem:"{v:this.parent.parent.action.tp}"},onchange:function(){var T=this.parent.parent.action,U;if(T){U=this.selectedItem.v;T.set("tp",U);}}}]},{scriptClass:"mstrmojo.FieldSet",cssText:"width:430px;height:160px;margin-top:10px",alias:"stack",children:[{v:F.ACT_RUNREPORT,n:mstrmojo.desc(7812),layout:[{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]}],scriptClass:"mstrmojo.Table",bindings:{act:"this.parent.parent.action",visible:"this.act && this.act.tp === this.v "},onvisibleChange:function(){if(this.visible){if(!this.act.rs){this.act.set("rs",new mstrmojo.Obj());}if(S){this.act.rs.set("pcc",true);}}},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(3319),cssText:"width: 40px",slot:"0,0"},C({cssText:"margin-left:5px;width:300px;",bindings:{enabled:"this.parent.visible",value:"this.parent.act.rs.oi.pt"},slot:"0,1"}),F.createObjBrowserDropdown({browsableTypes:"3,8,55",targetType:"rs",bindings:{target:"this.parent.act"},slot:"0,2"}),{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8487),bindings:{checked:"this.parent.act.rs.pcc",enabled:S?"false":"this.parent.act.rs != null"},onclick:function(){this.parent.act.rs.set("pcc",this.checked);this.parent.act.rs.set("pcf",undefined);},slot:"1,0"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(8488),cssText:"margin: 2px 0 2px 5px",slot:"2,1"},{scriptClass:"mstrmojo.TextBox",cssText:"margin-left:5px;width:300px;",readOnly:true,bindings:{enabled:"this.parent.act.rs != null && this.parent.act.rs.pcc",value:"this.parent.act.rs.pcf.oi.pt"},slot:"3,1"},F.createObjBrowserDropdown({targetType:"pcf",bindings:{enabled:"this.parent.act.rs != null && this.parent.act.rs.pcc",target:"this.parent.act.rs",isIOS:K,browsableTypes:"this.isIOS ? '8,17153':'8'"},slot:"3,2"})]},{v:F.ACT_BROWSEFOLDER,n:mstrmojo.desc(7813),scriptClass:"mstrmojo.Table",layout:[{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],bindings:{act:"this.parent.parent.action",visible:"this.act && this.act.tp == this.v"},onvisibleChange:function(){if(this.visible){if(!this.act.fd){this.act.set("fd",new mstrmojo.Obj());}if(S){this.act.fd.set("pcc",true);}}},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7818),cssText:"width: 40px",slot:"0,0"},C({cssText:"margin-left:5px;width:300px;",bindings:{enabled:"this.parent.visible",value:"this.parent.act.fd.oi.pt"},slot:"0,1"}),F.createObjBrowserDropdown({targetType:"fd",bindings:{target:"this.parent.act",isIOS:K,browsableTypes:"this.isIOS ? '8,17153':'8'"},slot:"0,2",allowCheckSubscription:true}),{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8333),bindings:{enabled:"this.parent.act.fd != null",checked:"this.parent.act.fd.csp"},onclick:function(){this.parent.act.fd.csp=this.checked;},slot:"1,0"},{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8485),bindings:{enabled:S?"false":"this.parent.act.fd != null",checked:"this.parent.act.fd.pcc"},onclick:function(){this.parent.act.fd.pcc=this.checked;},slot:"2,0"}]},{v:F.ACT_SHAREDLIBRARY,n:mstrmojo.desc(7816),scriptClass:"mstrmojo.Label"}]}]}]};}function B(){var T=D({id:"ipadItemList",itemsBinding:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.cst.btns"}),S=P({listTitle:mstrmojo.desc(7891),defaultButtonType:F.DEFAULT_IPAD_HOMESCREEN_BUTTON,itemList:T}),R=I({actionBinding:"mstrmojo.all.ipadItemList.selectedItem.act",actionItemsBinding:function(){return this.isIOS?A:O;}});return{id:"customIpadHomescreen",scriptClass:"mstrmojo.HBox",cssClass:"homescreen-custom",cssText:"width:auto",bindings:{visible:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM"},children:[S,{scriptClass:"mstrmojo.VBox",children:[J,R]}]};}L.createPreCacheHomescreen=function(S,V){var T=D({id:S,itemsBinding:"this.parent.parent.homescreen.model.data.hsc.rs.sobs"}),R=P({listTitle:mstrmojo.desc(8628),defaultButtonType:F.DEFAULT_IPAD_PRECACHE_BUTTON,itemList:T}),U=I({actionBinding:"mstrmojo.all."+S+".selectedItem",actionItemsBinding:function(){return E;},forcePreCache:true});return{scriptClass:"mstrmojo.HBox",cssClass:"homescreen-custom",cssText:"width:auto",bindings:{homescreen:V,visible:"this.homescreen.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD"},children:[R,U]};};L.createProgressBarHomescreen=function(R){return{scriptClass:"mstrmojo.Table",cssText:"width:auto;margin-left:25px",bindings:{homescreen:R,visible:"this.homescreen.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD && ("+K+")"},layout:[{cells:[{colSpan:2}]},{cells:[{cssText:"width:90px"},{}]}],children:[{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(9066),bindings:{checked:"this.parent.homescreen.model.data.hsc.rs.pb.iv"},onclick:function(){if(this.parent.homescreen.model.data.hsc.rs.pb){this.parent.homescreen.model.data.hsc.rs.pb.set("iv",this.checked);}},slot:"0,0"},{scriptClass:"mstrmojo.Label",cssText:"margin-left:30px",text:mstrmojo.desc(2060),slot:"1,0"},N.copy({slot:"1,1"},mstrmojo.ColorPicker.createDropDown({showUserPalette:false,useAnimate:false,showNoColor:false,bindings:{enabled:"this.parent.homescreen.model.data.hsc.rs.pb.iv",fillColor:function(){return mstrmojo.color.decodeColor(this.parent.homescreen.model.data.hsc.rs.pb.clr);}},onfillColorChange:function(S){if(this.fillColor){this.parent.homescreen.model.data.hsc.rs.pb.clr=mstrmojo.color.encodeColor(this.fillColor);}}}))]};};var H=mstrmojo.insert({scriptClass:"mstrmojo.Table",layout:[{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],children:[{scriptClass:"mstrmojo.RadioButton",name:"ipadHomescreen",label:mstrmojo.desc(7797),cssText:"margin: 5px 10px 5px 0",cssDisplay:"block",value:F.HOMESCREEN_DEFAULT,bindings:{checked:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === this.value"},onclick:function(){L.model.data.hsc.set("tp",v);},slot:"0,0",getDefaultHomeScreen:function(){var R=L.model.data.hsc,S=(mstrApp.device==F.DEVICE_IPAD)?F.DEFAULT_IPAD_CUSTOM_HOMESCREEN:F.DEFAULT_TABLET_UNIVERSAL_CUSTOM_HOMESCREEN;L.model.getDefaultConfig(S,function(T){F.makeCSTHomescreenHashable({cst:T});R.set("tp",F.HOMESCREEN_DEFAULT);R.set("cst",T);});},onclick:function(){this.getDefaultHomeScreen();}},M(F.HOMESCREEN_FOLDER,mstrmojo.desc(7798),"1,0"),C({cssText:"margin-left:5px;width:300px;",bindings:{enabled:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",value:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.fd.oi.pt"},slot:"1,1"}),F.createObjBrowserDropdown({targetType:"fd",bindings:{target:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc",enabled:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",isIOS:K,browsableTypes:"this.isIOS ? '8,17153':'8'"},slot:"1,2",allowCheckSubscription:true}),{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8333),cssText:"margin-left: 16px",bindings:{folder:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.fd",enabled:"this.folder != null && mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",checked:"this.folder.csp"},onclick:function(){if(this.folder!=null){this.folder.csp=this.checked;}},slot:"2,0"},{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8485),cssText:"margin-left: 16px",bindings:{folder:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.fd",enabled:"this.folder != null && mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",checked:"this.folder.pcc"},onclick:function(){if(this.folder!=null){this.folder.pcc=this.checked;}},slot:"3,0"},{scriptClass:"mstrmojo.RadioButton",name:"ipadHomescreen_X",label:mstrmojo.desc(7800),cssDisplay:"block",bindings:{checked:function(){var R=mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp;return R===F.HOMESCREEN_RD||R===F.HOMESCREEN_CUSTOM;}},onclick:function(){this.parent.rsHSTRadio.onclick();},slot:"4,0"},{scriptClass:"mstrmojo.RadioButton",name:"ipadHomescreen",alias:"rsHSTRadio",label:mstrmojo.desc(7799),cssText:"margin: 5px 10px 5px 20px",cssDisplay:"block",value:F.HOMESCREEN_RD,bindings:{visible:function(){var R=mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp;return R==F.HOMESCREEN_RD||R==F.HOMESCREEN_CUSTOM;},checked:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === this.value"},oncheckedChange:function(){if(this.checked!==undefined){var R=L.model.data.hsc;if(this.checked){if(!R.rs){R.set("rs",new mstrmojo.Obj({sobs:[],pb:new mstrmojo.Obj({iv:false,clr:14540253,pos:1,opa:1})}));}}}},onclick:function(){var R=L.model.data.hsc;R.set("tp",F.HOMESCREEN_RD);},slot:"5,0"},C({cssText:"margin-left:5px;width:300px;",bindings:{visible:function(){var R=mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp;return R==F.HOMESCREEN_RD||R==F.HOMESCREEN_CUSTOM;},enabled:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD",value:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.rs.oi.pt"},slot:"5,1"}),F.createObjBrowserDropdown({browsableTypes:"3,8,55",targetType:"rs",bindings:{visible:function(){var R=mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp;return R==F.HOMESCREEN_RD||R==F.HOMESCREEN_CUSTOM;},target:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc",enabled:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD"},slot:"5,2"}),N.copy({slot:"6,0"},L.createPreCacheHomescreen("ipadPreCacheItemList","mstrmojo.all.ipadHomescreen_tab")),N.copy({slot:"7,0"},L.createProgressBarHomescreen("mstrmojo.all.ipadHomescreen_tab")),{scriptClass:"mstrmojo.RadioButton",alias:"customHSTRadio",name:"ipadHomescreen",label:mstrmojo.desc(8629),cssText:"margin: 5px 10px 5px 20px",cssDisplay:"block",value:F.HOMESCREEN_CUSTOM,bindings:{visible:function(){var R=mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp;return R==F.HOMESCREEN_RD||R==F.HOMESCREEN_CUSTOM;},checked:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === this.value"},onclick:function(){var R=L.model.data.hsc;if(R.cst===undefined){L.model.getDefaultConfig(F.DEFAULT_IPAD_CUSTOM_HOMESCREEN,function(S){F.makeCSTHomescreenHashable({cst:S});R.set("cst",S);R.set("tp",F.HOMESCREEN_CUSTOM);});}else{R.set("tp",F.HOMESCREEN_CUSTOM);}},slot:"8,0"},N.copy({slot:"9,0"},B())]});L.addChildren(H);})();(function(){mstrmojo.requiresCls("mstrmojo.TileList");})();(function(){mstrmojo.requiresCls("mstrmojo.WidgetList","mstrmojo.WidgetTreeBuilder","mstrmojo.TreeNodeSelector");var E=false;mstrmojo.WidgetTree=mstrmojo.declare(mstrmojo.WidgetList,null,{scriptClass:"mstrmojo.WidgetTree",listBuilder:mstrmojo.WidgetTreeBuilder,listSelector:mstrmojo.TreeNodeSelector,renderOnScroll:true,itemIdField:"dssid",itemDisplayField:"n",itemIconField:"tp",itemChildrenField:"items",itemFunction:function D(L,I,J){if(!E){mstrmojo.requiresCls("mstrmojo.TreeNode");E=true;}var H=J.tree||J,K=new mstrmojo.TreeNode({data:L,state:0,parent:J,tree:H,multiSelect:J.multiSelect,text:L[J.itemDisplayField],textCssClass:H.item2textCss(L),items:L[J.itemChildrenField],itemIdField:J.itemIdField,itemDisplayField:J.itemDisplayField,itemIconField:J.itemIconField,itemChildrenField:J.itemChildrenField,itemFunction:J.itemFunction,listSelector:J.listSelector});return K;},item2textCss:function B(H){return H[this.itemIconField];},selectionParentNode:null,init:function F(H){this._super(H);this.selectionParentNode=this;this.tree=this;},clearTreeSelect:function A(){(this.selectionParentNode||this).clearSelect();},prechange:function G(H){var I=this._super(H);this.onnodechange(H);return I;},onnodechange:function C(I){if(!I){return ;}var J=mstrmojo.hash,M=this.selectionParentNode,L=I.src;if(L===M){if(J.isEmpty(L.selectedIndices)){L=this;this.selectionParentNode=this;}this.raiseEvent({name:"selectionChange",parentNode:L,parentNodeWas:M,added:I.added,removed:I.removed});}else{if(I.added&&I.added.length){var K=[];if(!J.isEmpty(M.selectedIndices)){K=mstrmojo.hash.keyarray(M.selectedIndices,true);M.clearSelect();}this.selectionParentNode=L;this.raiseEvent({name:"selectionChange",parentNode:L,parentNodeWas:M,added:I.added,removed:K});}else{}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Button","mstrmojo.HBox","mstrmojo.Box","mstrmojo.DropDownButton","mstrmojo.Popup","mstrmojo.WidgetTree","mstrmojo.ObjectBrowserDataProvider","mstrmojo.OBList","mstrmojo.FishEyeContainer","mstrmojo.SearchBox2","mstrmojo.Booklet","mstrmojo.IncFetch");var A=mstrmojo.meta.TP,K="5CECE58CC1D549F890EB61C4DB2156A3",H="E0CCB9CF22104A489CBE78D974AFD19E",B=function(R,S){var Q=mstrmojo.insert({scriptClass:"mstrmojo.OBList",items:S});Q.render();return Q;},D={success:function(S){var T=this.ob,R=S.items,Q=T.pageCache[T.currentPage]._w;Q.set("items",R);this.ob=null;this.item=null;window.clearTimeout(T._btm);T.booklet.set("waiting",false);},failure:function(Q){window.alert(Q.getResponseHeader("X-MSTR-TaskFailureMsg"));this.ob.booklet.set("waiting",false);}},C=function(T,S,Q){var U=O(T,S,false),R=!U;U=U||O(T,S,true);if(!U){T._btm=window.setTimeout(function(){T.booklet.set("waiting",true);},300);Q.ob=T;Q.item=S;T.dataProvider.fetchFolderContents(T,S,Q);}else{G(T,S,U,true,R);}},N=function(R,S,T,Q){C(R,{fid:R.pageCache[R.currentPage].did,blockBegin:S,searchPattern:T,recursive:Q},D);},I=function(R,S){var Q=S.anc;Q=Q&&Q.items;Q=Q&&Q[0];Q=Q&&Q.items;R.set("canGoUp",!(!S.pf||!Q));},G=function(U,T,V,S,R){delete U._btm;var Q;if(!S){Q=B(this,V.items);Q.attachEventListener("change",U.id,"navigate");}else{Q=V._w;}U.booklet.turn(Q,!R);if(!S){E(U,T,Q,V);}U.set("currentFolder",V);U.set("currentPage",U.currentPage+(R?-1:1));I(U,V);},F={success:function(R){var S=this.ob;if(S){window.clearTimeout(S._btm);if(!R.items){R.items=[{did:"empty",n:"("+mstrmojo.desc(2210)+")",t:"e"}];}var Q=function T(U){var X=U.length;for(var V=0;V<X;V++){var W=U[V];if(W.did===K||W.did===H){W.n=(W.did===K)?mstrmojo.desc(8112):mstrmojo.desc(9277);}if(W.items){Q(W.items);}}};if(R.did===K||R.did===H){R.n=(R.did===K)?mstrmojo.desc(8112):mstrmojo.desc(9277);if(R.anc&&R.anc.items){Q(R.anc.items);}}G(S,this.item,R,false,false);this.ob=null;this.item=null;}},failure:function(Q){this.ob.booklet.set("waiting",false);if(this.ob.onError){this.ob.onError(Q);}else{window.alert(Q.getResponseHeader("X-MSTR-TaskFailureMsg"));}}},E=function(U,T,S,V){var W=U.currentPage+1;var R=U.pageCache.length;for(var Q=W;Q<R;Q++){U.pageCache[Q]._w.destroy();delete U.pageCache[Q].items;}U.pageCache=U.pageCache.slice(0,W);V._w=S;V._k=T.k;U.pageCache[W]=V;U.cacheChange();},O=function(T,S,R){var U=T.currentPage+(R?-1:1);if(T.pageCache.length>U&&U>=0){var Q=T.pageCache[U];if(Q._k==S.k){return Q;}}return false;},M=function(S){var R=S.pageCache.length;for(var Q=0;Q<R;Q++){S.pageCache[Q]._w.destroy();}S.pageCache=[];S.currentPage=-1;S.cacheChange();},J=function(S,R){if(R&&R.acg==33){return ;}var Q={};if(R){Q.k=R.did;Q.fid=R.did;}else{if(S.rootFolderID){Q.k=S.rootFolderID;Q.fid=S.rootFolderID;}else{if(S.rootFolderType){Q.k=S.rootFolderType;Q.fty=S.rootFolderType;}else{if(S.folderLinksContextId){Q.k=S.folderLinksContextId;}}}}C(S,Q,F);},P=function(V,Q,S){if(!S){return Q;}var T=V.showCompletePath,X=Q[0],U,R;while(X){for(var W=0;W<S.length;){if(X.did==S[W].did){S.splice(W,1);X._isSc=true;}else{W++;}}R=X;X._open=true;X=X.items;X=X&&X[0];if(!X){R.lastLeaf=true;}}if(!T){X=Q[0];while(X){if(X._isSc){Q[0]=X;break;}X=X.items;X=X&&X[0];}}return Q.concat(S);},L=function(R,Q,S){R._naviInfo=P(R,Q,S);};mstrmojo.ObjectBrowser=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.ObjectBrowser",rootFolderType:null,rootFolderID:null,sId:null,closeOnSelect:true,browsableTypes:null,includeObjectDesc:false,closeable:true,fishEyeVisible:false,searchVisible:true,currentFolder:null,pageCache:[],currentPage:-1,blockCount:50,canGoUp:true,folderLinksContextId:null,showCompletePath:true,dataProvider:mstrmojo.insert({scriptClass:"mstrmojo.ObjectBrowserDataProvider"}),markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},children:[{scriptClass:"mstrmojo.HBox",alias:"titleBar",cssClass:"mstrmojo-OB-titleTable",children:[{alias:"title",scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-FormatEditor-DropDownButton",cssText:"margin:0px;",popupRef:{scriptClass:"mstrmojo.Popup",contentNodeCssClass:"mstrmojo-OBNavigatorPopup",cssText:"position:relative;",slot:"popupNode",locksHover:true,onOpen:function(){var Q=this.opener.parent.parent,S=this.tree,R=Q._naviInfo;if(S.items!=R){S._pup=this;this.ob=Q;S.set("items",R);}},children:[{alias:"tree",scriptClass:"mstrmojo.WidgetTree",itemIdField:"did",itemFunction:function(T,Q,R){var S=mstrmojo.WidgetTree.prototype.itemFunction(T,Q,R);if(T._open){S.state=1;}S._ll=!!T.lastLeaf;S._pup=R._pup;S.onmousedown=function(U){if(!this._ll){var V=mstrmojo.dom.eventTarget(U.hWin,U.e);if(V==this.domNode||V==this.textNode){var W=this._pup;W.close();J(W.ob,this.data);}}};S.markupMethods.onstateChange=function(){var U=this.data.items?this.state:0;this.stateNode.className="mstrmojo-TreeNode-state "+({0:"closed",1:"opened",2:"leaf"}[U]||"closed");this.itemsContainerNode.style.display=(U===1)?"block":"none";};return S;}}]}},{alias:"upButton",scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-OBListItemIcon up",title:mstrmojo.desc(1152,"Up one level"),onclick:function(){this.parent.parent.goUp();},bindings:{enabled:"this.parent.parent.canGoUp"}},{alias:"closebtn",scriptClass:"mstrmojo.Button",iconClass:"mstrmojo-OBCloseButton",title:mstrmojo.desc(2102,"Close"),bindings:{visible:"this.parent.parent.closeable"},onclick:function(){this.parent.parent.close();}}]},{alias:"fishEye",scriptClass:"mstrmojo.FishEyeContainer",cssText:"width:100%",bindings:{visible:"this.parent.fishEyeVisible"}},{alias:"searchUpBar",scriptClass:"mstrmojo.HBox",children:[{alias:"obSearchBox",scriptClass:"mstrmojo.SearchBox2",cssClass:"mstrmojo-charcoalbox mstrmojo-dxsprite",cssText:"margin: 5px 0; ",width:"105px",contentWidget:mstrmojo.all.obList,taskId:"searchMetadata",searchIncFetch:true,enableMatchCase:false,bindings:{quickSearch:"this.parent.parent.quickSearch"},preFetch:function(){this.objectTypes=(this.parent.parent.browsableTypes)?this.parent.parent.browsableTypes:this.objectTypes;this.parent.parent.booklet.set("waiting",true);},postFetch:function(){this.parent.parent.booklet.set("waiting",false);}}],bindings:{visible:"this.parent.searchVisible"}},{scriptClass:"mstrmojo.Booklet",cssText:"width:100%;background-color:white;",alias:"booklet"},{alias:"obIncFetch",scriptClass:"mstrmojo.IncFetch",height:"17px",cssText:"height:0px;overflow:hidden;",visible:false,np:0,cp:0,ds:{f:mstrmojo.desc(4046),p:mstrmojo.desc(1058),n:mstrmojo.desc(1059),l:mstrmojo.desc(4049),pgs:mstrmojo.desc(5972),gt:mstrmojo.desc(5878),v:mstrmojo.desc(6079)},onvisibleChange:function(R){var T=parseInt(this.height,10),Q=this.np>1,S={target:this.domNode,props:{height:{start:(Q?0:T),stop:(Q?T:0),suffix:"px"}},onEnd:function(){if(Q){this.target.style.overflow="visible";}}},U=new mstrmojo.fx.AnimateProp(S);this.domNode.style.overflow="hidden";U.play();},onifsChange:function(Q){var R=this.np;mstrmojo.hash.copy(Q.value,this);if(this.np>1){this.children=null;this.refresh();}if(R<=1&&this.np>1||R>1&&this.np<=1||R===0&&this.np>0){this.set("visible",this.np>1);}this.cssText="";}}],postBuildRendering:function(){if(this._super){this._super();}if(this.fishEye&&this.fishEyeVisible){this.fishEye.attachEventListener("selectedIndexChange",this.id,"onFishEyeChange");}var S=this.searchUpBar;if(S&&S.obSearchBox&&this.searchVisible){this.obSearchBox=this.searchUpBar.obSearchBox;this.obSearchBox.attachEventListener("itemsChange",this.id,"onSearchItemsChange");var Q=this.obSearchBox.contentWidget||this.obSearchBox;Q.attachEventListener("ifsChange",this.id,function(T){this.obIncFetch.set("ifs",T.value);});}if(this.obIncFetch){var R=this.obIncFetch;R.attachEventListener("fetch",this.id,function(T){R.cp=T.v;R.children=null;R.refresh();N(this,(T.v-1)*this.blockCount+1,this.searchVisible?this.obSearchBox.inputNode.value:"",1);});}},onSearchItemsChange:function(R){var S=R.value,Q=this.pageCache[this.currentPage]._w;if(!S||S.length==0){S=[{did:"empty",n:"("+mstrmojo.desc(2210)+")",t:"e"}];}Q.set("items",S);},navigate:function(Q){var R=Q&&Q.src.selectedItem;if(R&&R.did=="empty"){return ;}if(!R||R[A]==8){J(this,R);}else{if(R){this.select(R);}}},onFishEyeChange:function(Q){this.goToPage(Q.value);},goToPage:function(Q){if(Q<this.pageCache.length&&Q!=this.currentPage){var S=Q>this.currentPage,R=this.pageCache[Q];this.set("currentPage",Q);this.booklet.turn(R._w,S);this.set("currentFolder",R);I(this,R);}},oncurrentPageChange:function(Q){if(this.fishEye){this.fishEye.setSelectedIndex(Q.value);}var R=this.pageCache[this.currentPage];this.titleBar.title.set("text",mstrmojo.string.encodeHtmlString(R.n));if(this.searchVisible&&this.obSearchBox){this.obSearchBox.set("rootCacheItems",R.items||[]);this.obSearchBox.set("totalSize",R.sz);this.obSearchBox.set("rootID",R.did);this.obSearchBox.clearSearch();}if(this.obIncFetch){this.obIncFetch.set("ifs",{np:Math.floor(R.sz/R.bc)+((R.sz%R.bc>0)?1:0),cp:Math.floor(R.bb/R.bc)+((R.bb%R.bc>0)?1:0)});}},cacheChange:function(){if(this.fishEye&&this.fishEyeVisible){this.fishEye.setItems(this.pageCache);}},browse:function(R){for(var Q in R){this[Q]=R[Q];}if(this.searchVisible&&this.obSearchBox){this.obSearchBox.clear();}M(this);this.navigate();},close:function(){var R=this.ctx||this,Q=R.onCloseCB;if(Q){Q[0][Q[1]]();}R.set("visible",false);},select:function(R){var Q=this.onSelectCB;if(Q){Q[0][Q[1]](R);}if(this.closeOnSelect){this.close();}},goUp:function(){if(this.canGoUp){J(this,{did:this.currentFolder.pf});}},oncurrentFolderChange:function(Q){var R=Q.value;L(this,R.anc.items,R.sc);},refreshContent:function(Q){N(this,Q);},onError:null,onheightChange:function(){var Q=["titleBar","fishEye","searchUpBar","obIncFetch"],T=0,S=0;for(var R in Q){T+=parseInt(this[Q[R]].domNode.offsetHeight);}S=parseInt(this.height)-T;this.booklet.set("height",S+"px");}});})();(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.dom","mstrmojo.css","mstrmojo.color","mstrmojo.mobileConfigUtil","mstrmojo.WidgetTileList","mstrmojo.ColorPicker","mstrmojo.ButtonPreview","mstrmojo.ipadHomescreen_tab");var A=mstrmojo.mobileConfigUtil,P=mstrmojo.hash,H="mstrmojo.all.iphoneHomescreen_tab.model.data.dt == 1";var O=function(V){return(V<=4)?{rc:4,cc:1}:((V<=6)?{rc:3,cc:2}:{rc:3,cc:3});};var U={};U[A.ACT_FAVOURITES]="../javascript/mojo/css/images/favorites.png";U[A.ACT_SETTINGS]="../javascript/mojo/css/images/settings.png";U[A.ACT_SHAREDLIBRARY]="../javascript/mojo/css/images/shared_library.png";U[A.ACT_HELP]="../javascript/mojo/css/images/help.png";U[A.ACT_BROWSEFOLDER]="../javascript/mojo/css/images/folder_hs.png";U[A.ACT_RUNREPORT]={graph:"../javascript/mojo/css/images/graph_hs.png",doc:"../javascript/mojo/css/images/document_hs.png","default":"../javascript/mojo/css/images/grid_hs.png"};mstrmojo.iphoneHomescreen_tab=mstrmojo.insert({scriptClass:"mstrmojo.VBox",id:"iphoneHomescreen_tab",n:mstrmojo.desc(7769),model:null});var R=mstrmojo.iphoneHomescreen_tab;var J=mstrmojo.insert({id:"buttonTileList",scriptClass:"mstrmojo.WidgetTileList",cssClass:"iphoneTileList",usePaging:true,makeObservable:true,listSelector:mstrmojo.ListSelector,renderOnScroll:false,bindings:{fillColor:function(){if(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp===mstrmojo.mobileConfigUtil.BACKGROUND_FILL){if(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.fll.tp===mstrmojo.mobileConfigUtil.FILL_SOLID){return mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.fll.clr;}}},items:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.btns",layout:"{row: mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btnl.rc, col: mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btnl.cc}"},markupMethods:P.copy(mstrmojo.WidgetTileList.prototype.markupMethods,{onfillColorChange:function(){if(this.fillColor!==undefined){this.domNode.style.cssText="background-color:"+mstrmojo.color.decodeColor(this.fillColor);}else{this.domNode.style.cssText="background-Color: transparent";}}}),itemFunction:function(X,W,Y){var V=new mstrmojo.ButtonPreview({bindings:{fillColor:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.fll.clr)",style:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.stl",border:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.brd.clr)",fontColor:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.fnt.clr)"},updateCaption:function(Z){var a=X.cap.txt;this.set("caption",mstrmojo.string.encodeHtmlString(a));},updateIcon:function(Z){var a;if(X.icn.tp===mstrmojo.mobileConfigUtil.ICON_DEFAULT){if(X.act.tp===mstrmojo.mobileConfigUtil.ACT_RUNREPORT){var b="default";if(X.act.rs&&X.act.rs.oi.t===55){b="doc";}else{if(X.act.rs&&X.act.rs.oi.t===3&&X.act.rs.oi.st===769){b="graph";}}a=U[X.act.tp][b];}else{a=U[X.act.tp];}}else{if(X.icn.tp===mstrmojo.mobileConfigUtil.ICON_IMAGE){a=X.icn.img&&X.icn.img.src;}}this.set("icon",a);},onactionChange:function(Z){var a,c,b=X.act.tp;switch(b){case A.ACT_FAVOURITES:if(mstrApp.device==A.DEVICE_IPHONE){a=mstrmojo.desc(7830);c=mstrmojo.desc(7860);}if(mstrApp.device==A.DEVICE_PHONE_UNIVERSAL){a=mstrmojo.desc(1089);c=mstrmojo.desc(7860);}break;case A.ACT_SETTINGS:a=mstrmojo.desc(7831);c=mstrmojo.desc(7861);break;case A.ACT_SHAREDLIBRARY:a=mstrmojo.desc(7832);c=mstrmojo.desc(7859);break;case A.ACT_HELP:a=mstrmojo.desc(1143);c=mstrmojo.desc(7862);break;case A.ACT_BROWSEFOLDER:c=mstrmojo.desc(7813);break;case A.ACT_RUNREPORT:c=mstrmojo.desc(7812);break;}if(b==A.ACT_BROWSEFOLDER){a=X.act.fd&&X.act.fd.oi&&X.act.fd.oi.n;}else{if(b==A.ACT_RUNREPORT){a=X.act.rs&&X.act.rs.oi&&X.act.rs.oi.n;}}X.cap.set("txt",a);X.dsc.set("txt",c);this.updateIcon();}});V.updateCaption();V.updateIcon();if(X.icn.img===undefined){X.icn.img=new mstrmojo.Obj({src:""});}X.cap.attachEventListener("txtChange",V.id,"updateCaption");X.icn.img.attachEventListener("srcChange",V.id,"updateIcon");X.icn.attachEventListener("tpChange",V.id,"updateIcon");X.act.attachEventListener("tpChange",V.id,"onactionChange");X.act.attachEventListener("rsChange",V.id,"onactionChange");X.act.attachEventListener("fdChange",V.id,"onactionChange");return V;},onadd:function(){this.updateLayout();},onremove:function(){this.updateLayout();},updateLayout:function(){var V=O(this.items.length);if(!P.equals(R.model.data.hsc.cst.fmt.btnl,V)){R.model.data.hsc.cst.fmt.set("btnl",V);}},onchange:function(){F.children[0].selector.set("selectedIndex",1);}});function B(V){return P.copy(V,{scriptClass:"mstrmojo.ValidationTextBox",dtp:mstrmojo.expr.DTP.VARCHAR,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL},required:true,onenabledChange:function(){this.required=this.enabled;this.validate();},onValid:function(){if(R.model){if(this.enabled&&this.value!=null){this.updateModel();}R.model.validate();}},onInvalid:function(){if(R.model){this.invalidateModel();R.model.set("validFlag",false);}},updateModel:function(W){},invalidateModel:function(W){}});}var T=mstrmojo.insert({id:"background",n:mstrmojo.desc(3905),scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.HBox",children:[{scriptClass:"mstrmojo.RadioButton",label:mstrmojo.desc(7993),name:"bgType",value:A.BACKGROUND_FILL,cssClass:"iphoneSetting-radioButton",bindings:{checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp === this.value"},onclick:function(){var V=R.model.data.hsc.cst.fmt.bkg;V.set("tp",this.value);if(V.fll===undefined){V.set("fll",new mstrmojo.Obj());}}},mstrmojo.ColorPicker.createDropDown({showUserPalette:false,useAnimate:false,bindings:{enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp === mstrmojo.mobileConfigUtil.BACKGROUND_FILL",fillColor:function(){if(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.fll.tp===mstrmojo.mobileConfigUtil.FILL_SOLID){return mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.fll.clr);}}},cssText:"margin-left:10px",onfillColorChange:function(V){if(this.fillColor){R.model.data.hsc.cst.fmt.bkg.fll.set("clr",mstrmojo.color.encodeColor(this.fillColor));R.model.data.hsc.cst.fmt.bkg.fll.set("tp",A.FILL_SOLID);}}})]},{scriptClass:"mstrmojo.RadioButton",label:mstrmojo.desc(2922),name:"bgType",value:2,cssClass:"iphoneSetting-radioButton",cssDisplay:"block",bindings:{checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp === mstrmojo.mobileConfigUtil.BACKGROUND_IMAGE"},onclick:function(){var V=R.model.data.hsc.cst.fmt.bkg;if(V.img===undefined){V.set("img",new mstrmojo.Obj({src:""}));}V.set("tp",A.BACKGROUND_IMAGE);}},{scriptClass:"mstrmojo.HBox",cssText:"margin-left: 30px",children:[{scriptClass:"mstrmojo.Label",cssText:"width: 70px",text:mstrmojo.desc(7801)},B({cssText:"margin-left: 5px; width:250px",bindings:{value:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.img.src",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM && mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp === mstrmojo.mobileConfigUtil.BACKGROUND_IMAGE"},constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,validator:function(V){if(this.required&&!(/^(https|http)\:\/\//i.test(V))){return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:""};}return{code:mstrmojo.validation.STATUSCODE.VALID,msg:""};}},updateModel:function(){if(R.model){R.model.data.hsc.cst.fmt.bkg.img.set("src",this.value);}},invalidateModel:function(){if(R.model){delete R.model.data.hsc.cst.fmt.bkg.img.src;}}}),{scriptClass:"mstrmojo.Label",cssText:"margin-left:5px",text:mstrmojo.desc(7881)}]}]});var C=mstrmojo.insert({id:"titleBarSetting",n:mstrmojo.desc(7806),cssText:"margin-left:-15px",scriptClass:"mstrmojo.Table",cellSpacing:10,rows:2,cols:3,children:[{scriptClass:"mstrmojo.RadioButton",label:mstrmojo.desc(6462)+":",name:"titleType",bindings:{checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_REGULAR"},onclick:function(){var V=R.model.data.hsc.cst.fmt.ttl;V.set("tp",A.TITLEBAR_REGULAR);if(V.cap===undefined){V.set("cap",new mstrmojo.Obj());}},slot:"0,0"},{scriptClass:"mstrmojo.TextBox",cssText:"width:250px;",bindings:{value:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.cap.txt",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_REGULAR"},onkeyup:function(V){R.model.data.hsc.cst.fmt.ttl.cap.set("txt",this.value);},slot:"0,1"},{scriptClass:"mstrmojo.RadioButton",label:mstrmojo.desc(7801),name:"titleType",bindings:{checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_IMAGE",visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.dt!=3"},onclick:function(){var V=R.model.data.hsc.cst.fmt.ttl;if(V.img===undefined){V.set("img",new mstrmojo.Obj({src:""}));}V.set("tp",A.TITLEBAR_IMAGE);},slot:"1,0"},B({cssText:"width:250px;",bindings:{visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.dt!=3",value:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.img.src",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM && mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_IMAGE"},constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,validator:function(V){if(this.required&&!(/^(https|http)\:\/\//i.test(V))){return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:""};}return{code:mstrmojo.validation.STATUSCODE.VALID,msg:""};}},updateModel:function(){if(R.model){R.model.data.hsc.cst.fmt.ttl.img.set("src",this.value);}},invalidateModel:function(){if(R.model){delete R.model.data.hsc.cst.fmt.ttl.img.src;}},slot:"1,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7824),slot:"1,2",bindings:{visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.dt!=3"}}]});var E=mstrmojo.insert({id:"buttonStyle",n:mstrmojo.desc(7802),scriptClass:"mstrmojo.Table",cellSpacing:8,rows:4,cols:2,children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7819),slot:"0,0"},mstrmojo.ColorPicker.createDropDown({showUserPalette:false,useAnimate:false,bindings:{fillColor:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.brd.clr)"},onfillColorChange:function(V){R.model.data.hsc.cst.fmt.btn.brd.set("clr",mstrmojo.color.encodeColor(this.fillColor));},slot:"0,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7993),slot:"1,0"},mstrmojo.ColorPicker.createDropDown({showUserPalette:false,useAnimate:false,bindings:{fillColor:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.fll.clr)"},onfillColorChange:function(V){R.model.data.hsc.cst.fmt.btn.fll.set("clr",mstrmojo.color.encodeColor(this.fillColor));},slot:"1,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7807)+":",slot:"2,0"},mstrmojo.ColorPicker.createDropDown({showUserPalette:false,useAnimate:false,bindings:{fillColor:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.fnt.clr)"},onfillColorChange:function(V){R.model.data.hsc.cst.fmt.btn.fnt.set("clr",mstrmojo.color.encodeColor(this.fillColor));},slot:"2,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(3059),slot:"3,0"},{scriptClass:"mstrmojo.SelectBox",cssText:"width: 105px;",size:1,items:[{n:mstrmojo.desc(7804),v:A.STYLE_GLASS},{n:mstrmojo.desc(7805),v:A.STYLE_FLAT},{n:mstrmojo.desc(2258),v:A.STYLE_NONE}],bindings:{selectedItem:"{v:mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.stl}"},onchange:function(V){R.model.data.hsc.cst.fmt.btn.set("stl",this.selectedItem.v);},slot:"3,1"}]});var N=mstrmojo.insert({id:"caption",n:mstrmojo.desc(6462),scriptClass:"mstrmojo.Table",cellSpacing:15,rows:3,cols:2,layout:[{cells:[{},{}]},{cssText:"vertical-align:top;",cells:[{},{}]},{cells:[{},{}]}],children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(6462)+":",slot:"0,0"},{scriptClass:"mstrmojo.TextBox",cssText:"width: 300px; ",bindings:{value:"mstrmojo.all.buttonTileList.selectedItem.cap.txt"},onkeyup:function(){if(J.selectedItem){J.selectedItem.cap.set("txt",this.value);}},slot:"0,1"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(1154),slot:"1,0"},{scriptClass:"mstrmojo.TextArea",cssText:"width: 300px; height:85px; border: 2px inset #D4D0C8",rows:5,bindings:{value:"mstrmojo.all.buttonTileList.selectedItem.dsc.txt"},onkeyup:function(){if(J.selectedItem){J.selectedItem.dsc.set("txt",this.value);}},slot:"1,1"},{scriptClass:"mstrmojo.Label",cssText:"width:300px; margin-left:5px;",text:"<span style='font-weight:bold;margin-right:5px;'>"+mstrmojo.desc(7829)+"</span>"+mstrmojo.desc(7808),slot:"2,1"}]});var G=mstrmojo.insert({scriptClass:"mstrmojo.StackContainer",cssText:"margin:15px 0 0 15px",children:[mstrmojo.insert({v:A.ACT_RUNREPORT,n:mstrmojo.desc(7812),layout:[{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{},{},{}]}],scriptClass:"mstrmojo.Table",bindings:{act:"mstrmojo.all.buttonTileList.selectedItem.act"},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(3319),cssText:"width: 40px",slot:"0,0"},B({cssText:"margin-left:5px;width:300px; ",readOnly:true,bindings:{enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM && this.parent.act.tp === this.parent.v",value:"this.parent.act.rs.oi.pt"},slot:"0,1"}),A.createObjBrowserDropdown({browsableTypes:"3,8,55",targetType:"rs",bindings:{target:"this.parent.act"},slot:"0,2"}),{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8487),bindings:{checked:"this.parent.act.rs.pcc",enabled:"this.parent.act.rs != null"},onclick:function(){this.parent.act.rs.set("pcc",this.checked);this.parent.act.rs.set("pcf",null);},slot:"1,0"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(8488),cssText:"margin: 2px 0 2px 5px",slot:"2,1"},{scriptClass:"mstrmojo.TextBox",cssText:"margin-left:5px;width:300px;",readOnly:true,bindings:{enabled:"this.parent.act.rs != null && this.parent.act.rs.pcc",value:"this.parent.act.rs.pcf.oi.pt"},slot:"3,1"},A.createObjBrowserDropdown({targetType:"pcf",bindings:{enabled:"this.parent.act.rs != null && this.parent.act.rs.pcc",target:"this.parent.act.rs",isIphone:H,browsableTypes:"this.isIphone ? '8,17153':'8'"},slot:"3,2"})]}),mstrmojo.insert({v:A.ACT_BROWSEFOLDER,n:mstrmojo.desc(7813),scriptClass:"mstrmojo.Table",layout:[{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],bindings:{act:"mstrmojo.all.buttonTileList.selectedItem.act"},children:[{slot:"0,0",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7818),cssText:"width: 40px"},B({slot:"0,1",cssText:"margin-left:5px;width:300px;",readOnly:true,bindings:{enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM && this.parent.act.tp == this.parent.v",value:"this.parent.act.fd.oi.pt"}}),A.createObjBrowserDropdown({slot:"0,2",targetType:"fd",bindings:{target:"this.parent.act",isIphone:H,browsableTypes:"this.isIphone ? '8,17153':'8'"},allowCheckSubscription:true}),{slot:"1,0",scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8333),bindings:{enabled:"this.parent.act.fd != null",checked:"this.parent.act.fd.csp"},onclick:function(){this.parent.act.fd.csp=this.checked;}},{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8485),bindings:{enabled:"this.parent.act.fd != null",checked:"this.parent.act.fd.pcc"},onclick:function(){this.parent.act.fd.pcc=this.checked;},slot:"2,0"}]}),mstrmojo.insert({v:A.ACT_SETTINGS,n:mstrmojo.desc(7814),scriptClass:"mstrmojo.Label"}),mstrmojo.insert({v:A.ACT_SHAREDLIBRARY,n:mstrmojo.desc(7816),scriptClass:"mstrmojo.Label"}),mstrmojo.insert({v:A.ACT_HELP,n:mstrmojo.desc(7817),scriptClass:"mstrmojo.Label"})]});if(mstrApp.device==A.DEVICE_IPHONE){G.addChildren(mstrmojo.insert({v:A.ACT_FAVOURITES,n:mstrmojo.desc(7815),scriptClass:"mstrmojo.Label"}),2);}if(mstrApp.device==A.DEVICE_PHONE_UNIVERSAL){G.addChildren(mstrmojo.insert({v:A.ACT_FAVOURITES,n:mstrmojo.desc(9279),scriptClass:"mstrmojo.Label"}),2);}var S=mstrmojo.insert({id:"action",n:mstrmojo.desc(762),scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.HBox",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7820)},{scriptClass:"mstrmojo.SelectBox",size:1,alias:"selector",cssText:"margin-left: 5px; width:200px;",bindings:{selectedItem:"{v:mstrmojo.all.buttonTileList.selectedItem.act.tp}"},ontargetChange:function(){var W=this.target.children;this.items=[];for(var V=0;V<W.length;V++){this.items.push({n:W[V].n,v:W[V].v});}this.set("selectedIndex",0);},onchange:function(){if(this.target){this.target.set("selected",this.target.children[this.selectedIndex]);}if(J.selectedItem&&J.selectedItem.set){J.selectedItem.act.set("tp",this.selectedItem.v);}},postCreate:function(){this.set("target",G);}}]},{scriptClass:"mstrmojo.FieldSet",cssText:"width:430px;height:160px;margin-top:10px",alias:"stack",children:[G]}]});var K=mstrmojo.insert({id:"icon",n:mstrmojo.desc(7809),scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.RadioButton",name:"iconType",label:mstrmojo.desc(7810),value:1,cssDisplay:"block",cssClass:"iphoneSetting-radioButton",bindings:{checked:"mstrmojo.all.buttonTileList.selectedItem.icn.tp === mstrmojo.mobileConfigUtil.ICON_DEFAULT"},onclick:function(){J.selectedItem.icn.set("tp",A.ICON_DEFAULT);}},{scriptClass:"mstrmojo.RadioButton",name:"iconType",label:mstrmojo.desc(7811),value:2,cssDisplay:"block",cssClass:"iphoneSetting-radioButton",bindings:{checked:"mstrmojo.all.buttonTileList.selectedItem.icn.tp === mstrmojo.mobileConfigUtil.ICON_IMAGE"},onclick:function(){var V=J.selectedItem.icn;V.set("tp",A.ICON_IMAGE);}},{scriptClass:"mstrmojo.HBox",cssText:"margin-left: 40px",children:[{scriptClass:"mstrmojo.Label",cssText:"width:70px;",text:mstrmojo.desc(7801)},B({cssText:"width: 300px;margin-left:5px;",bindings:{value:"mstrmojo.all.buttonTileList.selectedItem.icn.img.src",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM && mstrmojo.all.buttonTileList.selectedItem.icn.tp === mstrmojo.mobileConfigUtil.ICON_IMAGE"},constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,validator:function(V){if(this.required&&!(/^(https|http)\:\/\//i.test(V))){return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:""};}return{code:mstrmojo.validation.STATUSCODE.VALID,msg:""};}},updateModel:function(){if(J.selectedItem){J.selectedItem.icn.img.set("src",this.value);}},invalidateModel:function(){if(J.selectedItem){delete J.selectedItem.icn.img.src;}}})]}]});var L=mstrmojo.insert({scriptClass:"mstrmojo.FieldSet",id:"formatSettings",legend:mstrmojo.desc(1918),cssClass:"homescreen-fieldset",cssText:"width: 500px;height: 200px;",children:[{scriptClass:"mstrmojo.SelectBox",cssText:"width: 185px;",alias:"selector",size:1,onchange:function(){this.target.set("selected",this.target.children[this.selectedIndex]);},ontargetChange:function(V){var X=this.target.children;this.items=[];for(var W=0;W<X.length;W++){this.items.push({n:X[W].n,v:X[W].id});}this.set("selectedIndex",0);}},{alias:"stack",scriptClass:"mstrmojo.StackContainer",cssText:"margin: 10px 0 0 35px;",renderMode:null,children:[T,C,E],postCreate:function(){this.parent.selector.set("target",this);}}]});var F=mstrmojo.insert({scriptClass:"mstrmojo.FieldSet",legend:mstrmojo.desc(7821),cssClass:"homescreen-fieldset",cssText:"height:300px;width: 500px;",children:[{scriptClass:"mstrmojo.VBox",bindings:{visible:"!!mstrmojo.all.buttonTileList.selectedItem"},children:[{scriptClass:"mstrmojo.SelectBox",alias:"selector",cssText:"margin:5px 10px 0 0; width:185px;",size:1,onchange:function(){this.target.set("selected",this.target.children[this.selectedIndex]);},ontargetChange:function(V){var X=this.target.children;this.items=[];for(var W=0;W<X.length;W++){this.items.push({n:X[W].n,v:X[W].id});}this.set("selectedIndex",1);}},{alias:"stack",scriptClass:"mstrmojo.StackContainer",cssText:"margin: 10px 0 0 35px;",children:[N,S,K],postCreate:function(){this.parent.selector.set("target",this);}}]}]});var D=mstrmojo.insert({scriptClass:"mstrmojo.HBox",id:"iphoneTileList-controlPanel",bindings:{totalPages:"(mstrmojo.all.buttonTileList.items.length>0)?Math.ceil(mstrmojo.all.buttonTileList.items.length/9):1",currentPage:"mstrmojo.all.buttonTileList.page+1"},children:[{scriptClass:"mstrmojo.Button",iconClass:"iphoneTileList-addBtn",title:mstrmojo.desc(7822),onclick:function(){if(R.model.defaultButton===undefined){var W=this;R.model.getDefaultConfig(A.DEFAULT_IPHONE_HOMESCREEN_BUTTON,function(X){R.model.defaultButton=X;W.onclick();});}else{var V=J.add([A.makeButtonHashable(P.clone(R.model.defaultButton))]);J.set("selectedIndex",V);if(Math.floor(V/9)+1!==this.parent.currentPage){J.set("page",Math.floor(V/9));}R.model.validate();}}},{scriptClass:"mstrmojo.Button",iconClass:"iphoneTileList-delBtn",title:mstrmojo.desc(7823),bindings:{enabled:"mstrmojo.all.buttonTileList.selectedIndex > -1"},onclick:function(){var V=J.selectedIndex;if(V>-1){J.remove(J.selectedItem);if(V==J.items.length){V--;}J.set("selectedIndex",V);if(Math.floor(V/9)+1!==this.parent.currentPage){J.set("page",Math.floor(V/9));}R.model.validate();}}},{scriptClass:"mstrmojo.Button",cssText:"margin-left: 25px",iconClass:"iphoneTileList-prevPage",alias:"prevPage",bindings:{enabled:"this.parent.currentPage > 1"},onclick:function(){J.set("page",J.page-1);}},{scriptClass:"mstrmojo.Label",alias:"pageIndicator",bindings:{text:"'"+mstrmojo.desc(7827).replace(/###/,"'+this.parent.totalPages+'").replace(/##/,"'+this.parent.currentPage+'")+"'"}},{scriptClass:"mstrmojo.Button",iconClass:"iphoneTileList-nextPage",alias:"nextPage",bindings:{enabled:"this.parent.currentPage < this.parent.totalPages"},enabled:false,onclick:function(){J.set("page",J.page+1);}}]});var M=mstrmojo.insert({scriptClass:"mstrmojo.HBox",cssClass:"homescreen-custom",cssText:"width:870px",id:"customHomescreen",bindings:{visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM"},children:[{scriptClass:"mstrmojo.Container",markupString:"<div class='{@cssClass}'></div>",markupSlots:{containerNode:function(){return this.domNode;}},cssClass:"homescreen-leftPanel",cssText:"height:520px;width:325px;",children:[D,{scriptClass:"mstrmojo.Label",id:"textTitle",cssClass:"iphoneTextTitlebar",cssText:"font: bold 20px Arial;",bindings:{visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_REGULAR",text:function(){var V=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.cap.txt;if(V&&V.length>20){V=V.substring(0,20)+"...";}return V;}}},{scriptClass:"mstrmojo.Widget",id:"imgTitle",markupString:"<div class='{@cssClass}'><img src=''></div>",markupSlots:{imgNode:function(){return this.domNode.firstChild;}},cssClass:"iphoneImageTitlebar",bindings:{visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_IMAGE",bgImg:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.img.src"},markupMethods:{onbgImgChange:function(){if(this.bgImg){this.imgNode.src=this.bgImg;this.imgNode.style.display="none";var W=this;var V=new Image();V.onload=function(){var Z=232,d=44;var Y=this.width,b=this.height;var a=(Y<Z)?1:(Y/Z),X=(b<d)?1:(b/d);var c=(a>X)?a:X;var e=W.imgNode;if(e){e.width=(Y/c);e.height=(b/c);e.src=W.bgImg;if(b/c<=d){e.style.paddingTop=(d-b/c)/2+"px";}e.style.display="inline";}};V.src=W.bgImg;}else{this.imgNode.src="";this.imgNode.style.display="none";}},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}}},J,{scriptClass:"mstrmojo.Widget",markupString:"<img src='' class='{@cssClass}'></img>",cssClass:"iphoneTileList-background",bindings:{bgImg:function(){if(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp===mstrmojo.mobileConfigUtil.BACKGROUND_IMAGE){return mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.img.src;}}},markupMethods:{onbgImgChange:function(){if(!this.bgImg){this.domNode.style.display="none";}else{this.domNode.style.display="block";this.domNode.src=this.bgImg;}}}}]},{scriptClass:"mstrmojo.VBox",cssText:"width:500px;height:520px;",children:[L,F]}]});function Q(Y,W,X){var V={scriptClass:"mstrmojo.RadioButton",name:"homescreen",label:W,cssText:"margin: 5px 10px 5px 0px;",cssDisplay:"block",value:Y,bindings:{checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === this.value"},onclick:function(){R.model.data.hsc.set("tp",Y);}};if(X){V.slot=X;}return V;}var I=mstrmojo.insert({scriptClass:"mstrmojo.Table",layout:[{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],children:[{scriptClass:"mstrmojo.RadioButton",name:"homescreen",label:mstrmojo.desc(7797),cssText:"margin: 5px 10px 5px 0px;",cssDisplay:"block",value:A.HOMESCREEN_DEFAULT,bindings:{checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === this.value"},getDefaultHomeScreen:function(){var V=R.model.data.hsc,W=(mstrApp.device==A.DEVICE_IPHONE)?A.DEFAULT_IPHONE_CUSTOM_HOMESCREEN:A.DEFAULT_PHONE_UNIVERSAL_CUSTOM_HOMESCREEN;R.model.getDefaultConfig(W,function(X){A.makeCSTHomescreenHashable({cst:X});V.set("tp",A.HOMESCREEN_DEFAULT);V.set("cst",X);});},onclick:function(){this.getDefaultHomeScreen();},slot:"0,0"},Q(A.HOMESCREEN_FOLDER,mstrmojo.desc(7798),"1,0"),B({cssText:"width: 335px;",readOnly:true,bindings:{value:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.fd.oi.pt",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER"},slot:"1,1"}),A.createObjBrowserDropdown({targetType:"fd",bindings:{target:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",isIphone:H,browsableTypes:"this.isIphone ? '8,17153':'8'"},allowCheckSubscription:true,slot:"1,2"}),{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8333),cssText:"margin-left: 16px",bindings:{folder:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.fd",enabled:"this.folder != null && mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",checked:"this.folder.csp"},onclick:function(){if(this.folder!=null){this.folder.csp=this.checked;}},slot:"2,0"},{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8485),cssText:"margin-left: 16px",bindings:{folder:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.fd",enabled:"this.folder != null && mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",checked:"this.folder.pcc"},onclick:function(){if(this.folder!=null){this.folder.pcc=this.checked;}},slot:"3,0"},{scriptClass:"mstrmojo.RadioButton",name:"homescreen_X",label:mstrmojo.desc(7800),cssDisplay:"block",bindings:{checked:function(){var V=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp;return V===A.HOMESCREEN_RD||V===A.HOMESCREEN_CUSTOM;}},onclick:function(){this.parent.rsHSTRadio.onclick();},slot:"4,0"},{scriptClass:"mstrmojo.RadioButton",name:"ipadHomescreen",alias:"rsHSTRadio",label:mstrmojo.desc(7799),cssText:"margin: 5px 10px 5px 20px",cssDisplay:"block",value:A.HOMESCREEN_RD,bindings:{visible:function(){var V=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp;return V==A.HOMESCREEN_RD||V==A.HOMESCREEN_CUSTOM;},checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === this.value"},oncheckedChange:function(){if(this.checked!==undefined){var V=R.model.data.hsc;if(this.checked){if(!V.rs){V.set("rs",new mstrmojo.Obj({sobs:[],pb:new mstrmojo.Obj({iv:false,clr:14540253,pos:1,opa:1})}));}}}},onclick:function(){var V=R.model.data.hsc;V.set("tp",A.HOMESCREEN_RD);},slot:"5,0"},B({cssText:"width: 335px;",readOnly:true,bindings:{visible:function(){var V=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp;return V==A.HOMESCREEN_RD||V==A.HOMESCREEN_CUSTOM;},value:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.rs.oi.pt",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD"},slot:"5,1"}),A.createObjBrowserDropdown({browsableTypes:"3,8,55",targetType:"rs",bindings:{visible:function(){var V=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp;return V==A.HOMESCREEN_RD||V==A.HOMESCREEN_CUSTOM;},target:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD"},slot:"5,2"}),P.copy({slot:"6,0"},mstrmojo.all.ipadHomescreen_tab.createPreCacheHomescreen("iphonePreCacheItemList","mstrmojo.all.iphoneHomescreen_tab")),P.copy({slot:"7,0"},mstrmojo.all.ipadHomescreen_tab.createProgressBarHomescreen("mstrmojo.all.iphoneHomescreen_tab")),{scriptClass:"mstrmojo.RadioButton",name:"homescreen",alias:"customHSTRadio",label:mstrmojo.desc(8629),cssText:"margin: 5px 10px 5px 20px;",cssDisplay:"block",value:A.HOMESCREEN_CUSTOM,bindings:{visible:function(){var V=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp;return V==A.HOMESCREEN_RD||V==A.HOMESCREEN_CUSTOM;},checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === this.value"},onclick:function(){var V=R.model.data.hsc,W=(mstrApp.device==A.DEVICE_IPHONE)?A.DEFAULT_IPHONE_CUSTOM_HOMESCREEN:A.DEFAULT_PHONE_UNIVERSAL_CUSTOM_HOMESCREEN;if(V.cst===undefined){R.model.getDefaultConfig(W,function(X){A.makeCSTHomescreenHashable({cst:X});V.set("cst",X);V.set("tp",A.HOMESCREEN_CUSTOM);});}else{V.set("tp",A.HOMESCREEN_CUSTOM);}},slot:"8,0"},P.copy({slot:"9,0"},M)]});R.addChildren(I);})();(function(){mstrmojo.requiresCls("mstrmojo.mobileConfigUtil","mstrmojo.Table","mstrmojo.ValidationTextBox","mstrmojo.TabContainer","mstrmojo.TabStrip","mstrmojo.StackContainer","mstrmojo.HBox","mstrmojo.HTMLButton","mstrmojo.string","mstrmojo.BlackBerry_tab","mstrmojo.iPhone_tab","mstrmojo.connect_tab","mstrmojo.ipadHomescreen_tab","mstrmojo.iphoneHomescreen_tab");mstrmojo.requiresDescs(118,221,7765,7896,8453,8454);var A=mstrmojo.mobileConfigUtil;mstrmojo.editConfig=mstrmojo.insert({scriptClass:"mstrmojo.VBox",id:"editConfig",model:null,_set_model:function(C,B){this.model=B;mstrmojo.all.BlackBerry_tab.set("model",B);mstrmojo.all.iPhone_tab.set("model",B);mstrmojo.all.connect_tab.set("model",B);mstrmojo.all.iphoneHomescreen_tab.set("model",B);mstrmojo.all.ipadHomescreen_tab.set("model",B);return true;},toConfList:function(){mstrmojo.form.send({evt:3004,target:"mobileList"});},children:[{scriptClass:"mstrmojo.HBox",cssText:"margin-top:5px",children:[A.propertyName(mstrmojo.desc(7765)+":",null,"padding-left:30px;margin: 5px 0px 0px 5px;width:178px"),{scriptClass:"mstrmojo.ValidationTextBox",alias:"cnVTB",cssClass:"mobileconfig-TextBox",required:true,dtp:mstrmojo.expr.DTP.CHAR,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL},bindings:{value:"this.parent.parent.model.data.n"},onValid:function(){var B=this.parent.parent.model;A.setValidValue(B.data,"n",this.value);B.validate();},onInvalid:function(){var B=this.parent.parent.model;if(B){delete B.data.n;B.set("validFlag",false);}}}]},{scriptClass:"mstrmojo.TabContainer",alias:"tabCtnr",cssClass:"mobileconfig-tabContainer",children:[{scriptClass:"mstrmojo.TabStrip",slot:"top",autoHide:true,target:this.parent.tabsstack},{scriptClass:"mstrmojo.StackContainer",slot:"stack",alias:"tabsstack",cssClass:"mstrmojo-StackContainer-Border",border:"1px solid #AAAAAA",postCreate:function(){var B=(mstrApp.device)?mstrApp.device:undefined;switch(B){case"3":mstrmojo.all.iPhone_tab.set("n",mstrmojo.desc(8453,"Phone Settings"));case"1":this.set("children",[mstrmojo.all.iPhone_tab,mstrmojo.all.connect_tab,mstrmojo.all.iphoneHomescreen_tab]);break;case"4":case"2":mstrmojo.all.iPhone_tab.set("n",B=="2"?mstrmojo.desc(7896):mstrmojo.desc(8454,"Tablet Settings"));this.set("children",[mstrmojo.all.iPhone_tab,mstrmojo.all.connect_tab,mstrmojo.all.ipadHomescreen_tab]);break;case"5":this.set("children",[mstrmojo.all.BlackBerry_tab,mstrmojo.all.connect_tab]);break;default:break;}this.set("selected",this.children[0]);}}]},{scriptClass:"mstrmojo.HBox",cssText:"margin-left:150px;margin-bottom:8px;height:25px",save:function(B){var E=function(H,F,G){if(H=="pl"){return"prj";}else{if(H=="tcs"){return"cer";}else{return H.substr(0,H.length-1);}}},D=A.obj2Xml(this.parent.model.data,"cnf",true,false,null,E);var C=this;if(this.parent.model.data.cid){mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(F){if(B){C.parent.toConfList();}},failure:function(F){A.showErrorMsgBox(F.getResponseHeader("X-MSTR-TaskFailureMsg"));}},{taskId:"updateMobileConfiguration",taskEnv:"xhr",configurationID:this.parent.model.data.cid,configurationXML:D},null,null);}else{mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(F){if(B){C.parent.toConfList();}},failure:function(F){A.showErrorMsgBox(F.getResponseHeader("X-MSTR-TaskFailureMsg"));}},{taskId:"createMobileConfiguration",taskEnv:"xhr",configurationXML:D},null,null);return ;}},children:[{scriptClass:"mstrmojo.Button",cssClass:"mobileconfig-Button",cssText:"margin-right:30px;font-weight:bold",text:mstrmojo.desc(118),bindings:{enabled:"this.parent.parent.model.validFlag"},onclick:function(B){this.parent.save(true);}},{scriptClass:"mstrmojo.Button",cssText:"margin-left:30px;font-weight:bold",cssClass:"mobileconfig-Button",text:mstrmojo.desc(221),onclick:function(B){this.parent.parent.toConfList();}}]}]});})();(function(){mstrmojo.requiresCls("mstrmojo.Table","mstrmojo.HBox","mstrmojo.Label","mstrmojo.Button","mstrmojo.HBox","mstrmojo.editConfig");mstrmojo.mobileConfigView=mstrmojo.insert({scriptClass:"mstrmojo.Table",id:"mobileConfigView",placeholder:"mobileConfigView",cssText:"border: 1px solid #808080;width:100%;border-collapse: collapse;padding-left:5px",layout:[{cssClass:"mstrPanelTitleBar",cells:[{}]},{cells:[{}]}],children:[{slot:"0,0",scriptClass:"mstrmojo.HBox",cssText:"width:100%",children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrPanelTitle",text:mstrmojo.desc(7764)},{scriptClass:"mstrmojo.Widget",markupString:'<a href="{@helpRef}" style="float:right" target="_new"><img class="mstrIcon-btn mstrIcon-btnHelp" src="../images/1ptrans.gif"></img></a>',title:mstrmojo.desc(1143),helpRef:(mstrApp.helpUrl||"../help/")+"MobileServer/WebHelp/Lang_"+mstrApp.localeId+"/mobileserver.htm#Configuring_MicroStrategy_Mobile.htm"}]},{slot:"1,0",scriptClass:"mstrmojo.HBox",children:[mstrmojo.all.editConfig]}]}).render();})();(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.mobileConfigView","mstrmojo.mobileConfigUtil");var A=mstrmojo.mobileConfigUtil,C=[];C[A.DEVICE_IPHONE]=A.DEFAULT_IPHONE_CUSTOM_HOMESCREEN;C[A.DEVICE_IPAD]=A.DEFAULT_IPAD_CUSTOM_HOMESCREEN;C[A.DEVICE_PHONE_UNIVERSAL]=A.DEFAULT_PHONE_UNIVERSAL_CUSTOM_HOMESCREEN;C[A.DEVICE_TABLET_UNIVERSAL]=A.DEFAULT_TABLET_UNIVERSAL_CUSTOM_HOMESCREEN;function B(F,E){if(E){if(F===undefined||F.oi===undefined||F.oi.did===undefined){return false;}}return true;}function D(L){if(L.gnl){var G=L.dt,M=L.gnl,P=[];if(G!="5"){P=["ml","nt","mls","mgc","sci","cvi","art","dmatp","dcn","dd"];if(isNaN(parseInt(M.pe.v,10))||isNaN(parseInt(M.rar.v,10))){return false;}if(M.ucs.v&&!M.cs.v){return false;}}else{P=["apf","chs","cmi","cmt","cmw","ctk","mds","mff","mrl","nrt","plp","rpc","rsel","rsl","rtu","scf","slm","svc","tcp","tgt","tls","tqs","ums","wsc"];}for(var N=0;N<P.length;N++){if(M[P[N]].v===undefined){return false;}}}if(L.cty){var S=L.cty.tcs,F=L.cty.wsl;for(var N=0,Q=S.length;N<Q;N++){if(S[N].url===undefined){return false;}}for(var N=0,Q=F.length;N<Q;N++){var R=F[N];if(R.po===undefined||R.pt===undefined||R.nm===undefined){return false;}for(var K=0,J=R.pl,I=J.length;K<I;K++){if(J[K].asd===true&&(!J[K].sc||!J[K].sc.oi)){return false;}}}}if(L.hsc&&L.hsc.tp===A.HOMESCREEN_CUSTOM){var O=L.hsc.cst;if(O.fmt.bkg.tp===A.BACKGROUND_IMAGE){if(!O.fmt.bkg.img.src){return false;}}if(O.fmt.ttl.tp===A.TITLEBAR_IMAGE){if(!O.fmt.ttl.img.src){return false;}}for(var N=0,H=O.btns.length;N<H;N++){var E=O.btns[N];if(E.icn.tp===A.ICON_IMAGE){if(!E.icn.img.src){return false;}}}}if(L.n===undefined){return false;}return true;}mstrmojo.insert({scriptClass:"mstrmojo.Obj",id:"mobileConfig",validFlag:false,clearConfigData:function(){delete this.data;},refreshConfigData:function(H,F){var E=this,G={taskEnv:"xhr",blockVersion:1};if(H){G.taskId="getMobileConfiguration";G.configurationID=H;G.outputType=A.OUTPUT_TYPE_ALL;}else{G.taskId="getNewMobileConfiguration";G.deviceType=F;}mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(J){if(J){A.makeHashable(J.cty);if(J.hsc){A.makeCSTHomescreenHashable(J.hsc);}mstrmojo.all.mobileConfig.set("data",J);if(J.hsc&&J.hsc.tp==A.HOMESCREEN_DEFAULT){var I=J.hsc,K=C[mstrApp.device];E.getDefaultConfig(K,function(L){A.makeCSTHomescreenHashable({cst:L});I.set("cst",L);});}}},failure:function(I){A.showErrorMsgBox(I.getResponseHeader("X-MSTR-TaskFailureMsg"));}},G,false,null);},getDefaultConfig:function(F,E){mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:E,failure:function(G){if(G){A.showErrorMsgBox(G.getResponseHeader("X-MSTR-TaskFailureMsg"));}}},{taskId:"getMobileConfigurationBlock",configBlockType:F,taskEnv:"xhr",blockVersion:1},false,null);},getProjects:function(J,E){var F={};var K=[];if(this.data){for(var M=this.data.cty.wsl,I=0;I<M.length;I++){for(var G=M[I].pl,H=0;H<G.length;H++){var L=G[H].pid+"_"+G[H].sn;if(!F[L]){F[L]=1;var N={n:(G[H].pn+"("+G[H].sn+")"),v:G[H].pid,webServer:A.getWebSrvUrl(M[I]),iServer:G[H].sn,project:G[H].pn,authMode:(G[H].udc===true)?M[I].pdc.am:G[H].pc.am,transferAuthHeader:A.getTransferAuth(M[I])};if(J===N.v&&E===N.iServer){return[N];}K.push(N);}}}}return K;},validate:function(){var H=D(this.data);var F=this.data.hsc;if(F){H&=B(F.fd,F.tp===A.HOMESCREEN_FOLDER);H&=B(F.rs,F.tp===A.HOMESCREEN_RD);if(F.tp===A.HOMESCREEN_RD&&F.rs){var K=F.rs.sobs;for(var I=0,E=K.length;I<E;I++){var G=K[I];H&=B(G.rs,G.tp===A.ACT_RUNREPORT);H&=B(G.fd,G.tp===A.ACT_BROWSEFOLDER);}if(F.tp===A.HOMESCREEN_CUSTOM&&F.cst){var J=F.cst.btns;for(var I=0,E=J.length;I<E;I++){var G=J[I].act;H&=B(G.rs,G.tp===A.ACT_RUNREPORT);H&=B(G.fd,G.tp===A.ACT_BROWSEFOLDER);}}}}this.set("validFlag",!!H);},postCreate:function(){this.refreshConfigData((mstrApp.configId==="")?undefined:mstrmojo.string.decodeHtmlString(mstrApp.configId),(mstrApp.device==="")?undefined:mstrApp.device);}});mstrmojo.all.editConfig.set("model",mstrmojo.all.mobileConfig);})();