(function(){mstrmojo.ObjectBrowserDataProvider=mstrmojo.declare(mstrmojo.Object,null,{scriptClass:"mstrmojo.ObjectBrowserDataProvider",callback:null,ob:null,item:null,path:mstrConfig.taskURL,fetchFolderContents:function(A,B,E){this.ob=A;this.item=B;this.callback=E;var C=this.ob.blockCount,D={taskId:"searchMetadata",styleName:"MojoFolderStyle",blockCount:C,includeAncestorInfo:true,includeObjectDesc:A.includeObjectDesc};if(A.folderLinksContextId){D.folderLinksContextId=A.folderLinksContextId;}if(A.sId){D.sessionState=A.sId;}if(B.fid){D.rootFolderID=B.fid;}else{if(B.fty){D.rootFolderType=B.fty;}}if(A.browsableTypes){D.objectType=A.browsableTypes;}if(B.blockBegin){D.blockBegin=B.blockBegin;}if(B.searchPattern){D.searchPattern=B.searchPattern;if(B.recursive){D.recursive=B.recursive;}}mstrmojo.xhr.request("POST",this.path,E,D,undefined,this.XServer,this.baseParams);},newFolder:function(D,E,C,A){var B={taskId:"createFolder",folderID:D,name:E,description:C};mstrmojo.xhr.request("POST",this.path,A,B,undefined,this.XServer,this.baseParams);}});})();(function(){mstrmojo._CanRenderChildrenOnShow=mstrmojo.provide("mstrmojo._CanRenderChildrenOnShow",{_subs_renderOnShow:null,childRenderCheck:function B(D){if(this.renderMode!=="onshow"){return this._super(D);}else{if(D.visible){return this._super(D);}else{var C=this._subs_renderOnShow;if(!C){C={};this._subs_renderOnShow=C;}if(!C[D.id]){C[D.id]=D.attachEventListener("visibleChange",this.id,"_on_child_visibleChange");}return false;}}},_on_child_visibleChange:function A(C){if(this.hasRendered){var E=C&&C.src;if(E&&this.childRenderCheck(E)){var D=this._subs_renderOnShow;if(D){E.detachEventListener(D[E.id]);delete D[E.id];}E.render();}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.string");var D=mstrmojo.string,F=1;mstrmojo.ListBuilder=mstrmojo.provide("mstrmojo.ListBuilder",{newContext:function E(G){var I=G.itemMarkupFunction;if(!I){var H=G.itemMarkup||(G.itemField&&'<div class="mstrmojo-text">{@'+G.itemField+"}</div>");I=H?function(K,J,L){return D.apply(H,K);}:null;}return{itemStatus:[],itemFunc:I};},build:function A(I,H,J,G){H.itemStatus[G]=F;return H.itemFunc(J,G,I);},onadd:function B(I,G,H){if(G){mstrmojo.array.insert(G.itemStatus,H.index,new Array(H.value.length));}},onremove:function C(I,G,H){if(G){G.itemStatus.splice(H.index,H.value.length);}}});})();(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash");var C=mstrmojo.array,L=mstrmojo.hash;function F(V,T){var W=[],Q=V.selectedIndices,P=V.allIdx;var R,S,U=V.items;if(V.multiSelect&&(P>-1)&&(C.indexOf(T,V.allIdx)>-1)){for(R=0,S=U.length;R<S;R++){if(!Q[R]){W.push(R);Q[R]=true;V.selectedIndex=R;V.selectedItem=U[R];}}}else{for(R=0,S=T.length;R<S;R++){var X=T[R];if(!Q[X]){Q[X]=true;W.push(X);V.selectedIndex=X;V.selectedItem=U[X];}}}return W;}function B(R){var Q=[],S=R.selectedIndices;for(var P in S){delete S[P];Q.push(parseInt(P,10));}R.selectedIndex=-1;R.selectedItem=null;return Q;}function N(V,U){var S=[],Q=V.selectedIndices,X=C.indexOf,P=V.allIdx;if(V.multiSelect&&(P>-1)&&(X(U,P)>-1)){return B(V);}if(U.length>0&&Q[P]){if(X(U,P)<0){U.push(P);}}for(var R=0,T=U.length;R<T;R++){var W=U[R];if(Q[W]){delete Q[W];S.push(W);if(V.selectedIndex==W){V.selectedIndex=-1;V.selectedItem=null;}}}return S;}function A(S,R){var P=S.selectedIndices;if(!P){P={};S.selectedIndices=P;}if(!R){R={};}var U=S.selectedIndex,T=[],V;for(var Q in P){if(!R[Q]){V=parseInt(Q,10);delete P[Q];T.push(V);if(U==V){S.selectedIndex=-1;S.selectedItem=null;}}}var X=[],W=S.items;for(Q in R){if(!P[Q]){V=parseInt(Q,10);P[Q]=true;X.push(V);S.selectedIndex=V;S.selectedItem=W&&W[V];}}return{add:X,rmv:T};}function H(Q,P,R){if(Q.raiseEvent&&((P&&P.length)||(R&&R.length))){Q.raiseEvent({name:"change",added:P,removed:R});}}mstrmojo._ListBase2Selections=mstrmojo.provide("mstrmojo._ListBase2Selections",{multiSelect:false,selectedIndices:null,selectedIndex:-1,selectedItem:null,selectedIndices_bindEvents:"change",selectedIndex_bindEvents:"change",selectedItem_bindEvents:"change",allowUnlistedValues:true,insertUnlistedValuesAt:-1,allIdx:-1,singleSelect:function O(P,Q){if(!this.selectedIndices[P]||(this.selectionPolicy==="reselect")||(P!==this.allIdx&&this.selectedIndices[this.allIdx])){var R=B(this),S=F(this,[P]);if(Q!==true){H(this,S,R);}}},toggleSelect:function J(P,Q){var S,R;if(this.selectedIndices[P]){R=N(this,[P]);}else{S=F(this,[P]);}if(Q!==true){H(this,S,R);}},rangeSelect:function G(P,Q){this.singleSelect(P,Q);},clearSelect:function I(P){var Q=B(this);if(P!==true){H(this,null,Q);}},select:function E(R,P){var Q=A(this,C.hash(R));if((P!==true)&&(Q.add.length||Q.rmv.length)){H(this,Q.add,Q.rmv);}},addSelect:function M(R,P){if(R==null){return ;}if(R.constructor!==Array){R=[R];}var Q=F(this,R);if(P!==true){H(this,Q,null);}return Q;},removeSelect:function K(R,P){if(R==null){return ;}if(R.constructor!=Array){R=[R];}var Q=N(this,R);if(P!==true){H(this,null,Q);}return Q;},_set_selectedIndices:function(S,Q,P){if(this.selectedIndices===Q){return false;}var R=A(this,Q);if(R.add.length||R.rmv.length){if(P!==true){H(this,R.add,R.rmv);}}return false;},_set_selectedIndex:function(S,Q,P){var R={};if(Q>-1){R[Q]=true;}return this._set_selectedIndices(null,R,P);},_set_selectedItem:function(W,T,S){var R=T&&(typeof (T)=="object"),V=this.itemIdField,Q=-1,U=this.items;if(R&&V!=null){Q=C.find(U,V,T[V]);}else{if(T!=null){Q=C.indexOf(U,T);}}if((Q===-1)&&(T!=null)&&this.allowUnlistedValues){var P=this.insertUnlistedValuesAt;if(P==null||P<0){P=(U&&U.length)||0;}Q=P;this.add([T],Q);}return this._set_selectedIndex(null,Q,S);},initSelections:function D(T,Q,P,S,R){if(!this.selectedIndices){this.selectedIndices={};this.selectedIndex=-1;}if(T){this._set_selectedIndices(null,T,R);}else{if(Q){this.select(Q,R);}else{if(S){this._set_selectedItem(null,S,R);}else{if(P!=null){this._set_selectedIndex(null,P,R);}}}}},sortSelectedIndices:function(){return L.keyarray(this.selectedIndices,true).sort(C.numSorter);},removeSelectedItems:function(){var R=this.sortSelectedIndices(),P=R.length,S=R[P-1],Q=this.remove(R);S=Math.min(S+1-P,this.items.length-1);if(S>=0){this.singleSelect(S);}return Q;},getSelectedItems:function(){return C.get(this.items,this.sortSelectedIndices())||[];},setSelectedItems:function(Q,d){if(!Q||!Q.length){return ;}var S=this.items||[],s=this.itemIdField!=null?C.findMulti(S,this.itemIdField,Q):C.indexOfMulti(S,Q),V=Q.length,T=V-s.count,q=this.allowUnlistedValues,b=this.insertUnlistedValuesAt,X=(q&&(b>-1))?T:0;if(b<0){b=S.length;}var R=[],U=[],f=s.map;if(T&&q){var p=0;for(var e=0;e<V;e++){if(f[e]==null){R.push(Q[e]);U.push(b+p++);}}this.add(R,b);}var W=[];for(var h in f){var o=f[h];if(o>=b){o+=X;}W.push(o);}var r=W.concat(U),Y=this.addSelect(r,!d);if(!d){var Z=C.hash(Y),g=this.selectedIndices,a=[];for(var l in g){if(!Z[l]){a.push(parseInt(l,10));}}var P=this.removeSelect(a,true);H(this,Y,P);}}});})();(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash");var R=mstrmojo.dom,P=mstrmojo.hash;var M=100;var E=R.supportsTouches?0.5:1;var F=1;var Q=100;var N={onvscrollVisibleChange:function(){var U=this.vscrollNode,V=U&&U.style;if(!V){return ;}if(this.vscrollVisible){var T=this.maxPos,W=this.clientSize;V.height=Math.round(W.y*W.y/T.y)+"px";V.left=(W.x-5)+"px";V.display="block";V.opacity=0.5;}else{V.opacity=0;}},onhscrollVisibleChange:function(){var V=this.hscrollNode,U=V&&V.style;if(!U){return ;}if(this.hscrollVisible){var T=this.maxPos,W=this.clientSize;U.width=Math.round(W.x*W.x/T.x)+"px";U.top=(W.y-5)+"px";U.display="block";U.opacity=0.5;}else{U.opacity=0;}}};var K=P.copy({onposChange:function(){var V=this.clientSize,U=this.maxPos,T=0,W=0;if(this.scrollsVert){W=this.pos.y;if(this.vscrollVisible){this.vscrollNode.style[R.CSS3_TRANSFORM]="translateY("+Math.round((V.y-(V.y*V.y/U.y))*this.pos.y/U.y)+"px)";}}if(this.scrollsHoriz){T=this.pos.x;if(this.hscrollVisible){this.hscrollNode.style[R.CSS3_TRANSFORM]="translateX("+Math.round((V.x-(V.y*V.x/U.x))*this.pos.x/U.x)+"px)";}}this.scrollChild.style[R.CSS3_TRANSFORM]="translate3d(-"+parseInt(T,10)+"px, -"+parseInt(W,10)+"px, 0px)";},ondeceleratingChange:function(){this.scrollChild.style[R.CSS3_TRANSITION]=this.decelerating?(R.CSS3_PREFIX+"transform 0.2s linear"):"";}},P.copy(N));var G=P.copy({onposChange:function(){var V=this.clientSize,U=this.maxPos,T=0,X=0,W=this.scrollboxNode;if(this.scrollsVert){X=this.pos.y;if(this.vscrollVisible){this.vscrollNode.style.top=Math.round((V.y-(V.y*V.y/U.y))*this.pos.y/U.y)+"px";}W.scrollTop=parseInt(X,10);}if(this.scrollsHoriz){T=this.pos.x;if(this.hscrollVisible){this.hscrollNode.style.left=Math.round((V.x-(V.y*V.x/U.x))*this.pos.x/U.x)+"px";}W.scrollLeft=parseInt(T,10);}}},P.copy(N));mstrmojo._TouchScrolling=mstrmojo.provide("mstrmojo._TouchScrolling",{FRICTION:0.65,BOUNCEFRICTION:0.5,usesTouches:false,bounces:true,scrollsHoriz:true,scrollsVert:true,pos:null,preBuildRendering:function L(){this.usesTouches=(mstrmojo.dom.supportsTouches&&this.usesTouches&&(this.scrollsHoriz||this.scrollsVert));if(this.usesTouches){this.pos={x:0,y:0};}if(this._super){this._super();}},postBuildRendering:function C(){if(this._super){this._super();}if(this.usesTouches){var W=this.scrollboxNode,V=this.itemsContainerNode||W.firstChild;if(W&&W!==V){this.scrollChild=V;var T=W.style;T.position="relative";T.overflow="hidden";var U=V.style;U.position="absolute";U.left=0;U.top=0;this.markupMethods=P.copy(R.isSafari?K:G,P.copy(this.markupMethods));this.attachTouchEvents();}}},unrender:function(T){if(this.usesTouches){this.detachTouchEvents();}this._super(T);},attachTouchEvents:function(){var U=this.touchNode||this.scrollboxNode;if(U){if(!this._tsCallback){var T=this;this._tsCallback=function(V){T.touchesBegin(self,V);};this._tmCallback=function(V){T.touchesMoved(self,V);};this._teCallback=function(V){T.touchesEnd(self,V);};}R.attachEvent(U,R.TOUCHSTART,this._tsCallback);this._tsNode=U;}},detachTouchEvents:function(){var T=this._tsNode;if(T){R.detachEvent(T,R.TOUCHSTART,this._tsCallback);delete this._tsNode;}},touchesBegin:function I(T,V){var U=V.target&&V.target.tagName;if(U&&(U==="SELECT"||U==="INPUT")){return ;}R.preventDefault(T,V);this.stopDeceleration();this.startTime=new Date();this.startTimePos={x:this.pos.x,y:this.pos.y};this.startTouchPos=R.getMousePosition(R.firstTouch(T,V),T);this.dragging=false;R.attachEvent(window,R.TOUCHMOVE,this._tmCallback);R.attachEvent(window,R.TOUCHEND,this._teCallback);},touchesMoved:function D(b,d){var Z=R.getMousePosition(R.firstTouch(b,d),b);R.preventDefault(b,d);if(!this.dragging){var T=5,h=Math.abs;if((this.scrollsHoriz&&h(Z.x-this.pos.x)>T)||(this.scrollsVert&&h(Z.y-this.pos.y)>T)){this.dragging=true;this.dragStartTime=new Date();this.startTouchPos=Z;var V=this.scrollboxNode,Y={x:V.clientWidth,y:V.clientHeight},f={x:V.scrollWidth,y:V.scrollHeight};this.clientSize=Y;this.scrollSize=f;this.maxPos={x:Math.max(f.x-Y.x,0),y:Math.max(f.y-Y.y,0)};this.showScroll();}}if(this.dragging){R.stopPropogation(b,d);var c=this.startTimePos,X=this.startTouchPos,a=this.maxPos;var W={x:this.scrollsHoriz?Math.max(Math.min(c.x-(Z.x-X.x),a.x),0):0,y:this.scrollsVert?Math.max(Math.min(c.y-(Z.y-X.y),a.y),0):0};this.set("pos",W);this.nextLastDragPos=this.lastDragPos;this.lastDragPos=Z;var U=new Date(),g=this.lastDragTime;this.nextLastDragTime=g;this.lastDragTime=U;if((U-g)>Q){this.startTime=this.lastDragTime;this.dragStartTime=this.startTime;this.startTimePos={x:W.x,y:W.y};this.startTouchPos=Z;}}},touchesEnd:function H(T,U){R.preventDefault(T,U);R.detachEvent(window,R.TOUCHMOVE,this._tmCallback);R.detachEvent(window,R.TOUCHEND,this._teCallback);if(this.dragging){this.dragging=false;R.stopPropogation(T,U);if((new Date())-this.lastDragTime<=Q){this.startDeceleration(T,U);}else{this.hideScroll();}}},startDeceleration:function B(Y,Z){var W=R.getMousePosition(R.firstChangedTouch(Y,Z),Y),c=((mstrmojo.dom.supportsTouches===null)?this.lastDragPos:this.nextLastDragPos)||W,b={x:W.x-c.x,y:W.y-c.y},T=((mstrmojo.dom.supportsTouches===null)?this.lastDragTime:this.nextLastDragTime),d=T?(new Date())-T:0,V={x:d?Number(b.x*M*E/d).toFixed(2):0,y:d?Number(b.y*M*E/d).toFixed(2):0};var a=this,U=function(e){return(a.scrollsHoriz&&Math.abs(e.x)>=F)||(a.scrollsVert&&Math.abs(e.y)>=F);};if(U(V)){this.velocity=V;this.friction={x:this.FRICTION,y:this.FRICTION};this.set("decelerating",true);var X=function(){a.decelerate();if(!U(a.velocity)){a.stopDeceleration();a=null;}};X();if(this.decelerating){this.decelerationTimer=window.setInterval(X,M);}}else{this.hideScroll();}},stopDeceleration:function A(){this.set("decelerating",false);delete this.velocity;if(this.decelerationTimer){window.clearTimeout(this.decelerationTimer);delete this.decelerationTimer;}this.hideScroll();},decelerate:function S(){var W=this.pos,V=this.velocity,U=this.friction,Z=this.maxPos,X={x:W.x-V.x,y:W.y-V.y},b=this.bounces,T=this.BOUNCEFRICTION;var a=X.x;if(a<0||a>Z.x){X.x=(a<0)?0:Z.x;V.x*=(b)?-T:0;U.x=T;}var Y=X.y;if(Y<0||Y>Z.y){X.y=(Y<0)?0:Z.y;V.y*=(b)?-T:0;U.y=T;}this.set("pos",X);this.velocity={x:U.x*V.x,y:U.y*V.y};},hideScroll:function J(){this.set("vscrollVisible",false);this.set("hscrollVisible",false);},showScroll:function O(){var T=this.maxPos;if(this.scrollsVert&&T.y&&this.vscrollNode){this.set("vscrollVisible",true);}if(this.scrollsHoriz&&T.x&&this.hscrollNode){this.set("hscrollVisible",true);}}});})();(function(){mstrmojo.requiresCls("mstrmojo.registry");mstrmojo._PagingList=mstrmojo.provide("mstrmojo._PagingList",{usePaging:false,page:0,totalPages:1,_set_page:function(B,A){if(this.page!==A&&this.usePaging){if(A>=0&&A<this.totalPages){this.page=A;}return true;}return false;},_inScroll:false,_inPaging:false,onscroll:function(){if(this.usePaging&&!this._inPaging){this._inScroll=true;this.set("page",this.listMapper.whichPage(this));this._inScroll=false;}if(this._super){this._super();}}});})();(function(){mstrmojo.requiresCls("mstrmojo.dom");var A=mstrmojo.dom;function E(J,I){var G=[];if(J){for(var F in J){var H=Number(F);if(H>=I){G.push(H);}}}G.sort(mstrmojo.array.numSorter);return G;}mstrmojo.ListSelector=mstrmojo.provide("mstrmojo.ListSelector",{premousedown:function D(L,F,N){var I=N.hWin,J=N.e,G=A.eventTarget(I,J),M=L.listMapper.findIndex(L,F,G);if(M>-1){var H=L.multiSelect,K=A.ctrlKey(I,J),O=A.shiftKey(I,J);if(K||O){A.clearBrowserHighlights(I);}if(H&&(K||(L.selectionPolicy==="toggle"))){L.toggleSelect(M);}else{if(H&&O){L.rangeSelect(M);}else{L.singleSelect(M);}}}},premouseup:function C(H,K,G){var F=G.hWin,J=G.e,L=A.ctrlKey(F,J),I=A.shiftKey(F,J);if(L||I){A.clearBrowserHighlights(F);}},onadd:function B(I,H){var M=H&&H.value&&H.value.length;if(M){var G=H.index,K=I.selectedIndices,L=E(K,G);for(var J=L.length-1;J>-1;J--){var F=L[J];K[F+M]=true;delete K[F];}if(I.selectedIndex>=G){I.selectedIndex+=M;}}},onremove:function B(Q,S){var O=S&&S.value&&S.value.length;if(O){var R=S.index,I=R+O-1,M=Q.selectedIndices,L=Q.selectedIndex,G=[],T=[],P=false;if(M){for(var H in M){var K=Number(H);if(K>I){G.push(K);}else{if(K>=R){T.push(K);P=true;}}}}G.sort(mstrmojo.array.numSorter);for(var J=0,N=G.length;J<N;J++){var F=G[J];M[F-O]=true;delete M[F];}if(L>I){Q.selectedIndex-=O;}if(P){Q.removeSelect(T);}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.array");function C(G,H,E){var F=G.createElement("input");F.name=H;F.type="hidden";F.value=E;return F;}function B(K,J){J=J.substring(J.indexOf("?")+1,J.length);var M=J.split("&"),L="",H="";var N=/\+/g;for(var I=0,F=M.length;I<F;I++){var E=M[I].split("=");L=E[0];H=E[1];if(H){H=decodeURIComponent(H.replace(N," "));}var G=document.createElement("INPUT");G.type="HIDDEN";G.name=L;G.value=H;K.appendChild(G);}return false;}mstrmojo.form={createDynamicForm:function A(E){var G=document.createElement("FORM"),H=E.indexOf("?")>0;G.name="dynamic_form";G.method="POST";var F=((H)?E.substring(0,E.indexOf("?")):E);G.action=F;if(H){B(G,E);}document.body.appendChild(G);return G;},send:function D(J,K,E,M,H,F){var O=((H&&H.hWin)||window).document,L=O.createElement("form"),I=mstrApp;L.method=E||"GET";if(M){L.target=M;}L.action=K||I.name;F=(F!==undefined)?F:!(L.action&&L.action.indexOf("aspx")>0);if(I.sessionId){L.action+=";jsessionid="+I.sessionId;}if(F){L.action+=";uxts"+mstrmojo.now();}L.appendChild(C(O,"xts",mstrmojo.now()));for(var P in I.persistTaskParams){J[P]=I.persistTaskParams[P];}if(I.servletState&&I.name){J[I.name]=I.servletState;}if(J){for(var G in J){if(J[G].constructor==Array){mstrmojo.array.forEach(J[G],function(Q){L.appendChild(C(O,G,Q));});}else{L.appendChild(C(O,G,J[G]));}}}O.body.appendChild(L);try{L.submit();}catch(N){if(M&&N.result===2147500037&&!window.open("","","width=1,height=1,left=0,top=0,scrollbars=no")){mstrmojo.alert("*This action requires popups to be allowed in the browser.*");}else{mstrmojo.err("Form submission failed for an unknown reason.");}}O.body.removeChild(L);}};})();(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.dom","mstrmojo.ListSelector");var A=mstrmojo.dom,B=A.isIE;mstrmojo.TreeNodeSelector=mstrmojo.provide("mstrmojo.TreeNodeSelector",mstrmojo.mixin({premousedown:function C(E,I,D){var G=E&&E.tree||E,H=D&&D.e;if(!H){return false;}var F=G.lastMouseDown;if(F){if((F.e===H)||(B&&((new Date())-F.dt<50))){return false;}}this._super(E,I,D);if(G){if(G.onnodemousedown){G.onnodemousedown(D);}G.lastMouseDown={e:H,dt:new Date()};}}},mstrmojo.hash.copy(mstrmojo.ListSelector)));})();(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.QueuedXHR");var F=mstrmojo.hash;function J(K,L){return function(){if(K[L]){K[L]();}};}var B=[];function H(L){var K;switch(L.cacheLevel){case mstrmojo.AjaxCall.CACHELEVEL_LOCAL:if(L._cache==null){L._cache=[];}K=L._cache;break;default:if(B==null){B=[];}K=B;break;}return K;}function E(N){var M=H(N);var P={cache:M,idx:-1},O=N.params;if("xts" in O){delete O.xts;}for(var L=0,K=M.length;L<K;L++){var Q=M[L];if(Q&&F.equals(Q.url,N.url)&&F.equals(Q.params,O)){P.idx=L;break;}}return P;}function C(L){var K=H(L),M=F.copy(L.params);delete M.xts;K.push({url:L.url,params:M,res:F.copy(L.response)});}function D(K){var L=E(K);if(L&&L.idx>=0){K.response=L.cache[L.idx].res;return true;}return false;}mstrmojo.AjaxCall=mstrmojo.declare(mstrmojo.QueuedXHR,null,{scriptClass:"mstrmojo.AjaxCall",method:"GET",url:"",params:null,onsuccess:null,onerr:null,oncomplete:null,oncancel:null,readCache:false,writeCache:false,cacheLevel:"",_cache:null,useQueue:false,init:function I(K){this._super(K);F.copy(K,this);},send:function A(){var K=this;if(this.readCache&&D(this)){this.onsuccess();return ;}this.request(this.method,this.url,{success:function(){if(K.writeCache){C(K);}if(K&&K.onsuccess){K.onsuccess();}},failure:J(K,"onerr"),complete:J(K,"oncomplete")},this.params,!this.useQueue);},cancel:function G(){this._super();if(this.oncancel){this.oncancel();}}});mstrmojo.AjaxCall.CACHELEVEL_GLOBAL="global";mstrmojo.AjaxCall.CACHELEVEL_LOCAL="local";})();(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.registry","mstrmojo.ListBuilder");var E=mstrmojo.hash,H=mstrmojo.registry,G=1;mstrmojo.WidgetListBuilder=mstrmojo.provide("mstrmojo.WidgetListBuilder",mstrmojo.mixin({newContext:function F(J){var K=J.itemFunction;if(!K){var I=J.itemConfig;K=I?function(M,L,N){var O=E.clone(I);O.data=M;O.parent=N;return H.ref(O);}:null;}return{itemStatus:[],itemWidgets:[],itemFunc:K};},build:function A(K,J,N,I){var L=J.itemFunc(N,I,K);if(L){J.itemStatus[I]=G;J.itemWidgets[I]=L;if(L.set){var M=K.selectedIndices;if(M&&M[I]){L.set("selected",true);}}}return L;},onadd:function C(K,I,J){if(I){mstrmojo.array.insert(I.itemWidgets,J.index,new Array(J.value.length));}this._super(K,I,J);},onremove:function D(L,J,K){if(J){var O=J.itemWidgets.splice(K.index,K.value.length);for(var N=0,I=O.length;N<I;N++){var M=O[N];if(M&&M.destroy){delete M.parent;M.destroy();}}}this._super(L,J,K);},onchange:function B(S,J,P,T){if(T){var N=P.itemWidgets,L;for(var O=0,I=T.removed,R=I&&I.length;O<R;O++){L=N[I[O]];if(L&&L.set){L.set("selected",false);}}for(var M=0,Q=T.added,K=Q&&Q.length;M<K;M++){L=N[Q[M]];if(L&&L.set){L.set("selected",true);}}}}},mstrmojo.hash.copy(mstrmojo.ListBuilder)));})();(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.dom","mstrmojo.css");var A=1,J="mstrmojo-itemwrap",I="&nbsp;",S=mstrmojo.array;function F(W,Z,Y){Z=this.wrapperParentNode(Z);if(Z&&Y&&Z!==Y){var V=W.domNode,X=Y.parentNode;while(X){if(X===Z){return Y;}else{if(X===V){break;}}Y=X;X=Y.parentNode;}}return null;}function M(X,b,a){var W=X.items&&X.items.length,Y=this.wrapperNodes(b),V=S.findBin(Y,a,"offsetTop",W);for(var Z=V;Z<W;Z++){if(Y[Z].offsetHeight){return Z;}}return -1;}function B(V){if(!V.pageSize||V.pageSize<=0){var W=V.scrollboxNode;V.pageSize=W&&W.clientHeight||0;}return V.pageSize;}function T(V,W){if(V.usePaging){V.totalPages=1;var Y=V.itemsContainerNode,X=B(V);if(V.usePaging&&Y&&X){V.totalPages=Math.ceil((Y.clientHeight-parseInt(Y.style&&Y.style.paddingBottom||0,10))/X);}if(Y){V.itemsContainerNode.style.paddingBottom=X+"px";}}}mstrmojo.ListMapper=mstrmojo.provide("mstrmojo.ListMapper",{markupPrefix:"",markupSuffix:"",itemWrapperPrefix:function(V){return'<div class="'+this.getWrapperCss(V)+'">';},itemWrapperSuffix:"</div>",itemWrapperPrefill:"&nbsp",wrapperNodes:function C(V){return V.childNodes;},wrapperParentNode:function D(V){return V;},createWrapperNode:function G(V){var W=V.ownerDocument,X=W.createElement("div");return X;},findScrollRange:function L(k,Z,j,n,W,c,o,m){if(!Z){return{start:0,end:0};}var e=this.wrapperNodes(k),g=parseInt(Z/2,10),Y=parseInt(Math.log(Z)/Math.log(2),10),X=0,V=Z-1,f=j+n,d=e[0].offsetTop,b;for(var l=1;l<=Y;l++){b=e[g].offsetTop-d+m;if(b<j){X=g;}else{if(b>f){V=g;}}var a=Math.round(Z/Math.pow(2,l+1));g+=(b>j)?-a:a;g=Math.min(Math.max(0,g),Z-1);}return{start:X,end:V};},findWrapper:function K(X,V){var W=this.wrapperNodes(X);return W&&W[V];},findIndex:function E(V,Y,X){var W=this._nd2iw(V,Y,X);return W?this._iw2idx(V,Y,W):-1;},itemOffsetTop:function U(W,a,V,Y){if(!Y){var X=this.wrapperNodes(a);Y=X&&X[V];if(!Y){return 0;}}var Z=a.firstChild;if(!Z||(Z===Y)){return 0;}else{return Y.offsetTop-Z.offsetTop;}},whereDrop:function R(c,V,X,b,W){var Y=this._nd2iw(c,V,X),d,a,e;if(Y){a=this._iw2idx(c,V,Y);d=a;e=this.itemOffsetTop(c,V,null,Y);var Z=Y.offsetHeight;if(b.y>W.top+e+Z/2){d++;e+=Z;}}else{return c.dropCuePos;}return{left:0,top:e,idx:d,idxActual:a};},getWrapperCss:function(V){return J;},postBuildRendering:function(Z,Y,X,W,V){T(W,this);},buildItemWrappers:function O(e,b,h,d,a,i){var l=this.itemWrapperPrefix(h),g=this.itemWrapperSuffix,Z=l+this.itemWrapperPrefill+g,Y=[this.markupPrefix],W=1,V=h.selectedIndices||{},n=function m(k,j){for(var o=k;o<j;o++){Y[W++]=l;var p=b.build(h,d,e[o],o);if(V[o]){p=p.replace(/class\=\"([^\"]*)\"/,'class="$1 selected"');}Y[W++]=p;Y[W++]=g;}};var c=(e&&e.length)||0;a=a&&b?Math.min(a,c):0;if(a){n(0,a);}i=i&&b?Math.min(i,c-a):0;var f=c-i;for(var X=a;X<f;X++){Y[W++]=Z;}if(i){n(f,c);}Y.push(this.markupSuffix);return Y;},fillItemWrappers:function H(X,g,d,m,f,W,b,l){var e=(g&&g.length)||0,j=this.wrapperNodes(X),n=f.itemStatus,V=mstrmojo.css,Z=m.selectedIndices||{};for(var c=W,h=Math.min(b+1,e),a=0;c<h;c++){if(n[c]!==A){j[c].innerHTML=d.build(m,f,g[c],c);if(Z[c]){var Y=j[c].firstChild;if(Y){V.addClass(Y,["selected"]);}}a++;if(a===l){break;}}}return a;},onadd:function N(e,V,Z,f){if(V&&f){var a=f.value.length,b=this.wrapperNodes(V),d=b[f.index],Y=this.getWrapperCss(e);for(var X=0;X<a;X++){var W=this.createWrapperNode(V);W.className=Y;W.innerHTML=I;if(d){this.wrapperParentNode(V).insertBefore(W,d);}else{this.wrapperParentNode(V).appendChild(W);}}T(e,this);}},onremove:function P(Y,b,V,X){if(b&&X){var a=this.wrapperNodes(b);if(a){var d=X.value.length;for(var Z=X.index+d-1,W=X.index;Z>=W;Z--){this.wrapperParentNode(b).removeChild(a[Z]);}}T(Y,this);}},onchange:function Q(g,X,c,k){if(X&&k){var d=this.wrapperNodes(X);if(d){var W=mstrmojo.css,l=c.itemStatus,h;for(var b=0,V=k.removed,f=V&&V.length;b<f;b++){h=V[b];if(l[h]){W.removeClass(d[h].firstChild,["selected"]);}}for(var Z=0,e=k.added,Y=e&&e.length;Z<Y;Z++){h=e[Z];if(l[h]){W.addClass(d[h].firstChild,["selected"]);}}}}},_nd2iw:F,_iw2idx:M,toPage:function(V,X){var W=V.scrollboxNode;if(V.usePaging&&W){W.scrollTop=X*B(V);}else{mstrmojo.alert("paging is not setup, can not perform paging.");}},whichPage:function(V){var W=V.scrollboxNode,X=B(V);return Math.round((W&&X&&W.scrollTop/X)||0);},toItem:function(Z,a){var X=Z&&Z.itemsContainerNode,e=Z.scrollboxNode,V=this.itemOffsetTop(Z,X,a),b=this.wrapperNodes(X)[a].clientHeight,W=e.clientHeight,d=e.scrollTop,Y=d;if(V<d){Y=V;}else{if(d+W-b<V){Y=Math.min(V,V-W+b);}}e.scrollTop=Y;}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListMapper");var D=1,B="mstrmojo-itemwrap";mstrmojo.ListMapperHoriz=mstrmojo.provide("mstrmojo.ListMapperHoriz",mstrmojo.hash.copy({markupPrefix:'<table class="mstrmojo-itemwrap-table" cellspacing="0" cellpadding="0"><tbody><tr>',markupSuffix:"</tr></tbody></table>",itemWrapperPrefix:function(H){return'<td class="'+this.getWrapperCss(H)+'">';},getWrapperCss:function(H){return"mstrmojo-itemwrap-td";},itemWrapperPrefill:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",itemWrapperSuffix:"</td>",wrapperNodes:function G(H){return this.wrapperParentNode(H).cells;},wrapperParentNode:function F(H){return H.firstChild.rows[0];},createWrapperNode:function E(H){var I=H.ownerDocument,J=I.createElement("td");return J;},findScrollRange:function C(U,L,S,X,I,P,Y,W){var Q=this.wrapperNodes(U),R=parseInt(L/2,10),K=parseInt(Math.log(L)/Math.log(2),10),J=0,H=L-1,T=I+P,M=Q[0].offsetLeft,O;for(var V=1;V<=K;V++){O=Q[R].offsetLeft-M+Y;if(O<=I){J=R;}else{if(O>=T){H=R;}}var N=Math.round(L/Math.pow(2,V+1));R+=(O>I)?-N:N;R=Math.min(Math.max(0,R),L-1);}return{start:J,end:H};},findIndex:function A(I,M,K){if(M&&K){var H=I.domNode,L=this.wrapperParentNode(M),J=K.parentNode;while(J){if(J===L){return mstrmojo.array.findBin(this.wrapperNodes(M),K,"offsetLeft",I.items&&I.items.length);}else{if(J===H){break;}}K=J;J=K.parentNode;}}return -1;}},mstrmojo.hash.copy(mstrmojo.ListMapper)));})();(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.WidgetListBuilder");mstrmojo.WidgetTreeBuilder=mstrmojo.provide("mstrmojo.WidgetTreeBuilder",mstrmojo.mixin({newContext:function A(B){var D=this._super(B);if(!B.itemFunction&&D.itemFunc){var C=D.itemFunc;D.itemFunc=function(G,F,H){var E=C(G,F,H);if(E){E.tree=H.tree||H;}return E;};}return D;}},mstrmojo.hash.copy(mstrmojo.WidgetListBuilder)));})();(function(){mstrmojo.requiresCls("mstrmojo.locales","mstrmojo.expr","mstrmojo.date","mstrmojo.num","mstrmojo.string");mstrmojo.validation={STATUSCODE:{UNKNOWN:-1,VALID:0,INVALID:1,INVALID_EMPTY:2,INVALID_CHAR:3,INVALID_OUTOFRANGE:4,INVALID_REGEX:5,INVALID_VALIDATOR:6,INVALID_BAD_NUMERICFORMAT:7,INVALID_BAD_DATESTRING:8},TRIGGER:{NONE:0,ONBLUR:1,ONKEYUP:2,VALUESET:4,ALL:7},REGEXP:{US_ZIP:/^\d{5}([- ]?\d{4})?$/,EMAIL_ADDRESS:/^([a-zA-Z0-9\_\.\-])+@(([a-zA-Z0-9\-])+[\.])+([a-zA-Z0-9]{2,4})+$/,SOCIAL_SECURITY_NUMBER:/^((?!000)(?!666)\d{3})(\s|\-)?((?!00)\d{2})\2((?!0000)\d{4})$/,PHONE_NUMBER:/^(?!-)[ \d\-\(\)\.\+]+$/,FILE_NAME:new RegExp('^[^:*?"<>|/\\\\()]+$'),FOLDER_PATH_WIN:new RegExp('^([a-zA-Z]:|\\\\\\\\[^:*?"<>|/\\\\]+|[^:*?"<>|/\\\\]*)(\\\\[^:*?"<>|/\\\\]+)*(\\\\){0,1}$'),FOLDER_PATH_UNIX:new RegExp('^(/){0,1}([^:*?"<>|/\\\\]+/)*([^:*?"<>|/\\\\]+){0,1}$'),PRINTER_PATH_SINGLE:new RegExp('^[^$%:*?"<>|/\\\\]*$'),PRINTER_PATH_MULTIPLE:new RegExp('^((/|\\\\\\\\)[^$%:*?"<>|/\\\\]+)((/|\\\\)[^$%:*?"<>|/\\\\]+)*(/|\\\\){0,1}$')},VALIDATOR:{DEMO:function L(c){var b=parseInt(c,10),d=mstrmojo.validation.STATUSCODE;if(b===0||b===1||b>10){return{code:d.VALID};}return{code:d.INVALID,msg:"This field must be either 0, 1 or greater than 10"};},VALIDATE_PHONENO:function H(b){var d=this.dtp,c=String(b).replace(/[^\d]/g,"");if(c.length<10){return{code:E.INVALID,msg:mstrmojo.desc(9203)};}if(!J.REGEXP.PHONE_NUMBER.test(b)){return{code:E.INVALID,msg:mstrmojo.desc(9204)};}return{code:E.VALID};},VALIDATE_ZIPCODE:function G(b){var d="",c=this.dtp;if(!J.REGEXP.US_ZIP.test(b)){if(J.isNumeric(c)||J.isInt(c)){d=mstrmojo.desc(9208);}else{if(J.isString(c)){d=mstrmojo.desc(9206);}}return{code:E.INVALID,msg:d};}return{code:E.VALID};},VALIDATE_EMAIL:function P(b){var c=b.indexOf("@");if(c===-1){return{code:E.INVALID,msg:mstrmojo.desc(9197)};}if(b.substring(c).indexOf(".")===-1){return{code:E.INVALID,msg:mstrmojo.desc(9198)};}return J.REGEXP.EMAIL_ADDRESS.test(b)?{code:E.VALID}:{code:E.INVALID,msg:mstrmojo.desc(9207)};},VALIDATE_SSN:function O(b){var d=this.dtp,c;if(J.isNumeric(d)||J.isInt(d)){c=String(b).replace(/[^\d]/g,"");if(c.length!=9){return{code:E.INVALID,msg:mstrmojo.desc(9209)};}}if(!J.REGEXP.SOCIAL_SECURITY_NUMBER.test(b)){return{code:E.INVALID,msg:mstrmojo.desc(9210)};}return{code:E.VALID};}},isInt:function(b){return B[b]==1;},isNumeric:function(b){return B[b]==2||B[b]==5;},isString:function(b){return B[b]==3;}};var V=window.mstrConfig,I=V.listSep,W=mstrmojo.expr,K=W.DTP,J=mstrmojo.validation,F=J.TRIGGER,E=J.STATUSCODE,X=mstrmojo.css,Q=mstrmojo.num,N=mstrmojo.string,a=mstrmojo.date,B={"-1":-1,1:1,2:1,3:2,4:2,5:2,6:2,7:2,8:3,9:3,10:3,11:4,12:4,13:4,14:6,15:6,16:6,21:2,22:2,23:3,24:4,25:3,30:5};function D(j,k){var g=j.dtp,i=j.constraints,m=i.allowedFormatChars?i.allowedFormatChars:"",f=(B[g]==1),b=(B[g]==2),d=(B[g]==6),l=mstrmojo.locales.number.THOUSANDSEPARATOR,e=mstrmojo.locales.number.DECIMALSEPARATOR,h;if(f){if(!j._intRegExp){m+="0-9-"+(j.isList?I:"")+l;j._intRegExp=new RegExp("[^"+m+"]");}h=j._intRegExp;}if(b){if(!j._numericRegExp){m+="0-9-"+(j.isList?I:"")+e+l;j._numericRegExp=new RegExp("[^"+m+"]");}h=j._numericRegExp;}if(d){}return !!h&&h.test(k);}function Y(j,l){var g=j.dtp,i=j.constraints,f=(B[g]==1),b=(B[g]==2),d=(B[g]==6),e=i.min,k=i.max,h;if(e==undefined&&k==undefined){return false;}if(f||b){return Q.inNumericRange(l,e,k)!==0;}if(d){return a.inDateTimeRange(l,e,k)!==0;}return false;}function Z(c,b){return !Q.isNumeric(b);}function A(e,c){var d=(e.dtp===K.DATE),b=(e.dtp===K.TIME);return(d?!a.isDate(c):(b?!a.isTime(c):!a.isDateAndOrTime(c)));}mstrmojo._CanValidate=mstrmojo.provide("mstrmojo._CanValidate",{constraints:null,required:false,dtp:K.INTEGER,isList:false,autoFormat:false,validationStatus:null,init:function S(b){this._super(b);if(!this.constraints){this.constraints={};}var d=this.constraints;if(!("trigger" in d)){d.trigger=F.NONE;}},_set_value:function(g,d){var e=this.value,c=(e!==d);if(c){this.value=d;var f=this.constraints.trigger,b=(f&F.VALUESET)>0;if(b){this.validate(d);}}return c;},validate:function M(){var d=(this.value!==null&&this.value!==undefined)?this.value:"",g=this.isList?d.split(I):[d],f,c,h;for(var e=0,b=g.length;e<b;e++){f=this.doValidation(g[e]);c=(f.code>E.VALID);if(c){if(b>1){f.msg=mstrmojo.locales.validation.invalidValueInListError.replace("#",g[e]?g[e]:" ");}break;}}h=c?"onInvalid":"onValid";if(!c&&this.autoFormat){this.format();}this.set("validationStatus",f);if(this[h]){this[h](f);}},format:function T(){var g=this.dtp,d=(B[g]==6);if(!d){return ;}var j=mstrConfig.listSep,m=this.value||"",c=this.isList?m.split(j):[m],l=g===14,k=[],b,e=mstrmojo.locales.datetime;for(var f=0,h=c.length;f<h;f++){m=c[f];b=a.parseDateAndOrTime(m);if(b){if(l&&b.date){k.push(a.formatDateInfo(b.date,e.DATEOUTPUTFORMAT));}else{k.push((b.date?a.formatDateInfo(b.date,e.DATEOUTPUTFORMAT):"")+" "+(b.time?a.formatTimeInfo(b.time,e.TIMEOUTPUTFORMAT):""));}}}this.set("value",k.join(j));},isValid:function R(){var b=this.validationStatus;if(!b){this.validate();}return this.validationStatus.code===E.VALID;},clearValidation:function U(){this.set("validationStatus",{code:E.VALID});if(this.onClearValidation){this.onClearValidation();}},doValidation:function C(n){var k=this.constraints,l=k.regExp,e=k.validator,b={id:this.id,code:E.VALID,msg:""},j=this.dtp,i=(B[j]==1),d=(B[j]==2||B[j]==5),f=(B[j]==3),g=(B[j]==6),h=N.isEmpty(n),m=String(n).length;err="",_VAL=mstrmojo.locales.validation;if(this.required&&h){b.code=E.INVALID_EMPTY;b.msg=_VAL.requiredFieldError;return b;}n=N.trim(n);if(!h&&D(this,n)){if(i){err=_VAL.integerDataType;}if(d){err=_VAL.numericDataType;}if(g){err=_VAL.dateDataType;}b.code=E.INVALID_CHAR;b.msg=_VAL.invalidCharError.replace("#",err);return b;}if(!h&&g&&A(this,n)){b.code=E.INVALID_BAD_DATESTRING;b.msg=_VAL.invalidDateStringError;return b;}if(!h&&(d||i)&&Z(this,n)){b.code=E.INVALID_BAD_NUMERICFORMAT;b.msg=_VAL.invalidNumericFormatError;return b;}if(!h&&(i||d||g)&&Y(this,n)){b.code=E.INVALID_OUTOFRANGE;if(k.min!=null&&k.max!=null){err=_VAL.outofRangeError.replace("#","").replace("##",k.min).replace("###",k.max);}else{if(k.min!=null){err=_VAL.noLessMinError.replace("##",k.min).replace("#","");}else{if(k.max!=null){err=_VAL.noGreaterMaxError.replace("###",k.max).replace("#","");}}}b.msg=err;return b;}if(f&&k.minLen!=null&&k.maxLen!=null){if(m<k.minLen||m>k.maxLen){b.code=E.INVALID;b.msg=mstrmojo.desc(9211).replace(/#/,k.minLen).replace(/##/,k.maxLen);return b;}}if(l&&!l.test(n)){b.code=E.INVALID_REGEX;b.msg=mstrmojo.desc(9205);return b;}var o=e&&e.apply(this,[n]);if(o){b.code=o.code;b.msg=o.msg;return b;}return b;}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListMapper");var C=1;mstrmojo._hasWidgetListMapper={buildItemWrappers:function A(H,G,F,E,J,I){E.first=J;E.last=I;return this._super(H,G,F,E,0,0);},postBuildRendering:function B(K,I,H,G,F){var J=F.first;if(J){this.fillItemWrappers(K,I,H,G,F,0,J);}if(F.last){var E=I&&I.length||0,L=Math.max(Math.max(0,E-F.last),J);this.fillItemWrappers(K,I,H,G,F,L,E);}if(this._super){this._super(K,I,H,G,F);}},fillItemWrappers:function D(F,N,K,R,M,E,I,Q){var L=(N&&N.length)||0,P=this.wrapperNodes(F),S=M.itemStatus;for(var J=E,O=Math.min(I+1,L),H=0;J<O;J++){if(S[J]!==C){var G=K.build(R,M,N[J],J);if(G){G.placeholder=P[J].firstChild;G.render();}H++;if(H===Q){break;}}}return H;},onchange:null};mstrmojo.WidgetListMapper=mstrmojo.provide("mstrmojo.WidgetListMapper",mstrmojo.mixin(mstrmojo._hasWidgetListMapper,mstrmojo.hash.copy(mstrmojo.ListMapper)));mstrmojo.WidgetListMapper.RENDERED=C;mstrmojo.requiresCls("mstrmojo.ListMapperHoriz");mstrmojo.WidgetListMapperHoriz=mstrmojo.provide("mstrmojo.WidgetListMapperHoriz",mstrmojo.mixin(mstrmojo._hasWidgetListMapper,mstrmojo.hash.copy(mstrmojo.ListMapperHoriz)));})();(function(){mstrmojo.requiresCls("mstrmojo.Widget");var C=mstrmojo.css;function E(F,H){var G={searchMetadata:{taskId:"searchMetadata",styleName:this.searchStyleName,rootFolderID:this.rootID,searchPattern:this.searchPattern+"*",nameWildcards:(this.qse?16:1),quickSearch:this.qse,sortKey:(this.qse?-1:6),blockBegin:this.blockBegin||1,blockCount:this.blockCount,recursive:1,folderBrowserStyle:0,includeAncestorInfo:"true",includeObjectDesc:this.includeObjectDesc,searchXML:this.searchXML||"",dataSourcesXML:this.dataSources||"",objectType:this.objectTypes},browseFolder:{taskId:"searchMetadata",rootFolderID:this.rootID,blockBegin:this.blockBegin,blockCount:this.blockCount,recursive:this.hierarchical?0:(this.searchXML?"":1),folderBrowserStyle:this.hierarchical?1:0,includeAncestorInfo:String(!!this.hierarchical),searchXML:this.searchXML||"",dataSourcesXML:this.dataSources||"",objectType:this.objectTypes},browseElements:{taskId:"browseElements",styleName:"MojoAttributeStyle",attributeID:this.rootID,blockBegin:this.blockBegin,blockCount:this.blockCount,filterXML:this.filterXML||"",searchPattern:this.searchPattern||"",matchCase:!!this.matchCase,dataSourcesXML:this.dataSourcesXML||"",includeFormNames:!!this.collectForms,includeFormValues:!!this.bIncludeFormValues,displayedForms:this.displayedForms||1,dimensionID:this.dimensionId||""}}[F];if(typeof H==="object"){mstrmojo.hash.copy(H,G);}return G;}var B="##searchPattern";mstrmojo.SearchBox2=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.SearchBox2",width:"100px",taskId:"searchMetadata",rootID:null,searchStyleName:"MojoFolderStyle",objectTypes:"3,14,256,257,1024,1027,2048,3072,10",token:{searchMetadata:/\//,browseElements:/(^-)|(,)|( OR )|( AND)|([<>]=?)|(&)|( )|(["\[\]\/])/},blockCount:50,blockBegin:1,minSearchLength:2,matchCase:false,enableMatchCase:true,supportIncFetch:true,quickSearch:false,searchAfterSearchPatternRestored:false,includeObjectDesc:true,markupString:'<table id={@id} cellspacing=0 cellpadding=0 class="mstrmojo-SearchBox-Wrapper {@cssClass}" style="{@cssText};"><tr><td><div class="mstrmojo-SearchBox" mstrAttach:click ><input class="mstrmojo-SearchBox-input" type="text" style="width:{@width};" mstrAttach:keyup,blur /></div></td><td><div class="mstrmojo-SearchBox-clear" id="{@id}sbClear" mstrAttach:click></div></td><td><div class="mstrmojo-SearchBox-bg"><div class="mstrmojo-SearchBox-search" id="{@id}sbSearch" mstrAttach:click ></div></div></td><td><div class="mstrmojo-SearchBox-options" style="{@cssTextShowMC}"><input id="{@id}sbMatchCase" type="checkbox" mstrAttach:click /><label for="{@id}sbMatchCase">'+mstrmojo.desc(1049,"Match case")+"</label></div></td></tr></table>",markupSlots:{inputNode:function(){return this.domNode.rows[0].cells[0].firstChild.firstChild;},clearNode:function(){return this.domNode.rows[0].cells[1].firstChild;},optionNode:function(){return this.domNode.rows[0].cells[3].firstChild.firstChild;}},preBuildRendering:function(){this.cssTextShowMC=this.enableMatchCase?"":"display: none";},postBuildRendering:function(){if(this._super){this._super();}this.matchCase=this.optionNode.checked;},onkeyup:function D(F){var H=this;var G=H.searchTimer;if(G){window.clearTimeout(G);}H.searchTimer=window.setTimeout(function(){H.onkeyupDelayed(F);delete H._searchTimer;},parseInt(F.e.keyCode||F.e.charCode,10)===13?0:H.searchDelay);},onkeyupDelayed:function A(G){var F=G.hWin,I=G.e||F.event;var H=mstrmojo.string.trim(this.inputNode.value);if(this.clearNode){C.toggleClass(this.clearNode,["show"],H.length>0);}this.showTaskError=false;this.click2Search=false;if(H.length==0||this.autoSubmit||this.onEnter&&I.keyCode===13){this._onsearch();}},onEnter:function(){this._onsearch();},onclick:function(G){var F=G.hWin,I=G.e||F.event,K=I.target||I.srcElement,J=K&&K.id;switch(J.replace(this.id,"")){case"sbDown":if(this.enableMatchCase){var H=this.optionNode.parentNode.style;H.display=H.display=="block"?"none":"block";}break;case"sbSearch":if(this.onEnter&&I.keyCode===13){this.onEnter();}this.showTaskError=true;this.click2Search=true;this._onsearch();break;case"sbMatchCase":this.set("matchCase",this.optionNode.checked);break;case"sbClear":this.clearSearch();break;case"sbSpinner":break;}},clearSearch:function(){this.inputNode.value="";C.removeClass(this.clearNode,["show"]);var G=this.searchCache,F=this.rootID;if(G&&G[F]){G[F][B]="";}this._onsearch(true);},onmatchCaseChange:function(){this.matchCaseChanged=true;this._onsearch();},onrootIDChange:function(){this.rootChanged=true;this._setupCache();var G=this.searchCache[this.rootID];if(G){var F=G[B]||"";this.inputNode.value=F;if(F.length>0){if(F.length>=this.minSearchLength&&this.searchAfterSearchPatternRestored){this._onsearch();}}}},getRootID:function(){},contentWidget:null,_notifyContentWidget:function(G){var F=this.contentWidget||this;F.set("items",G[0]);if(this.supportIncFetch){var H=G[1],J=G[2],I=this.blockCount;F.set("ifs",{np:Math.floor(H/I)+((H%I>0)?1:0),cp:Math.floor(J/I)+((J%I>0)?1:0)});}},_onsearch:function(F){this.getRootID();this._setupCache();var I=mstrmojo.string.trim(this.inputNode.value);if(I.length===0){F=true;}var J=this.token[this.taskId];if(J.test(I)){}if(this.searchPattern==I&&!this.rootChanged&&!this.matchCaseChanged&&!this.click2Search){return ;}var K=this.rootID,H=this.searchCache[K];if((I.length<this.minSearchLength&&!this.click2Search)&&!F){if(this.searchPattern&&this.searchPattern.length>=this.minSearchLength){this._notifyContentWidget(H[K]);this.searchPattern=I;}}else{this.searchPattern=I;H[B]=this.searchPattern;var G=this.filterCache(I,H,F);if((this.click2Search||G===null)&&!F){this.blockBegin=1;this.fetch();return ;}else{this._notifyContentWidget(G);}}H[B]=I;},_setupCache:function(){var H=this.searchCache,G=this.rootID;if(H&&!H[G]){H[G]=H[G]||{};var F=this.contentWidget&&this.contentWidget.items||this.rootCacheItems||[];H[G][G]=[F,this.totalSize||0,this.blockBegin||1].concat();}},taskCallId:0,path:mstrConfig.taskURL,method:"POST",fetch:function(){this.rootChanged=false;this.matchCaseChanged=false;if(this.spinnerNode){this.spinnerNode.style.display="block";}if(this.preFetch){this.preFetch();}var F=this,G=E.apply(this,[this.taskId]);G.searchPattern=this.searchPattern;callback={success:function(H){var I=H.items||H.es||[];I=[I,H.totalSize||H.sz||0,H.blockBegin||H.bb];mstrmojo.all[F.id].searchCache[F.rootID][(G.searchPattern.length==0?F.rootID:F.buildIndex(G.searchPattern))]=I;F._notifyContentWidget(I);},failure:function(H){if(F.showTaskError){mstrmojo.alert(mstrmojo.desc(8117,"Data request failed:")+" \n"+H.getResponseHeader("X-MSTR-TaskFailureMsg"));}},complete:function(){if(F.spinnerNode){F.spinnerNode.style.display="none";}if(F.postFetch){F.postFetch();}}};if(this.sessionState!==undefined){G.sessionState=this.sessionState;}mstrmojo.xhr.request(this.method,this.path,callback,G,undefined,this.XServer,this.baseParams);},fetchPage:function(F){this.blockBegin=F*this.blockCount+1;this.fetch();},filterCache:function(K,G,N){var J=G&&G[N?this.rootID:this.buildIndex(K)];if(J){return J;}var H=this.token[this.taskId];if(H.test(K)||this.totalSize>this.blockCount){return null;}var M=K.replace(/.$/,"");J=G&&G[this.buildIndex(M)];while(J===undefined&&(M=M.replace(/.$/,"")).length>0){J=G&&G[this.buildIndex(M)];}if(J!==undefined){if(J[1]>this.blockCount){return null;}var L=J[0],F=[];for(var I in L){if(L[I].n.search(new RegExp(K,this.matchCase?"":"i"))>-1){F.push(L[I]);}}this.totalSize=F.length;return(G[this.buildIndex(K)]=[F,F.length,this.blockBegin].concat());}return null;},buildIndex:function(F){if(F.replace(/^\s|\s$/g,"").length===0){return"";}return !this.matchCase?F.toUpperCase():F+"::0";},init:function(F){if(this._super){this._super(F);}this.qse=mstrApp.useQuickSearch&&mstrApp.useQuickSearch()||0;this.autoSubmit=this.quickSearch&&(mstrApp.searchAutoComplete&&mstrApp.searchAutoComplete()||false);this.searchDelay=mstrApp.searchAutoCompleteDelay&&mstrApp.searchAutoCompleteDelay()||0;this.xhr=new mstrmojo.SimpleXHR();this.searchCache=this.searchCache||{};},clear:function(){this.inputNode.value="";C.removeClass(this.clearNode,["show"]);}});})();(function(){mstrmojo.requiresCls("mstrmojo.boxmodel","mstrmojo.array","mstrmojo.hash","mstrmojo.dom","mstrmojo.css","mstrmojo.Widget","mstrmojo.Arr","mstrmojo._HasLayout","mstrmojo._ListBase2Selections","mstrmojo.ListSelector","mstrmojo._TouchScrolling","mstrmojo._PagingList");var Z=mstrmojo.hash,e=mstrmojo.array,d=mstrmojo.boxmodel,b=mstrmojo.dom;function A(h,j,g){var i=h.listSelector;if(i){i[j](h,h.itemsContainerNode,g);}}function K(h,g){var i=h.lastPagePos;if(!i||i.dragId!==g){i=d.offset(h.itemsContainerNode);i.dragId=g;h.lastPagePos=i;var j=h.scrollboxNode;h.lastScrollPos={left:j.scrollLeft,top:j.scrollTop,width:j.clientWidth,height:j.clientHeight};}}function N(j,m,h){var i=m&&m.node;if(i===j.dropCueNode||i===j.dropCueNode.firstChild){return j.dropCuePos;}var k=j.listMapper;var g=k&&k.whereDrop(j,j.itemsContainerNode,i,m.pos,{left:j.lastPagePos.left-j.lastScrollPos.left,top:j.lastPagePos.top-j.lastScrollPos.top,width:j.lastScrollPos.width,height:j.lastScrollPos.height});var l=j.dropCuePos;return((h!==false)&&l&&g&&(l.idx===g.idx)&&(l.left===g.left)&&(l.top===g.top))?l:g;}var f="attachEventListener";function C(h,g){if(h.makeObservable){g=g||[];if(!g[f]){mstrmojo.hash.make(g,h.itemsScriptClass||mstrmojo.Arr);}}return g;}function G(h,g){if(g&&g[f]){h._sub_its=g;h._sub_add=g[f]("add",h.id,"preadd");h._sub_rmv=g[f]("remove",h.id,"preremove");}}function F(g){if(g._sub_its){var h=mstrmojo.publisher;h.unsubscribe(g._sub_add);h.unsubscribe(g._sub_rmv);delete g._sub_add;delete g._sub_rmv;delete g._sub_its;}}mstrmojo.ListBase2=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._ListBase2Selections,mstrmojo._TouchScrolling,mstrmojo._PagingList,mstrmojo._HasLayout],{scriptClass:"mstrmojo.ListBase2",items:null,markupString:'<div id="{@id}" class="mstrmojo-ListBase2 {@cssClass}" style="position:relative;{@cssText}" mstrAttach:mousedown,mouseup,dblclick><div class="mstrmojo-ListBase2-itemsContainer" style="position:relative;{@itemsContainerCssText}">{@itemsHtml}</div><div class="mstrmojo-ListBase2-dropCue {@cssClass}"><div class="mstrmojo-ListBase2-dropCue-inner"></div></div></div>',markupSlots:{scrollboxNode:function(){return this.domNode;},itemsContainerNode:function(){return this.domNode.firstChild;},dropCueNode:function(){return this.domNode.lastChild;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?this.cssDisplay:"none";},ondropCuePosChange:function(){var h=this.dropCueNode,g=h&&h.style;if(!g){return ;}var j=this.dropCuePos,i=!!j;if(i){g.left=j.left+"px";g.top=j.top+"px";}g.display=i?"block":"none";},onpageChange:function(){if(this.usePaging&&!this._inScroll){this._inPaging=true;this.listMapper.toPage(this,this.page);this._inPaging=false;}}},autoHide:false,renderOnScroll:false,firstRenderBlockSize:50,renderBlockSize:50,listMapper:null,listBuilder:null,listSelector:mstrmojo.ListSelector,animate:false,itemsEffect:null,containerResizable:true,init:function Y(l){this._super(l);this.items=this.initItems(this.items);var k=this.selectedIndices,g=this.selectedIndicesList,j=this.selectedIndex,m=this.selectedItem;this.selectedIndices={};this.selectedIndex=-1;delete this.selectedIndicesList;delete this.selectedItem;if(k||g||(j>-1)||m){this.initSelections(k,g,j,m);}if(this.postInitItems){this.postInitItems();}},initItems:function H(g){return C(this,g);},preBuildRendering:function V(){var k=this.listBuilder,n=k.newContext(this);this.ctxtBuilder=n;var h=this.markupSlots,j=!!(this.renderOnScroll&&this.renderBlockSize&&h&&h.scrollboxNode),i=this.items,g=(i&&i.length)||0,l=j?this.firstRenderBlockSize:g,m=j?this.firstRenderBlockSize:0;this._eros=j;this.paused=false;this.itemsHtml=this.listMapper.buildItemWrappers(i,k,this,n,l,m).join("");this.itemsContainerCssText="visibility: hidden";if(this._super){this._super();}},postBuildRendering:function D(){delete this.itemsHtml;var l=this.listMapper;if(l&&l.postBuildRendering){l.postBuildRendering(this.itemsContainerNode,this.items,this.listBuilder,this,this.ctxtBuilder);}G(this,this.items);if(this._eros||this.usePaging){if(!this._cb_scroll){var o=this.id;this._cb_scroll=function(){var i=mstrmojo.all[o];i.onscroll();};}mstrmojo.dom.attachEvent(this.scrollboxNode,"scroll",this._cb_scroll);this.onscroll();}if(this.animate){for(var j=0,h=["itemsEffect","scrollEffect"],g=h.length;j<g;j++){var m=h[j],k=this[m];if(k&&k.constructor===Object){k=mstrmojo.insert(mstrmojo.hash.clone(k));k.widget=this;this[m]=k;}}if(this.itemsEffect){this.itemsEffect.play();}}this.itemsContainerNode.style.visibility="inherit";if(this.containerResizable&&this.itemsContainerNode.scrollWidth<this.domNode.scrollWidth){this.itemsContainerNode.style.width=this.domNode.scrollWidth+"px";}if(this._super){this._super();}},unrender:function W(k){F(this);if(this._eros){mstrmojo.dom.detachEvent(this.scrollboxNode,"scroll",this._cb_scroll);delete this._cb_scroll;}for(var h=0,j=["itemsEffect","scrollEffect"],g=j.length;h<g;h++){var l=this[j[h]];if(l&&l.isPlaying){l.cancel();}}this._super(k);},pauseScrollRendering:function O(i,g,h){if(i!==false){i=true;}if(this.paused===!!i){return ;}this.paused=!!i;if(i){if(this._fillTmr){window.clearTimeout(this._fillTmr);delete this._fillTmr;}}else{this.fill(g,h);}},onscroll:function J(){if(this.paused){return ;}if(this._eros){if(!this._fillTmr){var g=this;this._fillTmr=self.setTimeout(function(){g.fill();g=null;},50);}}if(this._super){this._super();}},fill:function a(g,k){if(this._fillTmr){window.clearTimeout(this._fillTmr);delete this._fillTmr;}var l=(this.items&&this.items.length)||0;if(!l){if(k){k();}}else{var i=this.scrollboxNode,m=this.itemsContainerNode,j=mstrmojo.boxmodel.offset(m,i),o=this.listMapper,n=o.findScrollRange(m,l,(this.usesTouches&&this.pos&&parseInt(this.pos.y,10))||i.scrollTop,i.clientHeight,(this.usesTouches&&this.pos&&parseInt(this.pos.x,10))||i.scrollLeft,i.clientWidth,j.left,j.top);if(this.fillAt(n.start,n.end)){if(g){g();}var h=this.id;this._fillTmr=window.setTimeout(function(){mstrmojo.all[h].fill(g,k);},100);}else{if(k){k();}}}},fillAt:function L(i,h){var g=this.listMapper;if(g){return g.fillItemWrappers(this.itemsContainerNode,this.items,this.listBuilder,this,this.ctxtBuilder,i,h,this.renderBlockSize);}else{return false;}},add:function Q(h,g){if(!h||!h.length){return -1;}var i=this.items;if(g==null){g=Z.min(this.selectedIndices,false,true);if(g!==null&&g!==undefined){g++;}}if(g==null||g===-1){g=(i&&i.length)||0;}if(i&&i.add){i.add(h,g);}else{this.set("items",i?e.insert(i.concat(),g,h):h);}return g;},preadd:function B(j){if(this.hasRendered){var m=this.listMapper;if(m){m.onadd(this,this.itemsContainerNode,this.ctxtBuilder,j);}var l=this.listBuilder;if(l){l.onadd(this,this.ctxtBuilder,j);}var h=this.listSelector;if(h){h.onadd(this,j);}if(this._eros){this.onscroll();}else{var k=j.index,g=j.value.length;this.fillAt(k,k+g-1);}}if(this.onadd){this.onadd(j);}if(this._super){this._super(j);}},remove:function T(g){if(g==null){return -1;}if(g.constructor!==Array){return this._remove(g);}var j=this.items;if(j){var h;if(j.remove){for(h=g.length-1;h>-1;h--){j.remove(g[h],1);}}else{j=j.concat();for(h=g.length-1;h>-1;h--){j.splice(g[h],1);}this.set("items",j);}return g[0];}return -1;},_remove:function T(i){var h=this.items;if(!h||(i==null)){return -1;}var g;if(!isNaN(i)){g=i;}else{g=this.itemIndex(i);}if(g>-1){if(h.remove){h.remove(g,1);}else{h=h.concat();h.splice(g,1);this.set("items",h);}}return g;},duplicate:function X(l,h,i){var j=this.items,g=-1;if(!j||(l==null)){return -1;}if(!isNaN(l)){if(h===null||h===undefined){h=l+1;}l=j[l];}else{if(h===null||h===undefined){h=this.itemIndex(l)+1;}}if(l){var k;k=Z.copy(i,Z.clone(l));g=this.add([k],h);}return g;},preremove:function M(h){if(this.hasRendered){var j=this.listMapper;if(j){j.onremove(this,this.itemsContainerNode,this.ctxtBuilder,h);}var i=this.listBuilder;if(i){i.onremove(this,this.ctxtBuilder,h);}var g=this.listSelector;if(g){g.onremove(this,h);}if(this._eros){this.onscroll();}}if(this.onremove){this.onremove(h);}if(this._super){this._super(h);}},move:function R(k,p){function n(q,i){return(p>=q)&&(p<=q+i);}var o=(this.items&&this.items.length)||0;if(p===-1||p==null||isNaN(p)){p=o;}else{p=Math.min(p,o);}var j,g,m,l;if(k.constructor===Array){g=k;m=k;l=(g&&g.length)||0;if(n(k[0],k.length)){return false;}j=e.get(this.items,k);}else{if(typeof (k)==="object"){j=[k];l=1;g=this.itemIndex(j[0]);m=[g];if(n(g,1)){return false;}}else{g=k;m=[k];l=1;if(n(g,1)){return false;}j=[this.items[g]];}}for(var h=0;h<l;h++){if(m[h]<=p){p--;}}if(j[0]!=null){this.remove(g);this.add(j,p);}return true;},itemIndex:function E(g){if(g==null){return -1;}var h=this.itemIdField;return h?e.find(this.items,h,g[h]):e.indexOf(this.items,g);},prechange:function S(j){if(this.hasRendered){var h=[this.listBuilder,this.listMapper];for(var k=0,g=h.length;k<g;k++){var l=h[k];if(l&&l.onchange){l.onchange(this,this.itemsContainerNode,this.ctxtBuilder,j);}}}},makeObservable:false,_set_items:function I(l,g){var k=this.items;g=this.initItems(g);this.items=g;if(k!==g){var j=this,i=function(){if(j.autoHide){j.set("visible",!!(g&&g.length));}j=null;},h=this.hasRendered;if(h){this.refresh(i);}else{i();}}return k!==g;},premousedown:function c(g){A(this,"premousedown",g);},premouseup:function P(g){A(this,"premouseup",g);},scrollTo:function U(h){var g,i=this.listMapper;if(i&&i.toItem){if(!isNaN(h)){g=h;}else{g=this.itemIndex(h);}if(g>=0){i.toItem(this,g);}}},draggable:false,getDragData:function(k){K(this,k.id);var i=N(this,k.src),h=i&&i.idxActual;if((h>-1)&&this.selectedIndices[h]){var j=this.sortSelectedIndices(),g=e.get(this.items,j)||[];switch(g.length){case 1:return Z.copy(g[0],{html:g[0][this.itemDisplayField],index:j[0]});case 0:return null;default:return Z.copy({html:g.length+" selections",indices:j},g);}}},dropZone:false,ondragenter:function(g){K(this,g.id);this.set("dropCuePos",N(this,g.tgt));},ondragover:function(g){this.set("dropCuePos",N(this,g.tgt));},ondragleave:function(g){this.set("dropCuePos",null);},ondragstart:function(g){if(!(g&&g.src&&g.src.data)){return false;}},allowCopy:false,ondragend:function(j){var h=j&&j.tgt,g=h&&h.widget;if(g===this){}else{if(this.tree&&g&&g.tree===this.tree){if(!this.allowCopy||!b.ctrlKey(h.hWin,h.e)){var i=j.src&&j.src.data;if(i&&(i.indices||(i.index!==null))){this.remove(i.indices||i.index);}}}}},ondrop:function(o){var r=o&&o.src,n=r&&r.data;if(n){var h=N(this,o.tgt,false),p=h&&h.idx,j=(n&&n.constructor===Array);var l=this.items;p=Math.min(p,(l&&l.length)||0);var q=true;if(r.widget===this){q=this.move(this.sortSelectedIndices(),p);}else{this.add(j?n:[n],p);}if(q){var m=j?n.length:1,g={};for(var k=0;k<m;k++){g[p+k]=true;}this.set("selectedIndices",g);}}this.set("dropCuePos",null);}});})();(function(){mstrmojo.requiresCls("mstrmojo.Widget");mstrmojo.WaitIcon=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.WaitIcon",cssFloat:"left",visible:false,markupString:'<div id="{@id}" class="mstrmojo-WaitIcon {@cssClass}" style="float:{@cssFloat};{@cssText};"></div>',markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},markupSlots:{}});})();(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.hash");function A(H,E,G,F){var D=mstrmojo.hash.copy(F,{props:{left:{isStyle:true,start:H,stop:E,suffix:"px",ease:mstrmojo.ease.linear}},duration:G});(new mstrmojo.fx.AnimateProp(D)).play();}function B(J,M,F,K){var H=J.domNode,L=H.offsetWidth;var D=!(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent))||Number(RegExp.$1)>3.5,I=K?1:-1,E=parseInt(L,10)*I,G=D?500:0;A(0,-E,G,{target:F,duration:G,preStart:function(){this.target.style.overflowY="hidden";}});A(E,0,G,{target:M,preStart:function(){this.target.style.overflowY="auto";}});if(J.waiting){A(0,-E,G,{widget:J,slot:"loaderNode",onEnd:function(){this.widget.waiting=false;}});}}var C=function(D){var E=D.currentPage;if(E===D.p1Node){E=D.p2Node;}else{E=D.p1Node;}D.currentPage=E;};mstrmojo.Booklet=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.Booklet",pageClass:"mstrmojo-BookletPage",markupString:'<div id="{@id}" class="mstrmojo-Booklet {@cssClass}" style="{@cssText}"><div id="{@id}_p1" class="mstrmojo-BookletPage" ></div><div id="{@id}_p2" class="mstrmojo-BookletPage" style="left:-100%;"></div><div id="{@id}_ldr" class="mstrmojo-BookletLoader" ></div></div>',markupSlots:{containerNode:function(){return this.domNode;},p1Node:function(){return this.domNode.firstChild;},p2Node:function(){return this.domNode.childNodes[1];},loaderNode:function(){return this.domNode.childNodes[2];}},markupMethods:{onnextChange:function(){var G=this.next;if(!G){return ;}var D=this.currentPage,F=this.p1Node,E=this.currentPage=(D==F)?this.p2Node:F;if(!(G instanceof mstrmojo.Obj)){G=this.next=mstrmojo.insert(G);}if(!G.hasRendered){G.placeholder=E.appendChild(document.createElement("span"));G.render();}else{if(E.firstChild){E.replaceChild(G.domNode,E.firstChild);}else{E.appendChild(G.domNode);}}this.set("waiting",false);if(E&&D){B(this,E,D,this.turnDirFwd);}},onwaitingChange:function(D){this.loaderNode.style.left=(this.waiting)?0:"-100%";},onheightChange:function(D){if(this.height){this.domNode.style.height=this.height;}},onwidthChange:function(D){if(this.width){this.domNode.style.width=this.width;}}},enabled:true,waiting:false,next:null,currentPage:null,turnDirFwd:true,FORWARD:true,REVERSE:false,turnFwd:function(D){this.turn(D,this.FORWARD);},turnBack:function(D){this.turn(D,this.REVERSE);},turn:function(D,E){this.set("turnDirFwd",E);this.set("next",D);}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListBase2","mstrmojo.ListMapper","mstrmojo.ListBuilder","mstrmojo.ListSelector");mstrmojo.List=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.List",renderOnScroll:true,listMapper:mstrmojo.ListMapper,listBuilder:mstrmojo.ListBuilder,listSelector:mstrmojo.ListSelector,itemIdField:"dssid",itemField:"n",itemMarkup:null,itemMarkupFunction:null});})();(function(){mstrmojo.requiresCls("mstrmojo.ListBase2","mstrmojo.ListMapperHoriz","mstrmojo.ListBuilder");mstrmojo.ListHoriz=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.ListHoriz",renderOnScroll:true,listMapper:mstrmojo.ListMapperHoriz,listBuilder:mstrmojo.ListBuilder,itemField:"n",itemMarkup:null,itemMarkupFunction:null});})();(function(){mstrmojo.requiresCls("mstrmojo.ListBase2");function B(E){var I=E.ctxtBuilder;if(I){var H=I.itemWidgets,G;for(G=H.length-1;G>-1;G--){var F=H[G];if(F){F.destroy(true);}}}}mstrmojo.WidgetListBase=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.WidgetListBase",unrender:function C(G){var I=this.ctxtBuilder;if(I){var H=I.itemWidgets,F;for(F=H.length-1;F>-1;F--){var E=H[F];if(E&&E.hasRendered){E.unrender(true);}}}this._super(G);},refresh:function A(E){B(this);if(this._super){this._super(E);}},destroy:function D(E){B(this);this._super(E);}});})();(function(){mstrmojo.requiresCls("mstrmojo.Button");mstrmojo.HTMLButton=mstrmojo.declare(mstrmojo.Button,null,{scriptClass:"mstrmojo.HTMLButton",markupString:'<input id="{@id}" type="button" class="mstrmojo-text mstrmojo-HTMLButton {@cssClass} {@iconClass}" title="{@title}" style="{@cssText}" mstrAttach:click />',markupSlots:{inputNode:function(){return this.domNode;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"inline":"none";},onenabledChange:function(){mstrmojo.css[this.enabled?"removeClass":"addClass"](this.domNode,["disabled"]);},onselectedChange:function(){mstrmojo.css[this.selected?"addClass":"removeClass"](this.domNode,["selected"]);},ontextChange:function(){this.inputNode.value=this.text!=null?this.text:"";},oniconClassChange:function(){this.domNode.className="mstrmojo-text mstrmojo-HTMLButton "+this.cssClass+" "+this.iconClass+(this.enabled?"":" disabled");}}});})();(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.Container","mstrmojo._HasPopup");var D=function(){var F=this.opener;if(F.direction.toLowerCase()==="up"){this.domNode.style.top=-F.domNode.offsetHeight+"px";}};mstrmojo.DropDownButton=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.DropDownButton",height:"19px",text:"",direction:"down",enabled:true,title:"",markupString:'<div id="{@id}" class="mstrmojo-DropDownButton {@cssClass} {@direction}" style="{@cssText}"><div class="mstrmojo-DropDownButton-boxNode {@cssClass}-boxNode" title="{@title}" mstrAttach:mousedown><div class="mstrmojo-DropDownButton-iconNode {@cssClass}-iconNode">{@text}</div></div><div class="mstrmojo-DropDownButton-popupNode {@cssClass}-popupNode"></div></div>',markupSlots:{boxNode:function(){return this.domNode.firstChild;},iconNode:function(){return this.domNode.firstChild.firstChild;},popupNode:function(){return this.domNode.lastChild;}},markupMethods:{onheightChange:function(){this.boxNode.style.height=this.height||"";},ontextChange:function(){this.iconNode.innerHTML=this.text;},ontitleChange:function(){this.boxNode.title=this.title;},onenabledChange:function(){mstrmojo.css[this.enabled?"removeClass":"addClass"](this.domNode,["disabled"]);},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},preBuildRendering:function B(){if(this._super){this._super();}var F=this.popupRef;if(F){if(F.nudge){F.nudge=mstrmojo.func.composite([F.nudge,D]);}else{if(this.direction.toLowerCase()!=="down"){F.nudge=D;}}}},popupRef:null,popupOpenConfig:null,destroy:function C(F){var G=this.popupRef;if(G&&G.hasRendered){G.destroy(false);}if(this._super){this._super(F);}},togglePopup:function E(){var F=this._lastOpened;if(F&&F.visible){this.closePopup();}else{this.openPopup("popupRef",this.popupOpenConfig);}},premousedown:function A(F){this.togglePopup();}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.css");var B=mstrmojo.css;mstrmojo.Panel=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Panel",state:1,showTitlebar:false,markupString:'<div id="{@id}" class="mstrmojo-Panel {@cssClass}" style="position: relative;{@cssText}"><div class="mstrmojo-Panel-titlebar {@cssClass}"><img class="mstrmojo-Panel-state" src="../images/1ptrans.gif" align="absmiddle" onclick="var w = mstrmojo.all[\'{@id}\']; w.set(\'state\', w.state === 0 ? 1 : 0)" /><span class="mstrmojo-Panel-text" style="{@ttlTxtCssText}"></span><input type="button" class="mstrmojo-Panel-del" value="{@delText}" onclick="mstrmojo.all[\'{@id}\'].del()"/><div class="mstrmojo-clearMe"></div></div><div class="mstrmojo-Panel-container"></div></div>',markupSlots:{stateNode:function(){return this.domNode.firstChild.firstChild;},titlebarNode:function(){return this.domNode.firstChild;},titleNode:function(){return this.domNode.firstChild.childNodes[1];},containerNode:function(){return this.domNode.lastChild;}},markupMethods:{ontitleChange:function(){var C=this.titleNode;if(C){var D=this.title;C.innerHTML=(D!==null)?D:"";}},onstateChange:function(){var C=(this.state===0);for(var D in {stateNode:1,titleNode:1,containerNode:1}){if(this[D]){B.toggleClass(this[D],["closed"],C);}}},onshowTitlebarChange:function(){B.toggleClass(this.titlebarNode,["closed"],(this.showTitlebar===false));}},del:function A(){var C=this.parent;if(C&&C.remove){C.remove(this.item);}if(this.customDel){this.customDel();}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.css");var F="",B="row-",E=mstrmojo.css.DISPLAY_TABLE;mstrmojo.Table=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Table",cellCssClass:"",rows:-1,cols:-1,_trows:-1,cellPadding:0,cellSpacing:0,layout:null,markupString:'<table id="{@id}" class="mstrmojo-Table {@cssClass}" style="{@cssText}" cellpadding="{@cellPadding}" cellspacing="{@cellSpacing}">{@tableHtml}</table>',markupSlots:{containerNode:function(){return this.domNode;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?E:"none";}},preBuildRendering:function G(){var I=[],P=this.cellCssClass;if(this.layout){var Q=this._trows=this.layout.length;for(var K=0;K<Q;K++){var H=this.layout[K],R=H.cells,O=R.length,L=[];for(var J=0;J<O;J++){var N=R[J],M="";M+=((N.cssClass||P)?' class="'+(N.cssClass||P)+'"':"");M+=(N.cssText?' style="'+N.cssText+'"':"");M+=(N.rowSpan?' rowspan="'+N.rowSpan+'"':"");M+=(N.colSpan?' colspan="'+N.colSpan+'"':"");L[J]="<td"+M+"></td>";}var S="";S+=(H.cssClass?' class="'+H.cssClass+'"':"");S+=(H.cssText?' style="'+H.cssText+'"':"");I[K]="<tr"+S+">"+L.join("")+"</tr>";}}else{this._trows=this.rows;var M=(P?' class="'+P+'"':""),L=[];for(var K=0;K<this.rows;K++){for(var J=0;J<this.cols;J++){L[J]="<td"+M+"></td>";}I[K]="<tr>"+L.join("")+"</tr>";}}this.tableHtml=I.join("");if(this._super){this._super();}},postBuildRendering:function C(){if(this._trows){var M={},I=this.containerNode.rows,N=I.length;for(var L=0;L<N;L++){var K=I[L].cells,H=K.length;M[B+L]=I[L];for(var J=0;J<H;J++){M[F+L+","+J]=K[J];}}this.addSlots(M);}this._super();},childRenderCheck:function D(I){if(I&&!I.hasRendered){var H=I.slot||this.defaultChildSlot;return !!this[H]||H.match(/^([\d]+),([\d]+)$/);}return false;},on_child_change_rendering:function A(L){var H=(L&&L.src)||L,O=H&&H.domNode;if(O){var U=H.slot;if(!this[U]){var M=U&&U.match(/^([\d]+),([\d]+)$/);if(M){var R=parseInt(M[1],10),V=parseInt(M[2],10),Q=this.containerNode,T=this[(B+R)],N=[];if(!T){var J=Q.rows,S=J&&J.length||0;for(var K=S;K<=R;K++){N[B+K]=Q.insertRow();}T=N[B+R];}var P=T.cells&&T.cells.length||0;for(var K=P;K<=V;K++){var I=T.insertCell(K);N[F+R+","+K]=I;if(this.cellCssClass){I.className=this.cellCssClass;}}this.addSlots(N);}}}this._super(L);}});})();(function(){mstrmojo.requiresCls("mstrmojo._CanValidate","mstrmojo.Label","mstrmojo.Obj","mstrmojo.string","mstrmojo.color","mstrmojo.css","mstrmojo.locales");mstrmojo.locales.validation.requiredFieldError=mstrmojo.desc(6078);mstrmojo.locales.validation.invalidCharError=mstrmojo.desc(7899);mstrmojo.locales.validation.integerDataType=mstrmojo.desc(6076);mstrApp.onSessionExpired=function(){Q.lastProject=null;Q.lastSession=null;P.set("mode",T);};var N=mstrmojo.string,F=mstrmojo.color,R=mstrmojo.hash,S=mstrmojo.dom;function K(X){return(X!=mstrmojo.mobileConfigUtil.PRJ_AUTHEN_WIN)&&(X!=mstrmojo.mobileConfigUtil.PRJ_AUTHEN_TRUSTED);}var I=0,T=1,C=2,U=3;var Q=mstrmojo.insert({scriptClass:"mstrmojo.Table",id:"loginBox",alias:"loginBox",cssClass:"mobileConfig-loginBox",cellPadding:2,cols:2,rows:5,onwaitChange:function(){this.waitIcon.set("visible",this.wait);mstrmojo.css.toggleClass(this.domNode,["disabled"],this.wait);},restoreSession:function(){var Y=this.lastProject,Z=this.selectedProject,X=Y&&(Y.v==Z.v)&&(Y.iServer==Z.iServer)&&(Y.authMode==Z.authMode);if(X){this.sessionID=this.lastSession;}return X;},closeSession:function(){if(this.sessionID!=null){if(P.opener.reuseSession){this.lastSession=this.sessionID;this.lastProject=this.selectedProject;}else{mstrmojo.xhr.request("GET",mstrConfig.taskURL,{success:function(X){},failure:function(){}},{taskId:"closeSessions",sessionStates:this.sessionID},false,this.selectedProject.webServer);}this.sessionID=null;}},children:[{scriptClass:"mstrmojo.Label",cssText:"width: 80px; margin:0px",text:mstrmojo.desc(4446),slot:"0,0"},{scriptClass:"mstrmojo.SelectBox",alias:"projects",cssText:"width:230px; margin:0px",showItemTooltip:true,size:1,bindings:{visible:"!this.items || this.items.length != 1"},onitemsChange:function(){if(this.items&&this.items.length>0){this.set("selectedIndex",0);}},onchange:function(){if(this.selectedItem){var X=K(this.selectedItem.authMode);this.parent.set("selectedProject",this.selectedItem);this.parent.uid.set("enabled",X);this.parent.password.set("enabled",X);}},slot:"0,1"},{scriptClass:"mstrmojo.Label",cssClass:"mobileConfig-loginBox-projectLabel",bindings:{visible:"!this.parent.projects.visible",text:"this.parent.projects.items[0].n"},slot:"0,1"},{scriptClass:"mstrmojo.Label",cssText:"width: 80px; margin:0px",text:mstrmojo.desc(1161),slot:"1,0"},{scriptClass:"mstrmojo.TextBox",cssText:"width:220px; margin:0px",alias:"uid",onkeyup:function(Y){var X=Y.hWin,Z=Y.e||X.event;if(Z.keyCode===13){this.parent.loginButton.onclick();}},slot:"1,1"},{scriptClass:"mstrmojo.Label",cssText:"width: 80px; margin:0px",text:mstrmojo.desc(1162),slot:"2,0"},{slot:"2,1",scriptClass:"mstrmojo.TextBox",cssText:"width:220px; margin:0px",type:"password",alias:"password",onkeyup:function(Y){var X=Y.hWin,Z=Y.e||X.event;if(Z.keyCode===13){this.parent.loginButton.onclick();}}},{slot:"3,1",scriptClass:"mstrmojo.HTMLButton",alias:"loginButton",text:mstrmojo.desc(4020),cssText:"margin-left: 20px;",cssClass:"mstrButton",bindings:{enabled:"this.parent.projects.items.length > 0"},onclick:function(){var X=E.objectBrowser,Y=K(Q.selectedProject.authMode);mstrmojo.xhr.request("GET",mstrConfig.taskURL,{success:function(Z){if(Z!=null){Q.sessionID=Z.sessionState;P.set("mode",P.targetMode);}},failure:function(Z){mstrmojo.mobileConfigUtil.showErrorMsgBox(mstrmojo.desc(422));P.close();},complete:function(){Q.set("wait",false);}},{taskId:"login",server:Q.selectedProject.iServer,project:Q.selectedProject.project,userid:(Y)?Q.uid.value:"",password:(Y)?Q.password.value:"",authMode:Q.selectedProject.authMode},false,Q.selectedProject.webServer);Q.set("wait",true);}},{slot:"3,1",scriptClass:"mstrmojo.HTMLButton",cssText:"margin-left: 35px;",cssClass:"mstrButton",text:mstrmojo.desc(221),onclick:function(){P.close();}},{slot:"4,0",scriptClass:"mstrmojo.WaitIcon",alias:"waitIcon",cssClass:"mobileConfig-waitIcon"}]});var E=mstrmojo.insert({id:"objectBrowserBox",alias:"objectBrowserBox",scriptClass:"mstrmojo.VBox",callbackOnSelect:function(a){var Z=this.objectBrowser.currentFolder,b=Z.anc.items[0],c=b.n,Y=b.items&&b.items[0];while(Y){c+="\\"+Y.n;Y=Y.items&&Y.items[0];}if(Z!=a){c+="\\"+a.n;}var X={oi:{did:a.did,pt:c,pid:Q.selectedProject.v,t:a.t,st:a.st,n:a.n,fid:a.pf||Z.did}};if(P.opener.allowCheckSubscription){X.csp=true;}mstrmojo.xhr.request("GET",mstrConfig.taskURL,{success:function(e){if(e!==null){X.oi.ab=e.objects[0].ab;}var h=P.opener,g=h.target,f=h.targetType,d=g[f];if(!d){g.set(f,new mstrmojo.Obj(X));}else{d.set("oi",X.oi);d.set("csp",X.csp);}},failure:function(){},complete:function(){P.close();}},{taskId:"getObjectInfo",objectIDs:a.did,objectTypes:a.t,sessionState:Q.sessionID},false,Q.selectedProject.webServer);},onvisibleChange:function(){if(this.visible){var X=this.objectBrowser;objBrowserDP=X.dataProvider,objBrowserSearch=X.searchUpBar.obSearchBox,config={method:"GET",path:mstrConfig.taskURL,XServer:Q.selectedProject.webServer};R.copy(config,objBrowserDP);R.copy(config,objBrowserSearch);R.copy({onSelectCB:[E,"callbackOnSelect"],onCloseCB:[P,"close"],browsableTypes:P.opener.browsableTypes},X);X.sId=objBrowserSearch.sessionState=Q.sessionID;objBrowserSearch.searchCache={};objBrowserSearch.objectTypes=P.opener.browsableTypes;X.browse();}this.objectBrowser.set("visible",this.visible);this.choose.set("visible",this.visible&&(this.objectBrowser.browsableTypes=="8,17153"||this.objectBrowser.browsableTypes=="8"));this.switcher.set("visible",this.visible);},children:[{id:"objectBrowser",scriptClass:"mstrmojo.ObjectBrowser",alias:"objectBrowser",folderLinksContextId:14,closeOnSelect:false,useAnimate:false,closeable:false},{scriptClass:"mstrmojo.HTMLButton",alias:"choose",text:mstrmojo.desc(549),cssClass:"mstrButton",cssText:"width:100px",onclick:function(){this.parent.callbackOnSelect(this.parent.objectBrowser.currentFolder);}},{scriptClass:"mstrmojo.HTMLButton",alias:"switcher",text:mstrmojo.desc(221),cssClass:"mstrButton",cssText:"width:80px",onclick:function(){P.close();}}]});var H=mstrmojo.insert({scriptClass:"mstrmojo.Table",id:"triggerSelectorBox",alias:"triggerSelectorBox",cssClass:"triggerSelectorBox",rows:3,cols:1,onvisibleChange:function(){if(this.visible){mstrmojo.xhr.request("GET",mstrConfig.taskURL,{success:function(Y){var Z=H.triggerList;if(Y.objList){var X=Y.objList.length>0;Z.set("items",X?Y.objList:[]);Z.set("selectedIndex",X?0:-1);}},failure:function(){}},{taskId:"getSchedules",sessionState:Q.sessionID},false,Q.selectedProject.webServer);}else{this.set("items",null);}},children:[{slot:"0,0",scriptClass:"mstrmojo.Label",cssClass:"triggerListTitle",text:mstrmojo.desc(1090,"Choose a schedule:")},{slot:"1,0",scriptClass:"mstrmojo.SelectBox",alias:"triggerList",cssClass:"triggerList",size:1,showItemTooltip:true,itemDisplayField:"n",itemIdField:"id"},{slot:"2,0",scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrButton",cssText:"margin-left:10px; width:60px;",text:mstrmojo.desc(1442,"OK"),onclick:function(){var X=this.parent.triggerList.selectedItem;if(X){var Y=P.opener;Y.target.set(Y.targetType,{oi:{did:X.id,t:X.t,n:X.n}});}P.close();}},{slot:"2,0",scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrButton",cssText:"margin-left:10px; width:80px",text:mstrmojo.desc(221,"Cancel"),onclick:function(){P.close();}}]});var P=mstrmojo.insert({scriptClass:"mstrmojo.Popup",id:"mobileConfigPopup",cssClass:"mobileConfigPopup",slot:"popupNode",locksHover:true,mode:I,children:[Q,E,H],onOpen:function(){this.lastOpener=this.lastOpener||this.opener;if(this.opener!==this.lastOpener){this.opener.popupNode.appendChild(this.lastOpener.popupRef.domNode);this.lastOpener=this.opener;}this.loginBox.projects.set("items",mstrmojo.all.mobileConfig.getProjects(this.opener.target.pid,this.opener.target.sn));this.targetMode=this.opener.mode;this.set("mode",(this.opener.reuseSession&&Q.restoreSession())?this.targetMode:T);},onmodeChange:function(){this.set("left",this.mode===T?"-305px":"-175px");this.set("top",(this.mode!==T&&mstrmojo.dom.isWK)?"-35px":"0px");this.objectBrowserBox.set("visible",this.mode===C);this.loginBox.set("visible",this.mode===T);this.triggerSelectorBox.set("visible",this.mode===U);},onClose:function(X){this.loginBox.closeSession();this.set("mode",I);},destroy:function(){document.body.appendChild(this.domNode);this.lastOpener={popupRef:{domNode:this.domNode}};},unrender:function(){}});var A=function(Y,X){return R.copy(Y,{scriptClass:"mstrmojo.DropDownButton",cssClass:"mobileConfig-popupButton",text:"   ",title:"",mode:X,popupRef:P});};mstrmojo.mobileConfigUtil=mstrmojo.provide("mstrmojo.mobileConfigUtil",{DEVICE_IPHONE:1,DEVICE_IPAD:2,DEVICE_PHONE_UNIVERSAL:3,DEVICE_TABLET_UNIVERSAL:4,DEVICE_BLACKBERRY:5,DEVICE_IOS:6,DEVICE_ANDROID:7,DEVICE_ALL:8,DEFAULT_WEBSERVER:1,DEFAULT_PROJECT:2,DEFAULT_IPHONE_HOMESCREEN_BUTTON:3,DEFAULT_IPHONE_CUSTOM_HOMESCREEN:4,DEFAULT_IPAD_HOMESCREEN_BUTTON:5,DEFAULT_IPAD_CUSTOM_HOMESCREEN:6,DEFAULT_PHONE_UNIVERSAL_CUSTOM_HOMESCREEN:7,DEFAULT_TABLET_UNIVERSAL_CUSTOM_HOMESCREEN:8,DEFAULT_IPAD_PRECACHE_BUTTON:9999,HOMESCREEN_DEFAULT:1,HOMESCREEN_CUSTOM:2,HOMESCREEN_RD:3,HOMESCREEN_FOLDER:4,ACT_BROWSEFOLDER:1,ACT_RUNREPORT:2,ACT_FAVOURITES:3,ACT_SETTINGS:4,ACT_SHAREDLIBRARY:5,ACT_HELP:6,ACT_CLOUD:7,STYLE_GLASS:3,STYLE_FLAT:2,STYLE_NONE:1,FILL_SOLID:0,FILL_TRANSPARENT:1,FILL_GRADIENT:2,BACKGROUND_FILL:1,BACKGROUND_IMAGE:2,TITLEBAR_REGULAR:1,TITLEBAR_IMAGE:2,ICON_DEFAULT:1,ICON_IMAGE:2,ACT_HELP_DEFAULT:1,ACT_HELP_DOCUMENT:2,LOGGING_LEVEL_WARNING:12,LOGGING_LEVEL_ERROR:14,LOGGING_LEVEL_MESSAGES:10,LOGGING_LEVEL_ALL:0,LOGGING_LEVEL_OFF:16,MEM_UNIT_MB:1,MEM_UNIT_GB:2,TIME_UNIT_DAYS:1,TIME_UNIT_HOURS:2,TIME_UNIT_MINUTES:3,AUTHEN_ANONY:1,AUTHEN_BASIC:2,AUTHEN_WIN:3,AUTHEN_USHER:5,PRJ_AUTHEN_STD:1,PRJ_AUTHEN_WIN:2,PRJ_AUTHEN_LDAP:16,PRJ_AUTHEN_DB:32,PRJ_AUTHEN_TRUSTED:64,SRV_ASP:1,SRV_J2EE:0,REQ_HTTP:0,REQ_HTTPS:1,CACHE_PRELOAD_AUTO:1,CACHE_PRELOAD_OFF:2,CACHE_CLEAR_AUTO:1,CACHE_CLEAR_ONCLOSE:2,PUSH_NOTIFICATION_ON:1,PUSH_NOTIFICATION_OFF:2,OUTPUT_TYPE_ALL:1,OUTPUT_TYPE_MOBILE_CLIENT:2,createObjBrowserDropdown:function(X){return A(X,C);},createTriggerListDropdown:function(X){return A(X,U);},makeButtonHashable:function(X){this.makeHashable(X);this.makeHashable(X,["cap","dsc","act","icn"]);this.makeHashable(X.act,["hlp","rs","fd"]);this.makeHashable(X.act.rs,["pcf"]);this.makeHashable(X.icn,["img"]);return X;},makeCSTHomescreenHashable:function(Z){this.makeHashable(Z);this.makeHashable(Z,["rs","fd"]);if(Z.cst){var a=Z.cst.fmt;this.makeHashable(a);this.makeHashable(a,["btn","bkg","ttl","vw"]);this.makeHashable(a.bkg,["fll","img"]);this.makeHashable(a.ttl,["cap","img"]);this.makeHashable(a.btn,["fnt","brd","fll"]);for(var Y=0,X=Z.cst.btns.length;Y<X;Y++){this.makeButtonHashable(Z.cst.btns[Y]);}}else{if(Z.rs){if(Z.rs.sobs){var b=Z.rs.sobs;for(var Y=0,X=b.length;Y<X;Y++){this.makeHashable(b[Y]);this.makeHashable(b[Y],["fd","rs"]);if(b[Y].rs){this.makeHashable(b[Y].rs,["pcf"]);}}}if(Z.rs.pb){this.makeHashable(Z.rs,["pb"]);}}}},makeHashable:function(b,Z){if(!b){return ;}else{if(Z===undefined){R.make(b,mstrmojo.Obj);}else{for(var Y=0,X=Z.length;Y<X;Y++){var a=Z[Y];if(a in b){R.make(b[a],mstrmojo.Obj);}}}}},transformGradient:function(Z){if(typeof Z==="object"){var Y=mstrmojo.css.buildGradient(0,F.decodeColor(Z.sclr),F.decodeColor(Z.eclr));return Y.n+":"+Y.v;}else{if(typeof Z=="string"){var X=Z.match(/#\w{6}/g);if(X!==null&&X.length==2){return{sclr:F.encodeColor(X[0]),eclr:F.encodeColor(X[1])};}}}return"";},getTransferAuth:function W(X){var Y=(X.udc===true)?mstrmojo.all.mobileConfig.data.cty.wsdc.am:X.wsc.am;return(Y===this.AUTHEN_BASIC)?{transferAuthHeader:"1"}:null;},showErrorMsgBox:function V(Y){if(!Y){return ;}var X=mstrmojo.all.mobileConfigTaskError;if(X){var Z=X.children[0].text;if(Z!=Y){X.children[0].set("text",Z+Y);}}else{mstrmojo.insert({scriptClass:"mstrmojo.Dialog",id:"mobileConfigTaskError",title:mstrmojo.desc(3610),width:"475px",btnAlignment:"right",cssText:"border:1px solid #AAAAAA;",buttons:[{scriptClass:"mstrmojo.HTMLButton",cssText:"margin-bottom:2px",text:mstrmojo.desc(1442),preBuildRendering:function(){this.cssClass="mobileconfig-Button";},postBuildRendering:function(){this.domNode.focus();},onkeyup:function(b){var a=b.hWin,c=b.e||a.event;if(c.keyCode===13){this.onclick();}},onclick:function(a){mstrmojo.all.mobileConfigTaskError.destroy();}}],children:[{scriptClass:"mstrmojo.Label",text:Y}]}).render();}},isASP:function J(){return(window.location.pathname.indexOf("/asp/")>0)?true:false;},getWebSrvUrl:function B(X){return((parseInt(X.rt,10)===0)?"http":"https")+"://"+X.nm+":"+X.po+"/"+X.pt+((parseInt(X.ty,10)===0)?"/servlet/taskProc":"/asp/taskProc.aspx");},setValidValue:function O(Z,a,X,Y){if(!Z){return ;}X=(X!=null)?N.trim(X):"";if(Y&&Z.set){Z.set(a,X);}else{Z[a]=X;}},validatePort:function L(X){X=parseInt(X,10);if(X<0||X>65535){return false;}},generalValidator:function G(Y,Z,b,X){var a={id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""};if(Z===mstrmojo.expr.DTP.INTEGER){Y=parseInt(Y,10);}if(b&&b(Y)===false){a.code=mstrmojo.validation.STATUSCODE.INVALID_VALIDATOR;a.msg=X;}return a;},propertyName:function M(Y,a,X,Z){return{scriptClass:"mstrmojo.Label",text:Y,cssText:X,slot:a,bindings:Z};},obj2Xml:function D(f,e,d,a,b,Y){var X=d?'<?xml version="1.0" encoding="UTF-8"?>':"",c=b?b:{_meta_usesSuper:false,id:false,scriptClass:false,audibles:false,attachEventListener:false,destroy:false,detachEventListener:false,init:false,raiseEvent:false,set:false,defaultSrv:false,defaultPrj:false,defaultButton:false,validFlag:false,dead:false,pdn:false},Z={getArrItemName:Y?Y:function(j,g,h){return j.substr(0,j.length-1);},isSerializable:function(i,h,g){return(c[i]===false)?false:true;},skipNull:a,convertBoolean:false};X+=N.json2xml(e,f,Z);return X;}});})();(function(){mstrmojo.requiresCls("mstrmojo.TextBox","mstrmojo._CanValidate");var A=mstrmojo.css,D=mstrmojo.validation,H=D.TRIGGER,G=D.STATUSCODE,E=mstrmojo.TextBox.prototype.markupMethods;mstrmojo.ValidationTextBox=mstrmojo.declare(mstrmojo.TextBox,[mstrmojo._CanValidate],{scriptClass:"mstrmojo.ValidationTextBox",validationDelay:500,markupMethods:{onvisibleChange:E.onvisibleChange,onvalueChange:E.onvalueChange,onenabledChange:E.onenabledChange,onreadOnlyChange:E.onreadOnlyChange,ontooltipChange:E.ontooltipChange,onvalidationStatusChange:function(){var M=this.validationStatus;if(!M){return ;}var L=this.inputNode,J=(M.code>G.VALID),K=this.constraints.invalidCssClass;A.toggleClass(L,K?K:["mstrmojo-TextBox-ErrValidation"],J);if(J){L.setAttribute("title",M.msg);}else{if(this._original_tooltip!==undefined&&this._original_tooltip!==null){L.setAttribute("title",this._original_tooltip);}}}},postBuildRendering:function I(){if(this._super){this._super();}this._original_tooltip=this.inputNode.title;},prekeyup:function B(J){if(this._super){this._super(J);}var L=(this.constraints.trigger&H.ONKEYUP)>0;if(L){if(this.validationDelay>0){if(this._valDelayTimer){window.clearTimeout(this._valDelayTimer);}if(!this._validateHandler){var K=this;this._validateHandler=function(){K.validate();if(K._valDelayTimer){window.clearTimeout(K._valDelayTimer);delete K._valDelayTimer;}};}this._valDelayTimer=window.setTimeout(this._validateHandler,this.validationDelay);}else{this.validate();}}},preinput:function(J){if(this._super){this._super(J);}var K=(this.constraints.trigger&H.ONKEYUP)>0;if(K){this.validate();}},preblur:function F(J){if(this._super){this._super(J);}var K=(this.constraints.trigger&H.ONBLUR)>0;if(K){this.validate();}},clearValidation:function C(){if(this._super){this._super();}var K=this.inputNode,J=this.constraints.invalidCssClass;A.removeClass(K,J?J:["mstrmojo-TextBox-ErrValidation"]);K.title=this._original_tooltip;}});})();(function(){mstrmojo.requiresCls("mstrmojo.TextBox");mstrmojo.TextArea=mstrmojo.declare(mstrmojo.TextBox,null,{scriptClass:"mstrmojo.TextArea",markupString:'<textarea id="{@id}" class="mstrmojo-TextArea {@cssClass}"  style="{@cssText}" title="{@tooltip}" placeholder="{@placeholderText}" rows="{@rows}" cols="{@cols}" maxlength="{@maxLength}" index="{@tabIndex}" mstrAttach:focus,keydown,keyup,blur ></textarea>',maxLength:256,markupSlots:{inputNode:function(){return this.domNode;}},postCreate:function(){this.markupMethods=mstrmojo.hash.copy(this.markupMethods);this.markupMethods.oncssClassChange=function(){this.domNode.className="mstrmojo-TextArea "+(this.cssClass||"");};},onkeydown:function(D){var C=(this.value&&this.value.length)||0;if(this.maxLength<=C){this.isDeleteKeys=D.e.keyCode===8||D.e.keyCode===46;this.isArrowKeys=D.e.keyCode===37||D.e.keyCode===38||D.e.keyCode===39||D.e.keyCode===40;var B=(this.domNode.selectionEnd!==undefined)?(this.domNode.selectionEnd-this.domNode.selectionStart)>0:document.selection.createRange().text.length>0;if(!this.isDeleteKeys&&!this.isArrowKeys&&!B){if(mstrmojo.dom.isIE7||mstrmojo.dom.isIE8){var A=this.domNode;A.blur();window.setTimeout(function(){A.focus();},1);}mstrmojo.dom.preventDefault(window,D.e);return false;}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.Button","mstrmojo.DropDownButton","mstrmojo.Label");mstrmojo.IncFetch=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.IncFetch",markupString:'<div id="{@id}" class="mstrmojo-IncFetch {@cssClass}" style="{@cssText}"><div></div><div class="mstrmojo-clearMe"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild;}},preBuildRendering:function A(){var J=[],F=this.ds,M=this.cp,P=this.np,C=this.ps,E=this.id,G=2;var L=function(){mstrmojo.all[E].set("cp",this.text);};var H={f:1,p:Math.max(M-1,1),n:Math.min(M+1,P),l:P};for(var O in H){J.push(new mstrmojo.Button({iconClass:"arrow "+O,title:F[O],enabled:(H[O]!==M),text:H[O],onclick:L}));}var D=Math.max(Math.min(M-2,P-4),1),I=Math.min(D+4,P);for(var K=D;K<=I;K++){var N;if(K===M){if(I-D===4&&P!==5){N=new mstrmojo.DropDownButton({height:"13px",title:F.a?F.a:"",text:K,direction:"up",popupRef:{scriptClass:"mstrmojo.Popup",slot:"popupNode",contentNodeCssClass:"goto",autoCloses:false,locksHover:true,children:[{scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.Label",cssText:"float:left;",text:F.gt},{scriptClass:"mstrmojo.TextBox",cssText:"float:left;",size:3,maxLength:String(P).length,onEnter:function(){var R=this.inputNode.value,T=this.parent.parent;if(R===""){T.close();return ;}var Q=parseInt(R,10),S=!(isNaN(Q)||Q<1||Q>P);if(S){mstrmojo.all[E].set("cp",Q);T.close();}else{this.setInvalidState(F.v.replace("###",P).replace("##",1).replace(" #",""));}}},{scriptClass:"mstrmojo.Button",cssText:"float:left",iconClass:"apply",title:F.ap?F.ap:"",onclick:function(){this.parent.children[1].onEnter();}}]}],onOpen:function(){mstrmojo.css.addClass(this.parent.domNode,["open"]);var Q=this.children[0].children[1].inputNode;window.setTimeout(function(){Q.focus();},0);},onClose:function(){mstrmojo.css.removeClass(this.parent.domNode,["open"]);this.children[0].children[1].cleanUp();}}});}else{N=new mstrmojo.Button({iconClass:"pg on",text:K});}}else{N=new mstrmojo.Button({iconClass:"pg",text:K,onclick:L});}J.splice(G++,0,N);}J.splice(G++,0,new mstrmojo.Label({text:F.pgs.replace("###",P).replace("##",""),cssText:"float:left;margin:1px 1px 1px 3px;"}));this._iWait=new mstrmojo.WaitIcon({cssText:"margin-top:-2px;"});J.push(this._iWait);this.addChildren(J);return this._super?this._super():true;},_set_cp:function B(D,C){if(parseInt(C,10)!==this.cp){this.raiseEvent({name:"fetch",v:C,iWait:this._iWait});}}});})();(function(){mstrmojo.requiresCls("mstrmojo.WidgetListBase","mstrmojo.WidgetListMapper","mstrmojo.WidgetListBuilder");mstrmojo.WidgetList=mstrmojo.declare(mstrmojo.WidgetListBase,null,{scriptClass:"mstrmojo.WidgetList",renderOnScroll:true,listMapper:mstrmojo.WidgetListMapper,listBuilder:mstrmojo.WidgetListBuilder,itemConfig:null,itemFunction:null,initBindings:function(){this._super();var E=this.ctxtBuilder,D=E&&E.itemWidgets;if(D){for(var C=0,A=D.length;C<A;C++){var B=D[C];if(B&&B.initBindings){B.initBindings();}}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListHoriz","mstrmojo.fx");mstrmojo.FishEye=mstrmojo.declare(mstrmojo.ListHoriz,null,{scriptClass:"mstrmojo.FishEye",alias:"fishEyeList",width:16,size:10,step:16,speed:2,cssClass:"mstrmojo-FishEye",cssClassItem:"mstrmojo-dot",itemMarkupFunction:function(B,A,C){return'<div class="mstrmojo-fisheye-item '+C.cssClassItem+'" title="'+B.n+'" idx="'+A+'" did="'+B.did+'">&nbsp;</div>';},onchange:function(){this.scroll2();this.parent.set("selectedIndex",this.selectedIndex);},as:new mstrmojo.fx.AnimateProp(),onitemsChange:function(){if(this._super){this._super();}this.last=this.items.length-1;this.first=Math.max(0,this.last-this.size);if(this.items.length>this.size){this.scroll("left",this.width);}},scroll2:function(){var A=this.selectedIndex-this.last;if(this.selectedIndex==this.first&&this.first>0){this.scroll("right",this.width);}else{if(this.selectedIndex==this.last&&this.last<this.items.length-1){this.scroll("left",this.width);}else{if(this.selectedIndex>this.last){A=this.selectedIndex-this.last;this.scroll("left",this.width*A,A);this.last=Math.min(this.items.length-1,this.last+A);}else{if(this.selectedIndex<this.first){A=this.first-this.selectedIndex;this.scroll("right",this.width*A,A);this.first=Math.max(0,this.first-A);}}}}},scroll:function(C,F,E){var B=this.itemsContainerNode,I=B&&B.style;var D=this.as,H=parseInt(mstrmojo.css.getStyleValue(B,{left:"right",right:"left"}[C]),10),H=isNaN(H)?0:H,A=parseInt(I.left,10)||0,G=A+(C=="left"?-1:1)*(F||(Math.min(this.step,(-1)*H)));D.target=B;D.props={left:{start:A,stop:G,duration:100,interval:10,suffix:"px"}};D.play();E=E===undefined?1:E;this.first+=(C=="left"?1:-1)*E;this.last=this.first+this.size-1;this.parent.set("scrollable",this.last<this.items.length-1);this.parent.set("rightScrollable",this.first>0);return G;},srcId:null,postBuildRendering:function(){if(this._super){this._super();}this.hasRendered=!!this.domNode;var E=this.itemsContainerNode,A=E&&E.firstChild,B=A&&A.rows&&A.rows[0],D=B&&B.cells&&B.cells[0];this.first=0;this.last=this.size-1;var C=this.srcId;if(C&&mstrmojo.all[C]&&mstrmojo.all[C].attachEventListener){mstrmojo.all[C].attachEventListener("change",this.id,function(F){if(this.items[this.items.length-1]!=F.src.selectedItem){this.items.add([mstrmojo.hash.copy(F.src.selectedItem)]);this.set("selectedIndex",this.items.length-1);}if(this.items.length>this.size){this.set("rightScrollable",this.items.length>this.size);this.scroll("left",this.width*(this.selectedIndex-this.last),(this.selectedIndex-this.last));}});}this.itemsContainerNode.style.left=Math.min(0,(this.size-this.items.length+1))*this.width+"px";}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListSelector","mstrmojo.List","mstrmojo.string");mstrmojo.OBList=mstrmojo.declare(mstrmojo.List,null,{scriptClass:"mstrmojo.OBList",cssClass:"mstrmojo-OBList",itemClass:"mstrmojo-OBListItem",iconClass:"mstrmojo-OBListItemIcon",textClass:"mstrmojo-OBListItemText",iconCssPrefx:"mstrmojo-OBIcon_",itemMarkupFunction:function(C,A,B){return'<div class="'+B.itemClass+'"><table cellspacing="0" cellpadding="0"><tbody><tr><td>'+B.getIcon(C)+'</td><td><div class="'+B.textClass+'" title="'+B.getTooltip(C)+'">'+mstrmojo.string.htmlAngles(C.n)+"</div></td></tr></tbody></table></div>";},getIcon:function(E){var D=E[this.itemType],C=E[this.itemSubType],A=" t"+D,B=(D==1||D==3)?" st"+C:"",F=E[this.itemISC]?'class="mstrmojo-ListIcon isc"':"";return'<span class="mstrmojo-ListIcon '+A+B+'"><span '+F+"></span></span>";},getTooltip:function(C){var D="",F=C.anc&&C.anc.items,A=F&&F.length;if(A>0){for(var B=0;B<A-1;B++){D+=F[B].n+" > ";}D+=F[A-1].n;}var E=C.desc,G=128;if(E){D+="\r\n\r\n"+E.substring(0,G)+(E.length>G?"...":"");}return D;},listSelector:mstrmojo.ListSelector,selectionPolicy:"reselect",itemType:"t",itemSubType:"st",itemISC:"isc"});})();(function(){mstrmojo.requiresCls("mstrmojo.Arr","mstrmojo.Button","mstrmojo.HBox","mstrmojo.FishEye");var A=function(B){return mstrmojo.hash.copy(B,{scriptClass:"mstrmojo.Button",text:"",enabled:false,dir:"left",cssClass:"mstrmojo-icon left",onclick:function(){var D=this.parent.fishEyeList,C=D&&D.scroll(this.dir,D.step);}});};mstrmojo.FishEyeContainer=mstrmojo.declare(mstrmojo.HBox,null,{scriptClass:"mstrmojo.FishEyeContainer",cssClass:"mstrmojo-FishEyeContainer",selectedIndex:-1,setItems:function(B){this.fishEyeList.set("items",B);},setSelectedIndex:function(B){this.fishEyeList.set("selectedIndex",B);},scrollable:false,rightScrollbale:false,children:[A({bindings:{enabled:"!!this.parent.scrollable"}}),new mstrmojo.FishEye({items:mstrmojo.Arr.makeObservable([]),srcId:"obList"}),A({alias:"feScrollRight",cssClass:"mstrmojo-icon right",dir:"right",bindings:{enabled:"!!this.parent.rightScrollable"}})]});mstrmojo.css=mstrmojo.hash.copy({getStyleValue:function(D,E){var B=null;if(D.currentStyle){E=(E=="float"?"styleFloat":E);B=D.currentStyle[E];}if(document.defaultView&&document.defaultView.getComputedStyle){E=(E=="float"?"cssFloat":E);var C=document.defaultView.getComputedStyle(D,null);B=C?C[E]:null;}return B;},setStyleValue:function(D,F,E){var B=function(G){return !!(G&&(typeof (G)=="object")&&(typeof (G.length)=="number"));};if(B(F)&&B(E)){for(var C in F){D.style[F[C]]=E[C];}}else{D.style[F]=E;}}},mstrmojo.css);})();(function(){mstrmojo.requiresCls("mstrmojo.WidgetList","mstrmojo.dom","mstrmojo.TreeNodeSelector");var A=mstrmojo.dom,B={0:"closed",1:"opened",2:"leaf"};mstrmojo.TreeNode=mstrmojo.declare(mstrmojo.WidgetList,null,{scriptClass:"mstrmojo.TreeNode",markupString:'<li id="{@id}" class="mstrmojo-TreeNode {@cssClass}" style="{@cssText}" mstrAttach:mousedown><div class="mstrmojo-TreeNode-div"><img class="mstrmojo-TreeNode-state" src="../images/1ptrans.gif" /><span class="mstrmojo-TreeNode-text {@textCssClass}"></span></div><ul class="mstrmojo-TreeNode-itemsContainer">{@itemsHtml}</ul></li>',markupSlots:{stateNode:function(){return this.domNode.firstChild.firstChild;},textNode:function(){return this.domNode.firstChild.lastChild;},itemsContainerNode:function(){return this.domNode.lastChild;}},markupMethods:{ontextChange:function(){this.textNode.innerHTML=mstrmojo.string.encodeHtmlString(this.text);},onstateChange:function(){this.stateNode.className="mstrmojo-TreeNode-state "+(B[this.state]||"closed");this.itemsContainerNode.style.display=(this.state===1)?"block":"none";},onselectedChange:function(){var D=this.selected?"addClass":"removeClass";mstrmojo.css[D](this.domNode.firstChild,["selected"]);},ondropCuePosChange:mstrmojo.WidgetList.prototype.markupMethods.ondropCuePosChange},renderOnScroll:false,listSelector:mstrmojo.TreeNodeSelector,premousedown:function C(D){var E=this._super(D),F=A.eventTarget(D.hWin,D.e);if(F==this.stateNode){if(this.state!==2){this.set("state",this.state===1?0:1);}}return E;},preclick:function(D){mstrmojo.dom.stopPropogation(D.hWin,D.e);},prechange:function(D){var E=this._super(D);if(E!==false){var F=this.tree;if(F&&F.onnodechange){F.onnodechange(D);}}return E;}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListBox");mstrmojo.MultiColumnListBox=mstrmojo.declare(mstrmojo.ListBox,null,{scriptClass:"mstrmojo.MultiColumnListBox",cssClass:"",tableCssClass:"mstrmojo-MultiColumnListBox-table",cellCssClass:"",cssText:"",width:"200px",height:"200px",autoColWidth:true,minColWidth:10,tableWidth:"100%",colCount:0,colGroups:null,colWidths:null,sortIndex:null,sortDirection:true,titleIcon:"",titleText:"",titleCssText:"",showEmptyTitlebar:false,banding:true,hideEmptyIconNode:true,cp:null,columns:null,items:null,sortable:true,resizable:true,_markupPrefix:function(){var C=this.itemRenderer;return(C&&C.markupPrefix)||('<table class="'+this.tableCssClass+'" style="'+this.tableCssText+'" cellspacing="0" cellpadding="0"><tbody>');},_markupSuffix:function(){var C=this.itemRenderer;return(C&&C.markupSuffix)||"</tbody></table>";},_itemGroupPrefix:function(C){var E=this.itemRenderer,D=this.rowCssText?'style="'+this.rowCssText+'"':"",F=this.rowCssClass+(C%2===1?" even":"");F=F?'class="'+F+'"':"";return(E&&E.itemGroupPrefix)||("<tr "+F+""+D+">");},_itemGroupSuffix:function(){var C=this.itemRenderer;return(C&&C.itemGroupSuffix)||"</tr>";},_itemPrefix:function(){var D=this.itemRenderer,E=this.cellCssClass?'class="'+this.cellCssClass+'"':"",C=this.cellCssText?'style="'+this.cellCssText+'"':"";return(D&&D.itemPrefix)||("<td "+E+" "+C+">");},_itemSuffix:function(){var C=this.itemRenderer;return(C&&C.itemSuffix)||"</td>";},_getItemNode:function(C){var E=this.itemsNode,D=E&&E.rows,F=D&&D[C/D.length-1];return F&&F.cells[C%D.length-1].firstChild;},itemRenderer:{icon:function(D,C,E){if(E.hideEmptyIconNode){D.icon=D.icon||"none";}return'<div><div class="mstrmojo-MultiColumnListBox-icon '+D.icon+'" title="'+D.v+'"/></div>';},text:function(D,C,E){return'<div class="mstrmojo-MultiColumnListBox-text" edt="1">'+D.v+"</div>";},icon_text:function(D,C,E){if(E.hideEmptyIconNode){D.icon=D.icon||"none";}return'<div class="mstrmojo-MultiColumnListBox-iconText"><span class="mstrmojo-MultiColumnListBox-icon '+D.icon+'" title="'+mstrmojo.string.encodeHtmlString(D.v)+'" ></span><span edt="1">'+mstrmojo.string.encodeHtmlString(D.v)+"</span></div>";},checkbox:function(D,C,E){return'<div><input class="mstrmojo-MultiColumnListBox-checkbox" type="checkbox"  '+D.v+"/></div>";},link:function(D,C,E){return'<div class="mstrmojo-MultiColumnListBox-link"><a target="'+D.target+'" href="'+D.url+'" class="mstrmojo-MultiColumnListBox-link"><span>'+D.v+"</span></a></div>";},rowHeight:20},markupString:'<div id="{@id}" class="mstrmojo-MultiColumnListBox {@cssClass}" style="{@cssText}; xxwidth:{@width}; left:{@left}; top:{@top};"><div class="mstrmojo-MultiColumnListBox-titlebar" style="width:{@width}; {@titleCssText};"><span class="mstrmojo-MultiColumnListBox-icon {@titleIcon}"></span><span class="mstrmojo-MultiColumnListBox-title">{@titleText}</span></div><div id="{@id}-MultiColumnListBox-container" class="mstrmojo-MultiColumnListBox-container" style="width:{@width};"><div id="{@id}-headersScrollBox" class="mstrmojo-MultiColumnListBox-headersScrollBox" style="xxwidth:{@width};"><div id="{@id}-headersContainer" class="mstrmojo-MultiColumnListBox-headersContainer" style="xxwidth:{@width};" onclick="mstrmojo.all[\'{@id}\'].captureDomEvent(\'sort\', self, arguments[0]);" onmousedown="mstrmojo.all[\'{@id}\'].captureDomEvent(\'mousedown\', self, arguments[0]);" >{@headersHtml}</div></div><div id="{@id}-itemsScrollBox" class="mstrmojo-MultiColumnListBox-itemsScrollBox" style="max-height:{@height}; xxwidth:{@width};" ><div id="{@id}-itemsContainer" class="mstrmojo-MultiColumnListBox-itemsContainer" style="xxwidth:{@width};" onclick="mstrmojo.all[\'{@id}\'].captureDomEvent(\'edit\', self, arguments[0]);" >{@itemsHtml}</div></div></div></div>',markupSlots:{headersContainerNode:function(){return this.domNode.lastChild.firstChild.firstChild;},itemsContainerNode:function(){return this.domNode.lastChild.lastChild.firstChild;},scrollboxNode:function(){return this.domNode.lastChild.lastChild;}},_headersHtml:null,_buildItemsMarkup:function(C,G,M,D,N,F,J){var O=[],L=0,K=this._itemGroupSuffix&&this._itemGroupSuffix();O[L++]=M;for(var I=C;I<=G;I++){O[L++]=this._itemGroupPrefix&&this._itemGroupPrefix(I)||"<tr "+((I%2===1)?'class="even"':"")+">";for(var H=0,E=this.colCount;H<E;H++){O[L++]=N||"<td>";O[L++]=this.columns[H].render((J&&J[H])||this.items[I][H],I*H,this);O[L++]=F||"</td>";}O[L++]=K||"</tr>";}O[L++]=D;return O;},_buildColWidths:function(){this.colWidths=this.colWidths||[];var D=this.colWidths;if(D.length===0){for(var F=this.colCount-1;F>-1;F--){D[F]=this.headersNode.rows[0].cells[F].offsetWidth;}}var C=0;for(var E=D.length-1;E>-1;E--){C+=D[E];}this.itemsNode.style.width=this.headersNode.style.width=C+"px";},_buildColGroup:function A(){this._buildColWidths();var K=this.resizingIndex,D=this.colWidths,I=this.colGroups;if(I&&I.length==2&&I[0].childNodes.length==this.colCount){if(K!==null&&K>=0){I[0].childNodes[K].style.width=D[K]+"px";I[1].childNodes[K].style.width=D[K]+"px";}}else{var C=document.createElement("colgroup");for(var G=0,E=this.colCount;G<E;G++){var F=document.createElement("col");F.style.width=D[G]+"px";C.appendChild(F);}var J=function(L,M){L[(L.firstChild.tagName.toLowerCase()!="colgroup")?"insertBefore":"replaceChild"](M,L.firstChild);};J(this.headersNode,C);var H=C.cloneNode(true);J(this.itemsNode,H);this.colGroups=[C,H];this._webKit_repaint();}},_webKit_repaint:function(){if(mstrmojo.dom.isWK){var D=[this.headersNode,this.itemsNode];var C=function(E){for(var F in D){if(D[F]){D[F].style.tableLayout=E||"fixed";}}};C("auto");self.setTimeout(C,1);}},init:function(C){this._super(C);this.scrollboxHeight=parseInt(this.height,10)||200;this.cp=this.cp||new mstrmojo.MCListBoxCP();},preBuildRendering:function B(){if(this._super){this._super();}var C=this.cp;if(C.items===null&&C.columns===null&&C.ds&&C.ds.length>0){C.fetch();}else{C.dataLoaded=true;}if(this.resizable){this.cssClass+=" resizable ";}},buildRendering:function(){var F=this,I=this.cp;if(I&&I.dataLoaded&&(I.columns||I.items)){this.columns=I.columns;this.items=I.items;this.colCount=I.columns.length;this.titleIcon=I.titlebar.icon;this.titleText=I.titlebar.v;this.itemRenderer=I.itemRenderer||this.itemRenderer;if(!this.titleIcon&&!this.titleText&&!this.showEmptyTitlebar){this.titleCssText="display:none";}var C=this.columns,G=this.itemRenderer;for(var E=this.colCount-1;E>=0;E--){C[E].render=G[C[E].type];}var D=this.colWidths;if(!this.autoColWidth&&(!D||D.length===0)){D=[];for(E=this.colCount-1;E>-1;E--){D[E]=parseInt(C[E].width,10)||this.minColWidth;}this.colWidths=D;}this.headersHtml=this.headersHtml||this._buildItemsMarkup(0,0,this._markupPrefix&&this._markupPrefix(),this._markupSuffix&&this._markupSuffix(),this._itemPrefix&&this._itemPrefix(),this._itemSuffix&&this._itemSuffix(),C).join("");this._super();if(!this.headerNode){this.addSlots({headersNode:this.headersContainerNode.firstChild});}var H=this.itemsContainerNode;if(H.firstChild.offsetHeight>H.parentNode.clientHeight){H.style.width=(H.offsetWidth-17)+"px";this.headersContainerNode.style.width=H.style.width;}this._buildColGroup();mstrmojo.dom.attachEvent(this.scrollboxNode,"scroll",function(J){F.headersContainerNode.scrollLeft=mstrmojo.dom.eventTarget(window,J).scrollLeft;});this.hasRendered=!!this.domNode;}else{window.setTimeout(function(){F.buildRendering();},100);}return true;},onsort:function(E){if(!this.sortable){return false;}var D=E.hWin,F=E.e;var G=mstrmojo.dom.eventTarget(D,F);if(G){var C=mstrmojo.dom.findAncestorByName(G,"td",false,this.domNode);if(C){this.sortIndex=C.cellIndex;if(this.columns[C.cellIndex].sortable){this.sortDirection=!this.sortDirection;this.items=mstrmojo.array.deepSortArr(this.items,"v",this.sortIndex,this.sortDirection);this.refresh();}}}},refresh:function(){this.editor=null;this.resizeHandle=null;var C=this.headersContainerNode.scrollLeft;this._super();for(var D in [0,1]){var E=[this.headersNode,this.itemsNode][D];if(E&&E.firstChild.tagName.toLowerCase()!="colgroup"){E.insertBefore(this.colGroups[D],E.firstChild);}}if(this.headersContainerNode&&this.scrollboxNode){this.headersContainerNode.scrollLeft=C;this.scrollboxNode.scrollLeft=C;}this._webKit_repaint();},reRender:function(){this.cp.columns=null;this.cp.items=null;this.cp.dataLoaded=false;this.colWidths=null;this.colGroups=null;this.headersHtml=null;this.refresh();},onedit:function(E){var D=E.hWin,F=E.e;var H=mstrmojo.dom.eventTarget(D,F);var C=mstrmojo.dom.findAncestorByName(H,"td",true);if(C&&H&&this.columns[C.cellIndex].editable){this.rowIndex=C.parentNode.rowIndex;this.cellIndex=C.cellIndex;switch(H.tagName.toLowerCase()){case"div":case"span":if(H.getAttribute("edt")){var G=this.editor||new mstrmojo.InlineEditor();if(!G.editor){G.render();G.attachEventListener("targetChange",this.id,function(I,J){this.items[this.rowIndex][this.cellIndex].v=this.editor.editor.value;});this.editor=G;this.itemsContainerNode.appendChild(G.editor);}G.setTarget(H);G.show({value:H.innerText||H.textContent,style:{top:C.offsetTop+"px",left:C.offsetLeft+"px",width:(C.clientWidth-5)+"px"}});}break;case"input":this.items[this.rowIndex][this.cellIndex].v=H.checked?"checked":"";}}},onmousedown:function(K){if(!this.resizable){return false;}var E=K.hWin,G=K.e;var C=mstrmojo.dom.eventTarget(E,G);if(C&&C.tagName.toLowerCase()=="td"){if(this.columns[C.cellIndex].resizable!==false){var I=C.offsetLeft+C.offsetWidth-this.itemsContainerNode.parentNode.scrollLeft;this.resizingIndex=C.cellIndex;this.startx=mstrmojo.dom.getMousePosition(G).x;var L=function(M){var N=document.createElement("div");N.className="mstrmojo-MultiColumnListBox-rzHandle";N.style.left=M+"px";return N;};var J=this.resizeHandle||L(I);if(!this.resizeHandle||!mstrmojo.dom.contains(this.domNode,J)){this.resizeHandle=J;this.scrollboxNode.parentNode.appendChild(J);}else{J.style.left=I+"px";}J.style.display="block";var H=this;var F=function(M){J.style.left=Math.max(0,I+mstrmojo.dom.getMousePosition(M).x-H.startx)+"px";};var D=function(O){if(J){J.style.display="none";mstrmojo.dom.detachEvent(document,"mousemove",F);mstrmojo.dom.detachEvent(document,"mouseup",D);}var M=H.resizingIndex;if(M>=0){H.colWidths[M]=Math.max(H.minColWidth,H.colWidths[M]+mstrmojo.dom.getMousePosition(O).x-H.startx);H._buildColGroup();H.resizingIndex=null;if(mstrmojo.dom.isIE){var N=H.itemsContainerNode.clientHeight,P=H.scrollboxNode;P.style.height=N+"px";if(P.scrollWidth>P.clientWidth){P.style.height=N+17+"px";}}}};mstrmojo.dom.attachEvent(document,"mousemove",F);mstrmojo.dom.attachEvent(document,"mouseup",D);}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Widget");mstrmojo.MCListBoxCP=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.MCListBoxCP",ds:null,titlebar:{icon:"",text:""},itemRenderer:null,columns:null,items:null,fetch:function A(){this.dataLoaded=false;var B=this,C=new mstrmojo.SimpleXHR(),D={success:function(E){for(var F in E){B[F]=E[F];}B.dataLoaded=true;},failure:function(){alert("Data request failed!");}};C.request("POST",this.ds,D,{});}});})();(function(){mstrmojo.requiresCls("mstrmojo.Widget");mstrmojo.InlineEditor=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.InlineEditor",target:null,visible:false,markupString:"<input id={@id} class=\"mstrmojo-InlineEditor {@cssClass}\"onblur=\"mstrmojo.all['{@id}'].captureDomEvent('blur', self, arguments[0]);\" onkeyup=\"mstrmojo.all['{@id}'].captureDomEvent('keyup', self, arguments[0]);\"/>",markupSlots:{editor:function(){return this.domNode;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},onvisibleChange:function(A){if(mstrmojo.dom.isFF){var B=this;this.md=this.md||function C(D){if(B.target){var E=mstrmojo.dom.eventTarget(self,D);if(!/InlineEditor/.test(E.className)){B.onblur();}}};if(this.visible){mstrmojo.dom.attachEvent(document,"mousedown",this.md);}else{mstrmojo.dom.detachEvent(document,"mousedown",this.md);}}},setTarget:function(A){this.target=A;},show:function(B){var F=this.target,A=this.editor;if(!B){B={value:F.innerText||F.textContent,style:{top:F.offsetTop+"px",left:F.offsetLeft+"px",width:F.offsetWidth+"px"}};}for(var E in B){var D=B[E];if(D instanceof Object){for(var C in D){A[E][C]=D[C];}}else{A[E]=D;}}this.set("visible",true);A.focus();},onblur:function(){var A=this.target;if(A){A[A.innerText?"innerText":"textContent"]=this.editor.value;this.set("visible",false);this.set("target",null);}},onkeyup:function(B){var A=B.hWin,C=B.e;C=C||window.event;if((C.keyCode||C.charCode)==13){this.editor.onblur(C);}}});})();(function(){mstrmojo.requiresCls("mstrmojo.dom");var A="rszc";mstrmojo.resizableCorner={_MIN_WIDTH:10,_MIN_HEIGHT:10,_target:[],add:function(C){var B=mstrmojo.resizableCorner._target;if(C&&mstrmojo.array.indexOf(B,C)===-1){var D=document.createElement("div");D.className="rsz-corner";D.id=A+mstrmojo.resizableCorner._target.length;D.setAttribute(A,1);mstrmojo.dom.attachEvent(D,"mousedown",this.onstart);C.appendChild(D);C.setAttribute(A,1);B.push(C);}},remove:function(C){var B=mstrmojo.resizableCorner._target;var D=C.lastChild;if(!D.hasAttribute(A)){D=document.getElementById(A+mstrmojo.array.indexOf(B,C));}C.removeChild(D);mstrmojo.array.removeItem(B,C);},onstart:function(F){var C=mstrmojo.dom.eventTarget(window,F);if(C&&C.tagName.toLowerCase()=="div"&&C.hasAttribute(A)&&C.getAttribute(A)=="1"){C.ownerDocument.onselectstart=function(){return false;};var D=mstrmojo.resizableCorner._target[parseInt(C.id.replace(new RegExp(A),""),10)],H=D&&D.ownerDocument;if(D.hasAttribute(A)&&D.getAttribute(A)=="1"){var E=D.clientWidth,G=D.clientHeight,I=mstrmojo.dom.getMousePosition(F);var B=function(L){var K=mstrmojo.dom.getMousePosition(L);D.style.width=Math.max(10,E+K.x-I.x)+"px";D.style.height=Math.max(10,G+K.y-I.y)+"px";};var J=function(K){mstrmojo.dom.detachEvent(H,"mousemove",B);mstrmojo.dom.detachEvent(H,"mouseup",J);};mstrmojo.dom.attachEvent(H,"mousemove",B);mstrmojo.dom.attachEvent(H,"mouseup",J);}}}};})();(function(){mstrmojo.requiresCls("mstrmojo.mobileConfigUtil","mstrmojo.MultiColumnListBox","mstrmojo.InlineEditor","mstrmojo.form","mstrmojo.MCListBoxCP");var G=mstrmojo.mobileConfigUtil,L=mstrmojo.dom,J=mstrmojo.hash,E=mstrmojo.string,K=mstrmojo.validation.TRIGGER,D=mstrmojo.expr.DTP;var H=[{n:mstrmojo.desc(7778),v:G.AUTHEN_ANONY},{n:mstrmojo.desc(7227),v:G.AUTHEN_BASIC},{n:mstrmojo.desc(7779),v:G.AUTHEN_WIN}],B=[{n:mstrmojo.desc(7785),v:G.REQ_HTTP},{n:mstrmojo.desc(7786),v:G.REQ_HTTPS}],C=[{n:mstrmojo.desc(7725),v:G.DEVICE_IPHONE},{n:mstrmojo.desc(7726),v:G.DEVICE_IPAD},{n:mstrmojo.desc(8433),v:G.DEVICE_PHONE_UNIVERSAL},{n:mstrmojo.desc(8434),v:G.DEVICE_TABLET_UNIVERSAL},{n:mstrmojo.desc(7866),v:G.DEVICE_BLACKBERRY}];var A=new mstrmojo.MultiColumnListBox({slot:"0,0",id:"confListTable",n:"Configuration List",renderAllItems:true,model:[],getActBtn:function I(O,N,M){return'<a class = mstrLink><span class="actionIcons '+M+'" title="'+O+'" onclick="'+N+'"></span></a>';},genActions:function F(){return this.getActBtn(mstrmojo.desc(767),"mstrmojo.all['"+this.id+"'].modifyItem(event)","actionIcons-modify")+this.getActBtn(mstrmojo.desc(3558),"mstrmojo.all['"+this.id+"'].duplicateItem(event)","actionIcons-duplicate")+this.getActBtn(mstrmojo.desc(7826),"mstrmojo.all['"+this.id+"'].urlGen(event)","actionIcons-url")+this.getActBtn(mstrmojo.desc(3559),"mstrmojo.all['"+this.id+"'].deleteItem(event)","actionIcons-delete");},getDeviceName:function(M){switch(M){case G.DEVICE_IPHONE:return mstrmojo.desc(7725);case G.DEVICE_IPAD:return mstrmojo.desc(7726);case G.DEVICE_PHONE_UNIVERSAL:return mstrmojo.desc(8433);case G.DEVICE_TABLET_UNIVERSAL:return mstrmojo.desc(8434);case G.DEVICE_BLACKBERRY:return mstrmojo.desc(7866);}},_set_model:function(P,N){this.model=N;var M=[];if(N){for(var O=0;O<this.model.length;O++){M.push([{v:this.model[O].n,icon:(this.model[O].uptc!=-1)?"actionIcons-update":""},{v:this.getDeviceName(this.model[O].dt)},{v:this.genActions()}]);}this.columns[0].editable=true;}else{M=[[{v:"<"+mstrmojo.desc(7835,"No Configuration")+">"},{v:""},{v:""}]];this.columns[0].editable=false;}delete this.cp.items;this.cp.set("items",M);this.refresh();this.set("editor",this.getEditor());return true;},left:"20px",top:"150px",width:"100%",height:"100%",autoColWidth:false,sortable:false,resizable:false,getItemRow:function(N){var O=L.eventTarget(window,N);if(O){var M=L.findAncestorByName(O,"td",false,this.domNode);if(M){return M.parentNode.rowIndex;}}},getEditor:function(){return new mstrmojo.InlineEditor({cssClass:"mobile-InlineEditor",onblur:function(M){if(this.target&&this.editor.value&&E.trim(this.editor.value)&&(E.trim(this.editor.value)!=this.target[this.target.innerText?"innerText":"textContent"])){var O=this.target,S=O.parentNode.parentNode.parentNode.rowIndex,R=mstrmojo.all.confListTable.model[S];var N={};N=J.clone(R);N.n=this.editor.value;var Q=G.obj2Xml(N,"cnf",true,false);var P=this;mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(T){O[O.innerText?"innerText":"textContent"]=N.n;P.setTarget(null);P.set("visible",false);mstrmojo.all.confListTable.model[S].n=N.n;},failure:function(T){G.showErrorMsgBox(T.getResponseHeader("X-MSTR-TaskFailureMsg"));}},{taskId:"updateMobileConfigurationProperties",taskEnv:"xhr",configurationID:N.cid,configurationPropertiesXML:Q},null,null);}else{this.setTarget(null);this.set("visible",false);}}});},modifyItem:function(M){this.parent.toEdit(this.model[this.getItemRow(M)].dt,this.model[this.getItemRow(M)].cid);},urlGen:function(M){mstrmojo.all.confList.urlSetting.open(null,{rowIdx:this.getItemRow(M)});},applyDuplicate:function(Q,M,O){var P="";if(O===0){P=mstrmojo.desc(3651).replace(/##/,M);}else{P=mstrmojo.desc(3652).replace(/###/,O).replace(/##/,M);}var N=this;mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(R){mstrmojo.all.confIndex.refreshData();},failure:function(R){N.applyDuplicate(Q,M,++O);}},{taskId:"duplicateMobileConfiguration",taskEnv:"xhr",configurationID:Q,configurationName:P},null,null);},duplicateItem:function(N){var M=this.getItemRow(N);this.applyDuplicate(this.model[M].cid,this.model[M].n,0);},deleteItem:function(O){mstrmojo.all.confList.disableCurtain.set("visible",true);var N=this.getItemRow(O),Q=this.model[N].cid,P="<span>"+mstrmojo.desc(7856)+', </span><span style="font-weight:bold">'+E.htmlAngles(this.model[N].n)+"</span><span> ?</span>",M=mstrmojo.all.cnfrmDel;if(M){M.children.msg.set("text",P);}else{mstrmojo.insert({scriptClass:"mstrmojo.Dialog",id:"cnfrmDel",title:mstrmojo.desc(3610),btnAlignment:"right",width:"475px",cssText:"border:1px solid #AAAAAA;",buttons:[{scriptClass:"mstrmojo.HTMLButton",cssText:"margin-bottom:2px",text:mstrmojo.desc(1442),preBuildRendering:function(){this.cssClass="mobileconfig-Button";},postBuildRendering:function(){this.domNode.focus();},onclick:function(R){mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(S){},failure:function(S){G.showErrorMsgBox(S.getResponseHeader("X-MSTR-TaskFailureMsg"));}},{taskId:"deleteMobileConfiguration",taskEnv:"xhr",configurationID:Q},null,null);mstrmojo.all.confIndex.refreshData();mstrmojo.all.confList.disableCurtain.set("visible",false);mstrmojo.all.cnfrmDel.destroy();}},{scriptClass:"mstrmojo.HTMLButton",cssText:"margin-left:15px;margin-bottom:2px",text:mstrmojo.desc(221),preBuildRendering:function(){this.cssClass="mobileconfig-Button";},onclick:function(R){mstrmojo.all.confList.disableCurtain.set("visible",false);mstrmojo.all.cnfrmDel.destroy();}}],children:[{scriptClass:"mstrmojo.Label",alias:"msg",text:P}]}).render();}},cp:new mstrmojo.MCListBoxCP({columns:[{type:"icon_text",v:mstrmojo.desc(7765),sortable:false,editable:true,width:"400px"},{type:"text",v:mstrmojo.desc(2327),sortable:false,editable:false,width:"120px"},{type:"text",v:mstrmojo.desc(3265),sortable:false,editable:false,width:"150px"}],items:[[{v:""},{v:""},{v:""}]]})});mstrmojo.confList=mstrmojo.insert({id:"confListContainer",scriptClass:"mstrmojo.Container",markupString:"<div></div>",visible:true,markupSlots:{containerNode:function(){return this.domNode;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},children:[{scriptClass:"mstrmojo.Table",id:"confList",rows:5,cols:1,cssText:"margin:20px 20px 20px 20px",toEdit:function(M,N){if(!M){return ;}mstrmojo.form.send((N)?{evt:3004,target:"mobileConfig",configId:N,device:M}:{evt:3004,target:"mobileConfig",device:M});},children:[A,{slot:"1,0",scriptClass:"mstrmojo.Button",enabled:true,text:mstrmojo.desc(7766),cssText:"text-decoration:underline;margin-left:10px;margin-top:8px;color:#0000FF; font-weight: bold;width:150px",onclick:function(M){this.parent.dtEdtr.open();}},{slot:"2,0",scriptClass:"mstrmojo.Popup",alias:"dtEdtr",cssClass:"greyBorder",cssText:"z-index:20;margin-left:65px;background-color:#F5F5F2",onOpen:function(){mstrmojo.all.confList.disableCurtain.set("visible",true);},onClose:function(){mstrmojo.all.confList.disableCurtain.set("visible",false);},children:[{scriptClass:"mstrmojo.Table",cssText:"margin: 5px 5px 5px 5px",layout:[{cells:[{},{colSpan:2,cssText:"width:100px"}]},{cells:[{},{},{}]}],children:[G.propertyName(mstrmojo.desc(2327),"0,0","margin-right: 10px"),{slot:"0,1",alias:"dt",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssText:"width:100%",size:1,items:C,selectedItem:{v:G.DEVICE_IPHONE}},{slot:"1,1",scriptClass:"mstrmojo.Button",cssClass:"mobileconfig-Button",cssText:"margin-top:5px;margin-right:10px",text:mstrmojo.desc(1442),onclick:function(){var M=this.parent.dt.selectedItem.v;this.parent.parent.parent.toEdit(M);}},{slot:"1,2",scriptClass:"mstrmojo.Button",cssClass:"mobileconfig-Button",cssText:"margin-top:5px",text:mstrmojo.desc(221),onclick:function(){this.parent.parent.close();}}]}]},{slot:"3,0",scriptClass:"mstrmojo.Popup",cssClass:"greyBorder",cssText:"z-index:20",alias:"urlSetting",useShortURL:false,onOpen:function(){var N=this.children[0];N.hostnameVTB.validate();if(N.hostportVTB.enabled){N.hostportVTB.validate();}mstrmojo.all.confList.disableCurtain.set("visible",true);var M=this.domNode;document.body.appendChild(M);document.body.appendChild(mstrmojo.all.confList.disableCurtain.domNode);L.center(M);},onClose:function(){this.urlCurtain.set("visible",false);delete this.itmCpy;this.set("urlStr",undefined);delete this.urlStr;mstrmojo.all.confList.disableCurtain.set("visible",false);},updatePopupConfig:function(M){this.rowIdx=M.rowIdx;this.set("itmCpy",J.clone(mstrmojo.all.confListTable.model[mstrmojo.all.confList.urlSetting.rowIdx]));},buildURLParams:function(N){var M=[];for(var O in N){M.push(O+"="+N[O]);}return M.join("&");},updateURL:function(N){var b=window.location,Z=b.pathname.slice(0,String(b.pathname).lastIndexOf("/")),W=this.itmCpy,U=(W.lnk.rt===G.REQ_HTTPS)?"https":"http",a=(W.dt==G.DEVICE_PHONE_UNIVERSAL||W.dt==G.DEVICE_TABLET_UNIVERSAL),X=W.dt==G.DEVICE_BLACKBERRY,O=W.lnk.ipo?":"+W.lnk.po:"",Y=W.lnk.nm;var P={taskId:"getMobileConfiguration"};P.taskEnv=a?"xhr":"xml";P.taskContentType=a?"json":"xmlanf";P.configurationID=W.cid;if(X){P.taskEnv="blackberry_xml";}if(a){P.blockTransform="flatten";}if(a||X){P.blockVersion="1";}var T=U+"://"+Y+O+Z+"/"+mstrConfig.taskProcURL+"?"+this.buildURLParams(P);var M="";if(W.dt==G.DEVICE_BLACKBERRY){M=T;}else{T=encodeURIComponent(T);M="mstr://?url="+T+"&authMode="+W.lnk.am+((W.cs)?("&csUrl="+encodeURIComponent(W.cs)):"")+"&dt="+W.dt;V=this;tcs=W.tcs;for(var Q=0,S=tcs&&tcs.length;Q<S||0;Q++){M+="&trust="+encodeURIComponent(tcs[Q].url);}}var R=function(c){N.set("textIconClass",c?"mstrmojo-WaitIcon":"");N.set("enabled",!c);},V=this;if(this.useShortURL&&a){R(true);M="http://tinyurl.com/api-create.php?url="+encodeURIComponent(M);mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(c){V.set("urlStr",c);R(false);},failure:function(c){V.set("urlStr",c.getResponseHeader("X-MSTR-TaskFailureMsg"));R(false);}},{taskId:"shortURL",taskEnv:"xhr",srcUrl:M});}else{this.set("urlStr",M);}},children:[{scriptClass:"mstrmojo.Table",cssText:"width:400px;height:140px;background-color:#F5F5F2",layout:[{cssClass:"mstrmojo-Editor-titlebar",cells:[{cssClass:"mstrmojo-Editor-titleCell"},{cssClass:"mstrmojo-Editor-titleCell",colSpan:2}]},{cells:[{colSpan:3}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]}],children:[{slot:"0,0",scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-Editor-title",cssText:"font-weight: bold",text:mstrmojo.desc(7794)},{slot:"0,1",scriptClass:"mstrmojo.Button",title:mstrmojo.desc(2102),iconClass:"mstrmojo-Editor-close",cssText:" float: right",onclick:function(){this.parent.parent.close();}},G.propertyName(mstrmojo.desc(7949),"1,0","margin:15px 2px 2px 15px;"),{slot:"2,0",scriptClass:"mstrmojo.Label",cssText:"margin:5px 2px 2px 15px",text:mstrmojo.desc(36)+":"},{slot:"2,1",scriptClass:"mstrmojo.ValidationTextBox",cssText:"margin:5px 15px 2px 0px;width:200px",alias:"hostnameVTB",required:true,dtp:D.CHAR,constraints:{trigger:K.ALL,validator:function(M){return G.generalValidator(M,this.dtp,function(N){if(N=="localhost"||N=="127.0.0.1"){return false;}},mstrmojo.desc(7852));}},bindings:{value:"this.parent.parent.itmCpy.lnk.nm || window.location.hostname"},onValid:function(){if(this.parent.parent.itmCpy){this.parent.parent.itmCpy.lnk.nm=this.value;this.set("isValid",true);}},onInvalid:function(){this.set("isValid",false);}},{slot:"3,0",scriptClass:"mstrmojo.CheckBox",alias:"showPrt",cssText:"margin:5px 0px 2px 11px",label:mstrmojo.desc(7950)+":",bindings:{checked:"this.parent.parent.itmCpy.lnk.ipo"},oncheckedChange:function(){if(this.checked==null){return ;}if(this.checked){this.parent.hostportVTB.validate();}else{this.parent.hostportVTB.clearValidation();this.parent.hostportVTB.set("isValid",true);}this.parent.parent.itmCpy.lnk.ipo=this.checked;}},{slot:"3,1",scriptClass:"mstrmojo.ValidationTextBox",cssText:"margin:5px 15px 2px 0px;width:200px",alias:"hostportVTB",required:true,dtp:D.INTEGER,constraints:{trigger:K.ALL,validator:function(M){return G.generalValidator(M,this.dtp,G.validatePort,mstrmojo.desc(7839).replace(/###/,65535).replace(/##/,0));}},bindings:{enabled:"this.parent.showPrt.checked",value:function(){var M=this.parent.parent.itmCpy.lnk.po;return M==-1?(window.location.port||80):M;}},onValid:function(){if(this.parent.parent.itmCpy){this.parent.parent.itmCpy.lnk.po=this.value;}this.set("isValid",true);},onInvalid:function(){this.set("isValid",false);}},G.propertyName(mstrmojo.desc(7951)+":","4,0","margin:5px 2px 2px 15px"),{slot:"4,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssText:"margin:5px 15px 2px 0px;width:205px",itemIdField:"v",size:1,items:B,bindings:{selectedItem:"{v:this.parent.parent.itmCpy.lnk.rt}"},onchange:function(){if(this.parent.parent.itmCpy){this.parent.parent.itmCpy.lnk.rt=this.selectedItem.v;}}},G.propertyName(mstrmojo.desc(7952)+":","5,0","margin:5px 2px 2px 15px",{visible:"this.parent.parent.itmCpy.dt!=5"}),{slot:"5,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssText:"margin:5px 15px 2px 0px;width:205px",itemIdField:"v",size:1,items:H,bindings:{selectedItem:"{v:this.parent.parent.itmCpy.lnk.am}",visible:"this.parent.parent.itmCpy.dt!=5"},onchange:function(){if(this.parent.parent.itmCpy){this.parent.parent.itmCpy.lnk.am=this.selectedItem.v;}}},{slot:"6,0",scriptClass:"mstrmojo.CheckBox",cssText:"margin:5px 15px 2px 11px",label:mstrmojo.desc(9047),oncheckedChange:function(){this.parent.parent.useShortURL=this.checked;},bindings:{checked:"this.parent.parent.useShortURL",visible:"this.parent.parent.itmCpy.dt==3||this.parent.parent.itmCpy.dt==4"}},{slot:"7,0",scriptClass:"mstrmojo.Button",cssClass:"mobileconfig-Button",cssText:"margin-right: 50px",alias:"urlBtn",text:mstrmojo.desc(7826),bindings:{enabled:"this.parent.hostnameVTB.isValid&&this.parent.hostportVTB.isValid"},markupMethods:J.copy(mstrmojo.Button.prototype.markupMethods,{ontextIconClassChange:function(){this.textNode.className="mstrmojo-Button-text  "+this.textIconClass;}}),onclick:function(){this.parent.parent.updateURL(this);}},{slot:"7,1",scriptClass:"mstrmojo.Button",cssClass:"mobileconfig-Button",cssText:"margin-left: 15px;margin-right: 15px",text:mstrmojo.desc(118),bindings:{enabled:"this.parent.hostnameVTB.isValid&&this.parent.hostportVTB.isValid"},enableBtn:function(M){this.set("enabled",M);this.parent.cancelBtn.set("enabled",M);this.parent.urlBtn.set("enabled",M);},onclick:function(){this.parent.parent.urlCurtain.set("visible",true);this.enableBtn(false);var N=mstrmojo.all.confList.urlSetting.itmCpy;var R=window.location.pathname,Q=N.lnk.nm,M=N.lnk.ipo?":"+N.lnk.po:"",S=R.slice(0,String(R).lastIndexOf("/")+1);N.lnk.bu=Q+M+S+mstrConfig.taskProcURL;var P=G.obj2Xml(N,"cnf",false,false);var O=this;mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(T){mstrmojo.all.confListTable.model[mstrmojo.all.confList.urlSetting.rowIdx].lnk=N.lnk;mstrmojo.all.confList.urlSetting.close();O.enableBtn(true);},failure:function(T){G.showErrorMsgBox(T.getResponseHeader("X-MSTR-TaskFailureMsg"));O.enableBtn(true);}},{taskId:"updateMobileConfigurationProperties",taskEnv:"xhr",configurationID:N.cid,configurationPropertiesXML:P},null,null);}},{slot:"7,2",scriptClass:"mstrmojo.Button",alias:"cancelBtn",cssClass:"mobileconfig-Button",cssText:"margin-left: 15px;margin-right: 15px",text:mstrmojo.desc(221),onclick:function(){mstrmojo.all.confList.urlSetting.close();}},{slot:"8,0",scriptClass:"mstrmojo.Panel",cssText:"text-align:center",alias:"urlShow",bindings:{state:"(this.parent.parent.urlStr)?1:0"},children:[{scriptClass:"mstrmojo.TextArea",cssText:"width:350px;height:100px;margin-bottom:15px;cursor:default",cssClass:"greyBorder",readOnly:true,bindings:{value:"this.parent.parent.parent.urlStr"}},{scriptClass:"mstrmojo.Button",enabled:true,visible:L.isAndroid,text:"Link",cssText:"margin-bottom:15px;text-decoration:underline;color:#0000FF;font-weight: bold",onclick:function(){window.location=this.parent.parent.parent.urlStr;}}]}]},{scriptClass:"mstrmojo.Label",alias:"urlCurtain",visible:false,cssClass:"confList-disableCurtain"}]},{slot:"4,0",scriptClass:"mstrmojo.Label",alias:"disableCurtain",visible:false,cssClass:"confList-disableCurtain"}]}]});})();(function(){mstrmojo.requiresCls("mstrmojo.WidgetList","mstrmojo.WidgetTreeBuilder","mstrmojo.TreeNodeSelector");var E=false;mstrmojo.WidgetTree=mstrmojo.declare(mstrmojo.WidgetList,null,{scriptClass:"mstrmojo.WidgetTree",listBuilder:mstrmojo.WidgetTreeBuilder,listSelector:mstrmojo.TreeNodeSelector,renderOnScroll:true,itemIdField:"dssid",itemDisplayField:"n",itemIconField:"tp",itemChildrenField:"items",itemFunction:function D(L,I,J){if(!E){mstrmojo.requiresCls("mstrmojo.TreeNode");E=true;}var H=J.tree||J,K=new mstrmojo.TreeNode({data:L,state:0,parent:J,tree:H,multiSelect:J.multiSelect,text:L[J.itemDisplayField],textCssClass:H.item2textCss(L),items:L[J.itemChildrenField],itemIdField:J.itemIdField,itemDisplayField:J.itemDisplayField,itemIconField:J.itemIconField,itemChildrenField:J.itemChildrenField,itemFunction:J.itemFunction,listSelector:J.listSelector});return K;},item2textCss:function B(H){return H[this.itemIconField];},selectionParentNode:null,init:function F(H){this._super(H);this.selectionParentNode=this;this.tree=this;},clearTreeSelect:function A(){(this.selectionParentNode||this).clearSelect();},prechange:function G(H){var I=this._super(H);this.onnodechange(H);return I;},onnodechange:function C(I){if(!I){return ;}var J=mstrmojo.hash,M=this.selectionParentNode,L=I.src;if(L===M){if(J.isEmpty(L.selectedIndices)){L=this;this.selectionParentNode=this;}this.raiseEvent({name:"selectionChange",parentNode:L,parentNodeWas:M,added:I.added,removed:I.removed});}else{if(I.added&&I.added.length){var K=[];if(!J.isEmpty(M.selectedIndices)){K=mstrmojo.hash.keyarray(M.selectedIndices,true);M.clearSelect();}this.selectionParentNode=L;this.raiseEvent({name:"selectionChange",parentNode:L,parentNodeWas:M,added:I.added,removed:K});}else{}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Button","mstrmojo.HBox","mstrmojo.Box","mstrmojo.DropDownButton","mstrmojo.Popup","mstrmojo.WidgetTree","mstrmojo.ObjectBrowserDataProvider","mstrmojo.OBList","mstrmojo.FishEyeContainer","mstrmojo.SearchBox2","mstrmojo.Booklet","mstrmojo.IncFetch");var A=mstrmojo.meta.TP,K="5CECE58CC1D549F890EB61C4DB2156A3",H="E0CCB9CF22104A489CBE78D974AFD19E",B=function(R,S){var Q=mstrmojo.insert({scriptClass:"mstrmojo.OBList",items:S});Q.render();return Q;},D={success:function(S){var T=this.ob,R=S.items,Q=T.pageCache[T.currentPage]._w;Q.set("items",R);this.ob=null;this.item=null;window.clearTimeout(T._btm);T.booklet.set("waiting",false);},failure:function(Q){window.alert(Q.getResponseHeader("X-MSTR-TaskFailureMsg"));this.ob.booklet.set("waiting",false);}},C=function(T,S,Q){var U=O(T,S,false),R=!U;U=U||O(T,S,true);if(!U){T._btm=window.setTimeout(function(){T.booklet.set("waiting",true);},300);Q.ob=T;Q.item=S;T.dataProvider.fetchFolderContents(T,S,Q);}else{G(T,S,U,true,R);}},N=function(R,S,T,Q){C(R,{fid:R.pageCache[R.currentPage].did,blockBegin:S,searchPattern:T,recursive:Q},D);},I=function(R,S){var Q=S.anc;Q=Q&&Q.items;Q=Q&&Q[0];Q=Q&&Q.items;R.set("canGoUp",!(!S.pf||!Q));},G=function(U,T,V,S,R){delete U._btm;var Q;if(!S){Q=B(this,V.items);Q.attachEventListener("change",U.id,"navigate");}else{Q=V._w;}U.booklet.turn(Q,!R);if(!S){E(U,T,Q,V);}U.set("currentFolder",V);U.set("currentPage",U.currentPage+(R?-1:1));I(U,V);},F={success:function(R){var S=this.ob;if(S){window.clearTimeout(S._btm);if(!R.items){R.items=[{did:"empty",n:"("+mstrmojo.desc(2210)+")",t:"e"}];}var Q=function T(U){var X=U.length;for(var V=0;V<X;V++){var W=U[V];if(W.did===K||W.did===H){W.n=(W.did===K)?mstrmojo.desc(8112):mstrmojo.desc(9277);}if(W.items){Q(W.items);}}};if(R.did===K||R.did===H){R.n=(R.did===K)?mstrmojo.desc(8112):mstrmojo.desc(9277);if(R.anc&&R.anc.items){Q(R.anc.items);}}G(S,this.item,R,false,false);this.ob=null;this.item=null;}},failure:function(Q){this.ob.booklet.set("waiting",false);if(this.ob.onError){this.ob.onError(Q);}else{window.alert(Q.getResponseHeader("X-MSTR-TaskFailureMsg"));}}},E=function(U,T,S,V){var W=U.currentPage+1;var R=U.pageCache.length;for(var Q=W;Q<R;Q++){U.pageCache[Q]._w.destroy();delete U.pageCache[Q].items;}U.pageCache=U.pageCache.slice(0,W);V._w=S;V._k=T.k;U.pageCache[W]=V;U.cacheChange();},O=function(T,S,R){var U=T.currentPage+(R?-1:1);if(T.pageCache.length>U&&U>=0){var Q=T.pageCache[U];if(Q._k==S.k){return Q;}}return false;},M=function(S){var R=S.pageCache.length;for(var Q=0;Q<R;Q++){S.pageCache[Q]._w.destroy();}S.pageCache=[];S.currentPage=-1;S.cacheChange();},J=function(S,R){if(R&&R.acg==33){return ;}var Q={};if(R){Q.k=R.did;Q.fid=R.did;}else{if(S.rootFolderID){Q.k=S.rootFolderID;Q.fid=S.rootFolderID;}else{if(S.rootFolderType){Q.k=S.rootFolderType;Q.fty=S.rootFolderType;}else{if(S.folderLinksContextId){Q.k=S.folderLinksContextId;}}}}C(S,Q,F);},P=function(V,Q,S){if(!S){return Q;}var T=V.showCompletePath,X=Q[0],U,R;while(X){for(var W=0;W<S.length;){if(X.did==S[W].did){S.splice(W,1);X._isSc=true;}else{W++;}}R=X;X._open=true;X=X.items;X=X&&X[0];if(!X){R.lastLeaf=true;}}if(!T){X=Q[0];while(X){if(X._isSc){Q[0]=X;break;}X=X.items;X=X&&X[0];}}return Q.concat(S);},L=function(R,Q,S){R._naviInfo=P(R,Q,S);};mstrmojo.ObjectBrowser=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.ObjectBrowser",rootFolderType:null,rootFolderID:null,sId:null,closeOnSelect:true,browsableTypes:null,includeObjectDesc:false,closeable:true,fishEyeVisible:false,searchVisible:true,currentFolder:null,pageCache:[],currentPage:-1,blockCount:50,canGoUp:true,folderLinksContextId:null,showCompletePath:true,dataProvider:mstrmojo.insert({scriptClass:"mstrmojo.ObjectBrowserDataProvider"}),markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},children:[{scriptClass:"mstrmojo.HBox",alias:"titleBar",cssClass:"mstrmojo-OB-titleTable",children:[{alias:"title",scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-FormatEditor-DropDownButton",cssText:"margin:0px;",popupRef:{scriptClass:"mstrmojo.Popup",contentNodeCssClass:"mstrmojo-OBNavigatorPopup",cssText:"position:relative;",slot:"popupNode",locksHover:true,onOpen:function(){var Q=this.opener.parent.parent,S=this.tree,R=Q._naviInfo;if(S.items!=R){S._pup=this;this.ob=Q;S.set("items",R);}},children:[{alias:"tree",scriptClass:"mstrmojo.WidgetTree",itemIdField:"did",itemFunction:function(T,Q,R){var S=mstrmojo.WidgetTree.prototype.itemFunction(T,Q,R);if(T._open){S.state=1;}S._ll=!!T.lastLeaf;S._pup=R._pup;S.onmousedown=function(U){if(!this._ll){var V=mstrmojo.dom.eventTarget(U.hWin,U.e);if(V==this.domNode||V==this.textNode){var W=this._pup;W.close();J(W.ob,this.data);}}};S.markupMethods.onstateChange=function(){var U=this.data.items?this.state:0;this.stateNode.className="mstrmojo-TreeNode-state "+({0:"closed",1:"opened",2:"leaf"}[U]||"closed");this.itemsContainerNode.style.display=(U===1)?"block":"none";};return S;}}]}},{alias:"upButton",scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-OBListItemIcon up",title:mstrmojo.desc(1152,"Up one level"),onclick:function(){this.parent.parent.goUp();},bindings:{enabled:"this.parent.parent.canGoUp"}},{alias:"closebtn",scriptClass:"mstrmojo.Button",iconClass:"mstrmojo-OBCloseButton",title:mstrmojo.desc(2102,"Close"),bindings:{visible:"this.parent.parent.closeable"},onclick:function(){this.parent.parent.close();}}]},{alias:"fishEye",scriptClass:"mstrmojo.FishEyeContainer",cssText:"width:100%",bindings:{visible:"this.parent.fishEyeVisible"}},{alias:"searchUpBar",scriptClass:"mstrmojo.HBox",children:[{alias:"obSearchBox",scriptClass:"mstrmojo.SearchBox2",cssClass:"mstrmojo-charcoalbox mstrmojo-dxsprite",cssText:"margin: 5px 0; ",width:"105px",contentWidget:mstrmojo.all.obList,taskId:"searchMetadata",searchIncFetch:true,enableMatchCase:false,bindings:{quickSearch:"this.parent.parent.quickSearch"},preFetch:function(){this.objectTypes=(this.parent.parent.browsableTypes)?this.parent.parent.browsableTypes:this.objectTypes;this.parent.parent.booklet.set("waiting",true);},postFetch:function(){this.parent.parent.booklet.set("waiting",false);}}],bindings:{visible:"this.parent.searchVisible"}},{scriptClass:"mstrmojo.Booklet",cssText:"width:100%;background-color:white;",alias:"booklet"},{alias:"obIncFetch",scriptClass:"mstrmojo.IncFetch",height:"17px",cssText:"height:0px;overflow:hidden;",visible:false,np:0,cp:0,ds:{f:mstrmojo.desc(4046),p:mstrmojo.desc(1058),n:mstrmojo.desc(1059),l:mstrmojo.desc(4049),pgs:mstrmojo.desc(5972),gt:mstrmojo.desc(5878),v:mstrmojo.desc(6079)},onvisibleChange:function(R){var T=parseInt(this.height,10),Q=this.np>1,S={target:this.domNode,props:{height:{start:(Q?0:T),stop:(Q?T:0),suffix:"px"}},onEnd:function(){if(Q){this.target.style.overflow="visible";}}},U=new mstrmojo.fx.AnimateProp(S);this.domNode.style.overflow="hidden";U.play();},onifsChange:function(Q){var R=this.np;mstrmojo.hash.copy(Q.value,this);if(this.np>1){this.children=null;this.refresh();}if(R<=1&&this.np>1||R>1&&this.np<=1||R===0&&this.np>0){this.set("visible",this.np>1);}this.cssText="";}}],postBuildRendering:function(){if(this._super){this._super();}if(this.fishEye&&this.fishEyeVisible){this.fishEye.attachEventListener("selectedIndexChange",this.id,"onFishEyeChange");}var S=this.searchUpBar;if(S&&S.obSearchBox&&this.searchVisible){this.obSearchBox=this.searchUpBar.obSearchBox;this.obSearchBox.attachEventListener("itemsChange",this.id,"onSearchItemsChange");var Q=this.obSearchBox.contentWidget||this.obSearchBox;Q.attachEventListener("ifsChange",this.id,function(T){this.obIncFetch.set("ifs",T.value);});}if(this.obIncFetch){var R=this.obIncFetch;R.attachEventListener("fetch",this.id,function(T){R.cp=T.v;R.children=null;R.refresh();N(this,(T.v-1)*this.blockCount+1,this.searchVisible?this.obSearchBox.inputNode.value:"",1);});}},onSearchItemsChange:function(R){var S=R.value,Q=this.pageCache[this.currentPage]._w;if(!S||S.length==0){S=[{did:"empty",n:"("+mstrmojo.desc(2210)+")",t:"e"}];}Q.set("items",S);},navigate:function(Q){var R=Q&&Q.src.selectedItem;if(R&&R.did=="empty"){return ;}if(!R||R[A]==8){J(this,R);}else{if(R){this.select(R);}}},onFishEyeChange:function(Q){this.goToPage(Q.value);},goToPage:function(Q){if(Q<this.pageCache.length&&Q!=this.currentPage){var S=Q>this.currentPage,R=this.pageCache[Q];this.set("currentPage",Q);this.booklet.turn(R._w,S);this.set("currentFolder",R);I(this,R);}},oncurrentPageChange:function(Q){if(this.fishEye){this.fishEye.setSelectedIndex(Q.value);}var R=this.pageCache[this.currentPage];this.titleBar.title.set("text",mstrmojo.string.encodeHtmlString(R.n));if(this.searchVisible&&this.obSearchBox){this.obSearchBox.set("rootCacheItems",R.items||[]);this.obSearchBox.set("totalSize",R.sz);this.obSearchBox.set("rootID",R.did);this.obSearchBox.clearSearch();}if(this.obIncFetch){this.obIncFetch.set("ifs",{np:Math.floor(R.sz/R.bc)+((R.sz%R.bc>0)?1:0),cp:Math.floor(R.bb/R.bc)+((R.bb%R.bc>0)?1:0)});}},cacheChange:function(){if(this.fishEye&&this.fishEyeVisible){this.fishEye.setItems(this.pageCache);}},browse:function(R){for(var Q in R){this[Q]=R[Q];}if(this.searchVisible&&this.obSearchBox){this.obSearchBox.clear();}M(this);this.navigate();},close:function(){var R=this.ctx||this,Q=R.onCloseCB;if(Q){Q[0][Q[1]]();}R.set("visible",false);},select:function(R){var Q=this.onSelectCB;if(Q){Q[0][Q[1]](R);}if(this.closeOnSelect){this.close();}},goUp:function(){if(this.canGoUp){J(this,{did:this.currentFolder.pf});}},oncurrentFolderChange:function(Q){var R=Q.value;L(this,R.anc.items,R.sc);},refreshContent:function(Q){N(this,Q);},onError:null,onheightChange:function(){var Q=["titleBar","fishEye","searchUpBar","obIncFetch"],T=0,S=0;for(var R in Q){T+=parseInt(this[Q[R]].domNode.offsetHeight);}S=parseInt(this.height)-T;this.booklet.set("height",S+"px");}});})();(function(){mstrmojo.requiresCls("mstrmojo.Table","mstrmojo.HBox","mstrmojo.Label","mstrmojo.Button","mstrmojo.confList");mstrmojo.mobileListView=mstrmojo.insert({scriptClass:"mstrmojo.Table",id:"mobileListView",placeholder:"mobileConfigView",cssText:"border: 1px solid #808080;width:100%;border-collapse: collapse;padding-left:5px",layout:[{cssClass:"mstrPanelTitleBar",cells:[{}]},{cells:[{}]}],children:[{slot:"0,0",scriptClass:"mstrmojo.HBox",cssText:"width:100%",children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrPanelTitle",text:mstrmojo.desc(7764)},{scriptClass:"mstrmojo.Widget",markupString:'<a href="{@helpRef}" style="float:right" target="_new"><img class="mstrIcon-btn mstrIcon-btnHelp" src="../images/1ptrans.gif"></img></a>',title:mstrmojo.desc(1143),helpRef:(mstrApp.helpUrl||"../help/")+"MobileServer/WebHelp/Lang_"+mstrApp.localeId+"/mobileserver.htm#Configuring_MicroStrategy_Mobile.htm"}]},{slot:"1,0",scriptClass:"mstrmojo.HBox",children:[mstrmojo.all.confListContainer]}]}).render();})();(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.mobileListView");mstrmojo.insert({id:"confIndex",scriptClass:"mstrmojo.Obj",_set_children:function(B,A){this.children=A;mstrmojo.all.confListTable.set("model",this.children);return true;},refreshData:function(){var A=this;mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(B){delete A.children;if(B&&B.cnfs.length!==0){A.set("children",B.cnfs);}else{A.set("children",undefined);}},failure:function(B){delete A.children;A.set("children",undefined);mstrmojo.mobileConfigUtil.showErrorMsgBox(B.getResponseHeader("X-MSTR-TaskFailureMsg"));}},{taskId:"getMobileConfigurationIndex",taskEnv:"xhr"},false,null);},postCreate:function(){this.refreshData();}});})();