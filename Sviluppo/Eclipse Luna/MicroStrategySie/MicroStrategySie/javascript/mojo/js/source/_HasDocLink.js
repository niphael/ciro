(function(){mstrmojo.requiresCls("mstrmojo.string","mstrmojo.css");mstrmojo._HasDocLink=mstrmojo.provide("mstrmojo._HasDocLink",{_mixinName:"mstrmojo._HasDocLink",url:"",target:"",linkEnabled:true,ifw:"",update:function update(node){var d=node.defn;this.url=node.data.url||d.url;if(d.target){this.target=d.target;}if(d.ifw){this.ifw=d.ifw;}this._super(node);},postBuildRendering:function postBuildRendering(){if(this.url||this.ifw){mstrmojo.css.addClass(this.domNode,"hasLink");}var doc=this.controller.view,layout=doc&&doc.getCurrentLayout();if(layout&&layout.addLinkInfo){layout.addLinkInfo(this.id,{url:this.url,target:this.target,src:this});}return this._super();},setLinkEnabled:function setLinkEnabled(value){this.linkEnabled=value;var node=this.domNode;if(!node){return ;}var childNodes=node.childNodes,lastChild=childNodes[childNodes.length-1],maskId=this.id+"_mask",mask=(lastChild.id===maskId)?lastChild:null;if(value){if(mask){node.removeChild(mask);delete this._mask;}}else{if(!mask){mask=document.createElement("div");mask.className="mstrmojo-DocLinkMask";mask.id=maskId;mask.innerHTML="&nbsp;";node.appendChild(mask);}}},onclick:function(){if(this.linkEnabled){var drillLinkItems=this.drillLinkItems,defaultLink=drillLinkItems&&drillLinkItems[0];url=this.url||(defaultLink&&defaultLink.url);if(this.ifw){this.model.showInfoWin(this.ifw,(this.getAnchor&&this.getAnchor())||this.domNode,"v",true);}else{if(url){this.model.executeLink(url,this.target,this);}}}}});}());