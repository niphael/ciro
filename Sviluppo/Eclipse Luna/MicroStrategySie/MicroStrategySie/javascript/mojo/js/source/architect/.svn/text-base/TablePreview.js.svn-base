(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.Label","mstrmojo.WidgetListMapper");mstrmojo.Architect.TablePreview=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.Architect.TablePreview",cssClass:"mstrmojo-Architect-TablePreview",help:null,zIndex:100,draggable:false,children:[{scriptClass:"mstrmojo.DataGrid",alias:"dataview",cssClass:"mstrmojo-Architect-TablePreviewGrid",cssText:"position:relative;background-color:white; border:0px solid #C6C6C6; cursor:pointer;",itemDisplayField:20,columns:[]}],onOpen:function(evt){var mdl=mstrmojo.all.ArchModel,me=this;var cb={success:function(res){var grd=me.dataview;grd.columns=[];var rows=res[0].length;var table=[];for(var i=0;i<rows;i++){table[i]=[];for(var lCol=1;lCol<res.length+1;lCol++){table[i][lCol]=res[lCol-1][i];}}for(var lCol=1;lCol<res.length+1;lCol++){grd.columns[lCol-1]={dataField:lCol,headerText:res[lCol-1][0],colCss:"uidCol"};}table.shift();grd.items=table;grd.render();},failure:function(res){mstrmojo.alert(res.getResponseHeader("X-MSTR-TaskFailureMsg"));}};mdl.getTableSampleData(this.tbl,cb);}});})();