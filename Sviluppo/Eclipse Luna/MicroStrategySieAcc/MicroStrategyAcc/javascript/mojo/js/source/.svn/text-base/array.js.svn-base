(function(){mstrmojo.array=mstrmojo.provide("mstrmojo.array",{indexOf:function indexOf(arr,item){var i=0,len=(arr&&arr.length)||0;for(;i<len;i++){if(arr[i]==item){return i;}}return -1;},indexOfMulti:function idxOf(arr,items){if(!items){return{indices:null,map:{},count:0};}var len=items.length,idxs=new Array(len),map={},c=0;for(var i=0,j=(arr&&arr.length)||0;i<j;i++){var a=arr[i];for(var k=0;k<len;k++){if(items[k]===a){idxs[k]=i;map[k]=i;c++;break;}}}return{indices:idxs,map:map,count:c};},forEach:function forEach(arr,f,scope){for(var i=0,len=(arr&&arr.length)||0;i<len;i++){if(scope){if(f.call(scope,arr[i],i,arr)===false){break;}}else{if(f(arr[i],i,arr)===false){break;}}}},filter:function filter(arr,f,config){var result=[],n=0;for(var i=0,len=arr&&arr.length||0;i<len;i++){if(f(arr[i])){result[n]=arr[i];n++;if(config&&config.max&&(n>=config.max)){break;}}}return result;},find:function find(arr,n,v){for(var i=0,len=arr&&arr.length||0;i<len;i++){var obj=arr[i];if(obj&&obj[n]==v){return i;}}return -1;},findBin:function fBin(arr,item,p,len){var h=len?len:arr.length,l=-1,m,v=item[p];while(h-l>1){if(arr[m=h+l>>1][p]<v){l=m;}else{h=m;}}return arr[h][p]===v?h:-1;},search:function search(o,v,p){var h=o.length,l=-1,m,val=v.toUpperCase(),len=v.length;while(h-l>1){if(o[m=h+l>>1][p].substr(0,len).toUpperCase()<val){l=m;}else{h=m;}}return h;},findMulti:function idxOf(arr,n,items){if(!items){return{indices:null,map:{},count:0};}var len=items.length,idxs=[],map={},c=0;for(var i=0,j=(arr&&arr.length)||0;i<j;i++){var a=arr[i][n];for(var k=0;k<len;k++){if(items[k][n]===a){idxs[k]=i;map[k]=i;c++;break;}}}return{indices:idxs,map:map,count:c};},removeItem:function rmI(arr,item){var i=this.indexOf(arr,item);if(i>-1){this.removeIndices(arr,i,1);}return i;},removeItems:function rmIts(arr,n,items){var ret=this.findMulti(arr,n,items);if(ret.count){var idxs=ret.indices.concat().sort(this.numSorter).slice(0,ret.count);for(var i=idxs.length-1;i>-1;i--){arr.splice(idxs[i],1);}}},numSorter:function ns(a,b){return Number(a)-Number(b);},stringSorter:function ss(a,b){var A=a.toLowerCase();var B=b.toLowerCase();if(A<B){return -1;}else{if(A>B){return 1;}else{return 0;}}},removeIndices:function removeIds(arr,start,count){arr.splice(start,count);},insert:function inst(arr,idx,items){if(!arr){arr=[];}if(idx==null){idx=arr.length;}Array.prototype.splice.apply(arr,[idx,0].concat(items));return arr;},hash:function hs(arr){var h={};for(var i=0,len=(arr&&arr.length)||0;i<len;i++){h[arr[i]]=true;}return h;},get:function gt(arr,idxs){if(!idxs){return null;}var ret=[];for(var i=0,len=idxs.length;i<len;i++){ret[i]=arr[idxs[i]];}return ret;},deepSortArr:function deepSortArr(arr,prop,idx,asc){return arr.sort(function(a,b){return(!asc?(a[idx][prop]<=b[idx][prop]):(a[idx][prop]>b[idx][prop]))?-1:1;});}});})();