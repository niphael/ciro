(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.dom","mstrmojo.hash","mstrmojo.css");var $DOM=mstrmojo.dom,$HASH=mstrmojo.hash,$CSS=mstrmojo.css;mstrmojo.Button=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.Button",iconClass:"",innerIconClass:"",title:"",text:"&nbsp;",enabled:true,selected:false,cssDisplay:"block",markupString:'<div id="{@id}" class="mstrmojo-Button {@cssClass} {@iconClass}" title="{@title}" style="{@cssText}" mstrAttach:touchstart,click,mousedown,mouseup><div class="mstrmojo-Button-text {@innerIconClass}"></div></div>',markupSlots:{textNode:function(){return this.domNode.firstChild;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?this.cssDisplay:"none";},onenabledChange:function(){$CSS[this.enabled?"removeClass":"addClass"](this.domNode,["disabled"]);},onselectedChange:function(){$CSS[this.selected?"addClass":"removeClass"](this.domNode,["selected"]);},ontextChange:function(){this.textNode.innerHTML=this.text;},onwidthChange:function(){var w=this.width;if(w){this.domNode.style.width=w;}}},oniconClassChange:function oniconClassChange(evt){if(this.hasRendered&&this.domNode){var old=evt.valueWas,v=evt.value;this.domNode.className=this.domNode.className.replace(old,"")+" "+v;}},onclick:mstrmojo.emptyFn,ontouchend:function ontouchend(evt){this.onclick(evt);}});mstrmojo.Button.newIconButton=function(t,c,fn,b,ps){var btn={scriptClass:"mstrmojo.Button",title:t,cssClass:c,text:"",onclick:fn};if(b){btn.bindings=b;}$HASH.copy(ps,btn);return btn;};mstrmojo.Button.newInteractiveButton=function(t,fn,haloColor,ps){var btn={scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-InteractiveButton",text:t,glowClass:"glow"};if(fn){btn.onclick=fn;}if(haloColor&&($DOM.isFF||$DOM.isWK)){$HASH.copy({onmousedown:function(){$CSS.applyShadow(this.domNode,0,0,10,haloColor);},onmouseup:function(){$CSS.removeShadow(this.domNode);}},btn);}$HASH.copy(ps,btn);return btn;};}());