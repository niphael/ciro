(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.Container","mstrmojo._Formattable","mstrmojo.EnumRWUnitType");var HTML_CONTAINER=mstrmojo.EnumRWUnitType.HTMLCONTAINER;mstrmojo.DocTextfield=mstrmojo.declare(mstrmojo.Container,[mstrmojo._Formattable],{scriptClass:"mstrmojo.DocTextfield",markupString:'<div id="{@id}" class="mstrmojo-DocTextfield {@cssClass}" title="{@tooltip}" style="{@domNodeCssText}"><div class="mstrmojo-DocTextfield-valueNode" style="{@valueNodeCssText}" mstrAttach:click >{@v}</div>{@buttonNodeMarkup}</div>',markupSlots:{valueNode:function(){return this.domNode.firstChild;}},formatHandlers:{domNode:["T","z-index"],valueNode:["D","B","F","P","background-color","fx","text-align","white-space","overflow"]},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod},update:function update(node){var d=node.data,v=d.v||"";if(node.defn.t===HTML_CONTAINER){var div=document.createElement("div");div.innerHTML="<textarea>"+v+"</textarea>";v='<div style="display:none">&nbsp;</div>'+div.firstChild.value;div=null;}this.v=v;if(this.thresholdId||d.tid){delete this.fmts;}this.thresholdId=d.tid;this.set("visible",!node.data.hidden);if(this._super){this._super(node);}},postBuildRendering:function postBuildRendering(){var $D=mstrmojo.dom,f=this.getFormats(),rotateValue=f.fx&&f.fx.rt,i,len;if(rotateValue&&!$D.isIE&&$D.supports($D.cssFeatures.TEXT_ROTATION)){var dn=this.domNode;switch(rotateValue){case 1:dn.style.left=(parseInt(f.left,10)+dn.offsetHeight)+"px";break;case 3:dn.style.top=(parseInt(f.top,10)+dn.offsetWidth)+"px";break;}}if(this.defn.t===HTML_CONTAINER){var scripts=this.domNode.getElementsByTagName("script");for(i=0,len=scripts.length;i<len;i++){eval(scripts[i].innerHTML);}}return this._super();},getAnchor:function getAnchor(){return this.valueNode;}});}());