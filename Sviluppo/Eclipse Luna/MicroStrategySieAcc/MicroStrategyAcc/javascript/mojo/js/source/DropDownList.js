(function(){mstrmojo.requiresCls("mstrmojo.Widget");mstrmojo.DropDownList=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.DropDownList",title:"",selectCssClass:"",tooltip:"",cssDisplay:"inline",value:"",unset:false,markupString:'<span id="{@id}"  class="mstrmojo-DropDownList {@cssClass}">{@title}<select id="{@id}_select" class="mstrmojo-DropDownList-select {@selectCssClass}"  style="{@cssText}" title="{@tooltip}"onchange="mstrmojo.all[\'{@id}\'].set(\'selected\', this.options[this.selectedIndex].value);">{@renderedOptions}</select><div class = "strikeoutContainer"></div></span>',markupSlots:{selectNode:function(){return this.domNode.getElementsByTagName("select")[0];}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?this.cssDisplay:"none";},onidxChange:function(){var s=this.domNode.getElementsByTagName("select");if(s&&s.length){s[0].selectedIndex=this.idx;}},onvalueChange:function(evt){var sn=this.selectNode,ops=sn.options,v=this.value,idx;for(var o=0;o<ops.length;o++){var b=ops[o].value==v;if(b){idx=o;if(v!=""){mstrmojo.css.toggleClass(ops[o],"selected",b);}break;}}if(sn.length>0&&idx>0&&this.unset){sn.remove(0);idx--;this.unset=false;}this.set("idx",idx);},onwidthChange:function(){if(this.width>=0){this.selectNode.style.width=this.width+"px";}}},onselectedChange:function(){var sn=this.selectNode;if(sn){this.set("value",sn.value);}},preBuildRendering:function preBuildRendering(){var out=[];var x=-1;if(this.unset){this.idx=0;}var e=this.options;for(var i=0,cnt=(e&&e.length)||0;i<cnt;i++){var o=e[i];var s="";if(this.idx==i){this.selected=o.v;this.value=o.v;s=' selected="true" class="selected"';}out[++x]='<option value="'+o.v+'"'+s+">"+o.n;}this.renderedOptions=out.join("</option>");return true;}});})();