(function(){mstrmojo.requiresCls("mstrmojo.DocSelectorViewFactory","mstrmojo.android.DropDownList","mstrmojo.android.selectors.CheckList","mstrmojo.android.selectors.ListBox","mstrmojo.android.selectors.LinkBar","mstrmojo.android.selectors.ButtonBar","mstrmojo.android.selectors.Slider","mstrmojo.array");var $STYLES=mstrmojo.DocSelectorViewFactory.STYLES;var widgetMap={};widgetMap[$STYLES.RADIO]="CheckList";widgetMap[$STYLES.CHECKBOX]="CheckList";widgetMap[$STYLES.LIST]="ListBox";widgetMap[$STYLES.LINK]="LinkBar";widgetMap[$STYLES.BUTTON]="ButtonBar";widgetMap[$STYLES.SCROLLER]="Slider";widgetMap["9"]="LinkBar";mstrmojo.android.DocSelectorViewFactory=mstrmojo.declare(mstrmojo.DocSelectorViewFactory,null,{scriptClass:"mstrmojo.android.DocSelectorViewFactory",isSelectorSupported:function isSelectorSupported(selectorContainer){var defn=selectorContainer.node.defn;if(defn.ct==="3"){var targetKey=selectorContainer.tks;if(targetKey&&selectorContainer.defn.dk){selectorContainer.model.getLayoutUnitDefn(targetKey,defn._lkz).dk=true;return false;}}return true;},newPulldown:function newPulldown(selectorContainer){return new mstrmojo.android.DropDownList({name:selectorContainer.node.defn.n,postvalueChange:function(){if(!selectorContainer._inSyncPhase){selectorContainer.showInfoWin();selectorContainer.selectorControlChange(this);}}});},updateControlStyles:function updateControlStyles(selectorContainer){var fmts=selectorContainer.getFormats(),selectorStyle=selectorContainer.style,ctrl=selectorContainer.children&&selectorContainer.children[0];if(!ctrl){return ;}if(fmts){var height=fmts.height,width=fmts.width;if(height!==undefined){ctrl.height=height;}if(width!==undefined){ctrl.width=width;}if(selectorStyle===$STYLES.LINK){var selectedColor=selectorContainer.defn.ssc;if(selectedColor){ctrl.selColor=selectedColor;}}}this._super(selectorContainer);},attachTargetListeners:function attachTargetListeners(selectorContainer){this._super(selectorContainer);if(selectorContainer.defn.ct==="3"&&this.isSelectorSupported(selectorContainer)){if(!selectorContainer._panelEvtListener){var panelStack=selectorContainer.model.getUnitInstance(selectorContainer.tks,1);if(panelStack){selectorContainer._panelEvtListener=panelStack.attachEventListener("panelSelected",selectorContainer.id,function(evt){this._inSyncPhase=true;this.content.singleSelectByField(evt.key,"v");this._inSyncPhase=false;});}}}},getSelectorClass:function getSelectorClass(selectorStyle,isHoriz){var cls=widgetMap[selectorStyle];return(cls&&"android.selectors."+cls)||this._super(selectorStyle,isHoriz);},getSelectorCtrlConfig:function getSelectorCtrlConfig(selectorContainer,selectorStyle,defn,elements){if(selectorStyle===9){if(elements&&elements.length===0){elements.push({n:"(All)",t:14,v:"u;"});}selectorContainer.style=selectorStyle=$STYLES.LINK;}return this._super(selectorContainer,selectorStyle,defn,elements);}});}());