(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.ObjectBrowser","mstrmojo.HBox","mstrmojo.Label","mstrmojo.HTMLButton","mstrmojo.txEditor.ControlPropsPanel","mstrmojo.txEditor.ReportSelector","mstrmojo.txEditor.FieldsMapTable","mstrmojo.txEditor.ButtonsBar","mstrmojo.txEditor.AdvancedSetting","mstrmojo.txEditor.EditorModel");var _disableCurtain={scriptClass:"mstrmojo.Label",alias:"curtain",slot:"editorNode",cssClass:"mstrmojo-TransactionEditor-disableCurtain",bindings:{visible:"mstrmojo.all.teModel.saving"},onvisibleChange:function(){mstrmojo.css.toggleClass(this.domNode,"saving",mstrmojo.all.teModel.saving);}};var _txRptSelector={scriptClass:"mstrmojo.Editor",title:mstrmojo.desc(8264),cssClass:"mstrmojo-TransactionPicker",help:"Select_Transaction_dialog_box.htm",model:null,zIndex:112,teEditor:null,onOpen:function(){this.objectBrowser.browse({browsableTypes:"778,8",onSelectCB:[this,"onSelect"]});this.objectBrowser.obSearchBox.objectTypes="778,8";this.objectBrowser.set("visible",true);},onClose:function(isOK){if(isOK&&this.txRpt){this.opener.model.setTxReport(this.txRpt.did,this.txRpt.n,true);this.opener.open();}this.txRpt=null;},onSelect:function(item){if(item.did){this.set("txRpt",item);}},children:[{alias:"objectBrowser",scriptClass:"mstrmojo.ObjectBrowser",showCompletePath:false,folderLinksContextId:14,closeOnSelect:false,useAnimate:true,closeable:false},{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBox",slot:"buttonNode",children:[{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(1442),bindings:{enabled:"this.parent.parent.txRpt != null"},onclick:function(){this.parent.parent.close(true);}},{scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrmojo-Editor-button",text:mstrmojo.desc(221),onclick:function(){this.parent.parent.close();}}]}]};mstrmojo.txEditor.TransactionEditor={id:"mstrTE",scriptClass:"mstrmojo.Editor",title:mstrmojo.desc(8297),zIndex:112,cssClass:"mstrmojo-TransactionEditor",help:"configure_transactions_dialog_box.htm",isNew:false,txRptSelector:_txRptSelector,open:function(){var m=this.model;if(!m.rwTxs.txRptId){if(!this.txRptSelector.domNode){this.txRptSelector=mstrmojo.insert(this.txRptSelector);}this.txRptSelector.open(this);}else{mstrmojo.Editor.prototype.open.apply(this);}},onClose:function(){this.model.rwTxs=null;this.model.currentTxInput=null;mstrmojo.all.ctrlPropPanel.show=false;this.model.set("txRpt",null);},postCreate:function(){var _model={scriptClass:"mstrmojo.txEditor.EditorModel",id:"teModel"},_ctrlPropsPanel={scriptClass:"mstrmojo.txEditor.ControlPropsPanel",id:"ctrlPropPanel"};this.model=mstrmojo.insert(_model);mstrmojo.insert(_ctrlPropsPanel).render();},children:[{scriptClass:"mstrmojo.txEditor.ReportSelector",alias:"txRpt"},{scriptClass:"mstrmojo.txEditor.FieldsMapTable",alias:"txFmt"},{scriptClass:"mstrmojo.txEditor.ButtonsBar",alias:"txBtn"},{scriptClass:"mstrmojo.txEditor.AdvancedSetting",alias:"txAds"},_disableCurtain]};}());